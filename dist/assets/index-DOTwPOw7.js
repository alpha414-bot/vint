function TC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var NS={},xC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof NS<"u"?NS:typeof self<"u"?self:{};function sm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IC={exports:{}},om={},CC={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch=Symbol.for("react.element"),cF=Symbol.for("react.portal"),dF=Symbol.for("react.fragment"),hF=Symbol.for("react.strict_mode"),fF=Symbol.for("react.profiler"),pF=Symbol.for("react.provider"),gF=Symbol.for("react.context"),mF=Symbol.for("react.forward_ref"),vF=Symbol.for("react.suspense"),yF=Symbol.for("react.memo"),_F=Symbol.for("react.lazy"),OS=Symbol.iterator;function wF(t){return t===null||typeof t!="object"?null:(t=OS&&t[OS]||t["@@iterator"],typeof t=="function"?t:null)}var AC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PC=Object.assign,RC={};function Gu(t,e,n){this.props=t,this.context=e,this.refs=RC,this.updater=n||AC}Gu.prototype.isReactComponent={};Gu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bC(){}bC.prototype=Gu.prototype;function O_(t,e,n){this.props=t,this.context=e,this.refs=RC,this.updater=n||AC}var D_=O_.prototype=new bC;D_.constructor=O_;PC(D_,Gu.prototype);D_.isPureReactComponent=!0;var DS=Array.isArray,kC=Object.prototype.hasOwnProperty,L_={current:null},NC={key:!0,ref:!0,__self:!0,__source:!0};function OC(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)kC.call(e,r)&&!NC.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:ch,type:t,key:s,ref:a,props:i,_owner:L_.current}}function EF(t,e){return{$$typeof:ch,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function M_(t){return typeof t=="object"&&t!==null&&t.$$typeof===ch}function SF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var LS=/\/+/g;function ny(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SF(""+t.key):e.toString(36)}function yp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ch:case cF:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+ny(a,0):r,DS(i)?(n="",t!=null&&(n=t.replace(LS,"$&/")+"/"),yp(i,e,n,"",function(h){return h})):i!=null&&(M_(i)&&(i=EF(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(LS,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",DS(t))for(var u=0;u<t.length;u++){s=t[u];var c=r+ny(s,u);a+=yp(s,e,n,c,i)}else if(c=wF(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=r+ny(s,u++),a+=yp(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Uf(t,e,n){if(t==null)return t;var r=[],i=0;return yp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function TF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cr={current:null},_p={transition:null},xF={ReactCurrentDispatcher:Cr,ReactCurrentBatchConfig:_p,ReactCurrentOwner:L_};function DC(){throw Error("act(...) is not supported in production builds of React.")}dt.Children={map:Uf,forEach:function(t,e,n){Uf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Uf(t,function(){e++}),e},toArray:function(t){return Uf(t,function(e){return e})||[]},only:function(t){if(!M_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};dt.Component=Gu;dt.Fragment=dF;dt.Profiler=fF;dt.PureComponent=O_;dt.StrictMode=hF;dt.Suspense=vF;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xF;dt.act=DC;dt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=PC({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=L_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)kC.call(e,c)&&!NC.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:ch,type:t.type,key:i,ref:s,props:r,_owner:a}};dt.createContext=function(t){return t={$$typeof:gF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pF,_context:t},t.Consumer=t};dt.createElement=OC;dt.createFactory=function(t){var e=OC.bind(null,t);return e.type=t,e};dt.createRef=function(){return{current:null}};dt.forwardRef=function(t){return{$$typeof:mF,render:t}};dt.isValidElement=M_;dt.lazy=function(t){return{$$typeof:_F,_payload:{_status:-1,_result:t},_init:TF}};dt.memo=function(t,e){return{$$typeof:yF,type:t,compare:e===void 0?null:e}};dt.startTransition=function(t){var e=_p.transition;_p.transition={};try{t()}finally{_p.transition=e}};dt.unstable_act=DC;dt.useCallback=function(t,e){return Cr.current.useCallback(t,e)};dt.useContext=function(t){return Cr.current.useContext(t)};dt.useDebugValue=function(){};dt.useDeferredValue=function(t){return Cr.current.useDeferredValue(t)};dt.useEffect=function(t,e){return Cr.current.useEffect(t,e)};dt.useId=function(){return Cr.current.useId()};dt.useImperativeHandle=function(t,e,n){return Cr.current.useImperativeHandle(t,e,n)};dt.useInsertionEffect=function(t,e){return Cr.current.useInsertionEffect(t,e)};dt.useLayoutEffect=function(t,e){return Cr.current.useLayoutEffect(t,e)};dt.useMemo=function(t,e){return Cr.current.useMemo(t,e)};dt.useReducer=function(t,e,n){return Cr.current.useReducer(t,e,n)};dt.useRef=function(t){return Cr.current.useRef(t)};dt.useState=function(t){return Cr.current.useState(t)};dt.useSyncExternalStore=function(t,e,n){return Cr.current.useSyncExternalStore(t,e,n)};dt.useTransition=function(){return Cr.current.useTransition()};dt.version="18.3.1";CC.exports=dt;var W=CC.exports;const we=sm(W),IF=TC({__proto__:null,default:we},[W]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CF=W,AF=Symbol.for("react.element"),PF=Symbol.for("react.fragment"),RF=Object.prototype.hasOwnProperty,bF=CF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kF={key:!0,ref:!0,__self:!0,__source:!0};function LC(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)RF.call(e,r)&&!kF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:AF,type:t,key:s,ref:a,props:i,_owner:bF.current}}om.Fragment=PF;om.jsx=LC;om.jsxs=LC;IC.exports=om;var _=IC.exports;const NF="Logging",OF="NoHubcallbackProvidedException";var Xr;(function(t){t.DEBUG="DEBUG",t.ERROR="ERROR",t.INFO="INFO",t.WARN="WARN",t.VERBOSE="VERBOSE",t.NONE="NONE"})(Xr||(Xr={}));const MS={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class ii{constructor(e,n=Xr.WARN){this.name=e,this.level=n,this._pluggables=[]}_padding(e){return e<10?"0"+e:""+e}_ts(){const e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()}configure(e){return e?(this._config=e,this._config):this._config}_log(e,...n){let r=this.level;ii.LOG_LEVEL&&(r=ii.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(r=window.LOG_LEVEL);const i=MS[r];if(!(MS[e]>=i))return;let a=console.log.bind(console);e===Xr.ERROR&&console.error&&(a=console.error.bind(console)),e===Xr.WARN&&console.warn&&(a=console.warn.bind(console)),ii.BIND_ALL_LOG_LEVELS&&(e===Xr.INFO&&console.info&&(a=console.info.bind(console)),e===Xr.DEBUG&&console.debug&&(a=console.debug.bind(console)));const u=`[${e}] ${this._ts()} ${this.name}`;let c="";if(n.length===1&&typeof n[0]=="string")c=`${u} - ${n[0]}`,a(c);else if(n.length===1)c=`${u} ${n[0]}`,a(u,n[0]);else if(typeof n[0]=="string"){let h=n.slice(1);h.length===1&&(h=h[0]),c=`${u} - ${n[0]} ${h}`,a(`${u} - ${n[0]}`,h)}else c=`${u} ${n}`,a(u,n);for(const h of this._pluggables){const p={message:c,timestamp:Date.now()};h.pushLogs([p])}}log(...e){this._log(Xr.INFO,...e)}info(...e){this._log(Xr.INFO,...e)}warn(...e){this._log(Xr.WARN,...e)}error(...e){this._log(Xr.ERROR,...e)}debug(...e){this._log(Xr.DEBUG,...e)}verbose(...e){this._log(Xr.VERBOSE,...e)}addPluggable(e){e&&e.getCategoryName()===NF&&(this._pluggables.push(e),e.configure(this._config))}listPluggables(){return this._pluggables}}ii.LOG_LEVEL=null;ii.BIND_ALL_LOG_LEVELS=!1;class bs extends Error{constructor({message:e,name:n,recoverySuggestion:r,underlyingError:i}){super(e),this.name=n,this.underlyingError=i,this.recoverySuggestion=r,this.constructor=bs,Object.setPrototypeOf(this,bs.prototype)}}var Ad;(function(t){t.NoEndpointId="NoEndpointId",t.PlatformNotSupported="PlatformNotSupported",t.Unknown="Unknown"})(Ad||(Ad={}));const MC=(t,e=bs)=>(n,r,i)=>{const{message:s,recoverySuggestion:a}=t[r];if(!n)throw new e({name:r,message:i?`${s} ${i}`:s,recoverySuggestion:a})},Yp=typeof Symbol<"u"?Symbol("amplify_default"):"@@amplify_default",Lc=new ii("Hub");class DF{constructor(e){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}_remove(e,n){const r=this.listeners.get(e);if(!r){Lc.warn(`No listeners for ${e}`);return}this.listeners.set(e,[...r.filter(({callback:i})=>i!==n)])}dispatch(e,n,r,i){typeof e=="string"&&this.protectedChannels.indexOf(e)>-1&&(i===Yp||Lc.warn(`WARNING: ${e} is protected and dispatching on it can have unintended consequences`));const s={channel:e,payload:{...n},source:r,patternInfo:[]};try{this._toListeners(s)}catch(a){Lc.error(a)}}listen(e,n,r="noname"){let i;if(typeof n!="function")throw new bs({name:OF,message:"No callback supplied to Hub"});i=n;let s=this.listeners.get(e);return s||(s=[],this.listeners.set(e,s)),s.push({name:r,callback:i}),()=>{this._remove(e,i)}}_toListeners(e){const{channel:n,payload:r}=e,i=this.listeners.get(n);i&&i.forEach(s=>{Lc.debug(`Dispatching to ${n} with `,r);try{s.callback(e)}catch(a){Lc.error(a)}})}}const Gy=new DF("__default__"),LF=()=>{if(typeof window<"u"&&typeof window.atob=="function")return window.atob;if(typeof atob=="function")return atob;throw new bs({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})},MF={convert(t){return LF()(t)}};var eo;(function(t){t.AuthTokenConfigException="AuthTokenConfigException",t.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",t.AuthUserPoolException="AuthUserPoolException",t.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",t.OAuthNotConfigureException="OAuthNotConfigureException"})(eo||(eo={}));const FF={[eo.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[eo.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[eo.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[eo.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[eo.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},FC=MC(FF);function Lr(t){let e=!0;t?e=!!t.userPoolId&&!!t.userPoolClientId:e=!1,FC(e,eo.AuthUserPoolException)}function wp(t){const e=!!(t!=null&&t.identityPoolId);FC(e,eo.InvalidIdentityPoolIdException)}function Pd(t){const e=t.split(".");if(e.length!==3)throw new Error("Invalid token");try{const r=e[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(MF.convert(r).split("").map(a=>`%${`00${a.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),s=JSON.parse(i);return{toString:()=>t,payload:s}}catch{throw new Error("Invalid token payload")}}const VC=t=>{const e=Reflect.ownKeys(t);for(const n of e){const r=t[n];(r&&typeof r=="object"||typeof r=="function")&&VC(r)}return Object.freeze(t)},VF=new ii("parseAWSExports"),UF={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},jF=(t={})=>{var lt,et,Ge,it,Pn,wn;if(!Object.prototype.hasOwnProperty.call(t,"aws_project_region"))throw new bs({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});const{aws_appsync_apiKey:e,aws_appsync_authenticationType:n,aws_appsync_graphqlEndpoint:r,aws_appsync_region:i,aws_bots_config:s,aws_cognito_identity_pool_id:a,aws_cognito_sign_up_verification_method:u,aws_cognito_mfa_configuration:c,aws_cognito_mfa_types:h,aws_cognito_password_protection_settings:p,aws_cognito_verification_mechanisms:m,aws_cognito_signup_attributes:y,aws_cognito_social_providers:A,aws_cognito_username_attributes:R,aws_mandatory_sign_in:I,aws_mobile_analytics_app_id:N,aws_mobile_analytics_app_region:S,aws_user_files_s3_bucket:E,aws_user_files_s3_bucket_region:P,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:j,aws_user_pools_id:K,aws_user_pools_web_client_id:Q,geo:x,oauth:C,predictions:k,aws_cloud_logic_custom:L,Notifications:U,modelIntrospection:F}=t,M={};N&&(M.Analytics={Pinpoint:{appId:N,region:S}});const{InAppMessaging:pe,Push:Se}=U??{};if(pe!=null&&pe.AWSPinpoint||Se!=null&&Se.AWSPinpoint){if(pe!=null&&pe.AWSPinpoint){const{appId:tt,region:on}=pe.AWSPinpoint;M.Notifications={InAppMessaging:{Pinpoint:{appId:tt,region:on}}}}if(Se!=null&&Se.AWSPinpoint){const{appId:tt,region:on}=Se.AWSPinpoint;M.Notifications={...M.Notifications,PushNotification:{Pinpoint:{appId:tt,region:on}}}}}if(Array.isArray(s)&&(M.Interactions={LexV1:Object.fromEntries(s.map(tt=>[tt.name,tt]))}),r){const tt=UF[n];tt||VF.debug(`Invalid authentication type ${n}. Falling back to IAM.`),M.API={GraphQL:{endpoint:r,apiKey:e,region:i,defaultAuthMode:tt??"iam"}},F&&(M.API.GraphQL.modelIntrospection=F)}const Oe=c?{status:c&&c.toLowerCase(),totpEnabled:(h==null?void 0:h.includes("TOTP"))??!1,smsEnabled:(h==null?void 0:h.includes("SMS"))??!1}:void 0,De=p?{minLength:p.passwordPolicyMinLength,requireLowercase:((lt=p.passwordPolicyCharacters)==null?void 0:lt.includes("REQUIRES_LOWERCASE"))??!1,requireUppercase:((et=p.passwordPolicyCharacters)==null?void 0:et.includes("REQUIRES_UPPERCASE"))??!1,requireNumbers:((Ge=p.passwordPolicyCharacters)==null?void 0:Ge.includes("REQUIRES_NUMBERS"))??!1,requireSpecialCharacters:((it=p.passwordPolicyCharacters)==null?void 0:it.includes("REQUIRES_SYMBOLS"))??!1}:void 0,oe=Array.from(new Set([...m??[],...y??[]])).reduce((tt,on)=>({...tt,[on.toLowerCase()]:{required:!0}}),{}),ge=(R==null?void 0:R.includes("EMAIL"))??!1,Ae=(R==null?void 0:R.includes("PHONE_NUMBER"))??!1;(a||K)&&(M.Auth={Cognito:{identityPoolId:a,allowGuestAccess:I!=="enable",signUpVerificationMethod:u,userAttributes:oe,userPoolClientId:Q,userPoolId:K,mfa:Oe,passwordFormat:De,loginWith:{username:!(ge||Ae),email:ge,phone:Ae}}});const xe=C?Object.keys(C).length>0:!1,We=A?A.length>0:!1;if(M.Auth&&xe&&(M.Auth.Cognito.loginWith={...M.Auth.Cognito.loginWith,oauth:{...BF(C),...We&&{providers:$F(A)}}}),E&&(M.Storage={S3:{bucket:E,region:P,dangerouslyConnectToHttpEndpointForTesting:j}}),x){const{amazon_location_service:tt}=x;M.Geo={LocationService:{maps:tt.maps,geofenceCollections:tt.geofenceCollections,searchIndices:tt.search_indices,region:tt.region}}}if(L&&(M.API={...M.API,REST:L.reduce((tt,on)=>{const{name:Et,endpoint:Jt,region:an,service:pt}=on;return{...tt,[Et]:{endpoint:Jt,...pt?{service:pt}:void 0,...an?{region:an}:void 0}}},{})}),k){const{VoiceId:tt}=((wn=(Pn=k==null?void 0:k.convert)==null?void 0:Pn.speechGenerator)==null?void 0:wn.defaults)??{};M.Predictions=tt?{...k,convert:{...k.convert,speechGenerator:{...k.convert.speechGenerator,defaults:{voiceId:tt}}}}:k}return M},FS=t=>(t==null?void 0:t.split(","))??[],BF=({domain:t,scope:e,redirectSignIn:n,redirectSignOut:r,responseType:i})=>({domain:t,scopes:e,redirectSignIn:FS(n),redirectSignOut:FS(r),responseType:i}),$F=t=>t.map(e=>{const n=e.toLowerCase();return n.charAt(0).toUpperCase()+n.slice(1)}),zF=Symbol("oauth-listener");function WF(t){const{version:e}=t;return e?e.startsWith("1"):!1}function qF(t){if(!t)return;const{bucket_name:e,aws_region:n}=t;return{S3:{bucket:e,region:n}}}function HF(t){if(!t)return;const{user_pool_id:e,user_pool_client_id:n,identity_pool_id:r,password_policy:i,mfa_configuration:s,mfa_methods:a,unauthenticated_identities_enabled:u,oauth:c,username_attributes:h,standard_required_attributes:p}=t,m={Cognito:{userPoolId:e,userPoolClientId:n}};return r&&(m.Cognito={...m.Cognito,identityPoolId:r}),i&&(m.Cognito.passwordFormat={requireLowercase:i.require_lowercase,requireNumbers:i.require_numbers,requireUppercase:i.require_uppercase,requireSpecialCharacters:i.require_symbols,minLength:i.min_length??6}),s&&(m.Cognito.mfa={status:nV(s),smsEnabled:a==null?void 0:a.includes("SMS"),totpEnabled:a==null?void 0:a.includes("TOTP")}),u&&(m.Cognito.allowGuestAccess=u),c&&(m.Cognito.loginWith={oauth:{domain:c.domain,redirectSignIn:c.redirect_sign_in_uri,redirectSignOut:c.redirect_sign_out_uri,responseType:c.response_type==="token"?"token":"code",scopes:c.scopes,providers:tV(c.identity_providers)}}),h&&(m.Cognito.loginWith={...m.Cognito.loginWith,email:h.includes("email"),phone:h.includes("phone_number"),username:h.includes("username")}),p&&(m.Cognito.userAttributes=p.reduce((y,A)=>({...y,[A]:{required:!0}}),{})),m}function KF(t){if(!(t!=null&&t.amazon_pinpoint))return;const{amazon_pinpoint:e}=t;return{Pinpoint:{appId:e.app_id,region:e.aws_region}}}function GF(t){if(!t)return;const{aws_region:e,geofence_collections:n,maps:r,search_indices:i}=t;return{LocationService:{region:e,searchIndices:i,geofenceCollections:n,maps:r}}}function QF(t){if(!t)return;const{aws_region:e,default_authorization_type:n,url:r,api_key:i,model_introspection:s}=t;return{GraphQL:{endpoint:r,defaultAuthMode:ZF(n),region:e,apiKey:i,modelIntrospection:s}}}function YF(t){if(!t)return;const{aws_region:e,channels:n,amazon_pinpoint_app_id:r}=t,i=n.includes("IN_APP_MESSAGING"),s=n.includes("APNS")||n.includes("FCM");if(!(i||s))return;const a={};return i&&(a.InAppMessaging={Pinpoint:{appId:r,region:e}}),s&&(a.PushNotification={Pinpoint:{appId:r,region:e}}),a}function XF(t){const e={};return t.storage&&(e.Storage=qF(t.storage)),t.auth&&(e.Auth=HF(t.auth)),t.analytics&&(e.Analytics=KF(t.analytics)),t.geo&&(e.Geo=GF(t.geo)),t.data&&(e.API=QF(t.data)),t.notifications&&(e.Notifications=YF(t.notifications)),e}const JF={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"};function ZF(t){return JF[t]}const eV={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"};function tV(t=[]){return t.map(e=>eV[e])}function nV(t){return t==="OPTIONAL"?"optional":t==="REQUIRED"?"on":"off"}const UC=t=>Object.keys(t).some(e=>e.startsWith("aws_"))?jF(t):WF(t)?XF(t):t;function VS({expiresAt:t,clockDrift:e}){return Date.now()+e>t}class rV{configure(e,n){this.authConfig=e,this.authOptions=n}async fetchAuthSession(e={}){var s,a,u,c,h,p;let n,r;const i=await this.getTokens(e);return i?(r=(a=(s=i.accessToken)==null?void 0:s.payload)==null?void 0:a.sub,n=await((c=(u=this.authOptions)==null?void 0:u.credentialsProvider)==null?void 0:c.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:i,authenticated:!0,forceRefresh:e.forceRefresh}))):n=await((p=(h=this.authOptions)==null?void 0:h.credentialsProvider)==null?void 0:p.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:e.forceRefresh})),{tokens:i,credentials:n==null?void 0:n.credentials,identityId:n==null?void 0:n.identityId,userSub:r}}async clearCredentials(){var e,n;await((n=(e=this.authOptions)==null?void 0:e.credentialsProvider)==null?void 0:n.clearCredentialsAndIdentityId())}async getTokens(e){var n,r;return await((r=(n=this.authOptions)==null?void 0:n.tokenProvider)==null?void 0:r.getTokens(e))??void 0}}function F_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iV(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function u(p){try{h(r.next(p))}catch(m){a(m)}}function c(p){try{h(r.throw(p))}catch(m){a(m)}}function h(p){p.done?s(p.value):i(p.value).then(u,c)}h((r=r.apply(t,e||[])).next())})}function sV(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var yi=64,oV=32,aV=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),lV=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],uV=Math.pow(2,53)-1,Ep=function(){function t(){this.state=Int32Array.from(lV),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,r=e.byteLength;if(this.bytesHashed+=r,this.bytesHashed*8>uV)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=e[n++],r--,this.bufferLength===yi&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(n.setUint8(this.bufferLength++,128),r%yi>=yi-8){for(var i=this.bufferLength;i<yi;i++)n.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<yi-8;i++)n.setUint8(i,0);n.setUint32(yi-8,Math.floor(e/4294967296),!0),n.setUint32(yi-4,e),this.hashBuffer(),this.finished=!0}for(var s=new Uint8Array(oV),i=0;i<8;i++)s[i*4]=this.state[i]>>>24&255,s[i*4+1]=this.state[i]>>>16&255,s[i*4+2]=this.state[i]>>>8&255,s[i*4+3]=this.state[i]>>>0&255;return s},t.prototype.hashBuffer=function(){for(var e=this,n=e.buffer,r=e.state,i=r[0],s=r[1],a=r[2],u=r[3],c=r[4],h=r[5],p=r[6],m=r[7],y=0;y<yi;y++){if(y<16)this.temp[y]=(n[y*4]&255)<<24|(n[y*4+1]&255)<<16|(n[y*4+2]&255)<<8|n[y*4+3]&255;else{var A=this.temp[y-2],R=(A>>>17|A<<15)^(A>>>19|A<<13)^A>>>10;A=this.temp[y-15];var I=(A>>>7|A<<25)^(A>>>18|A<<14)^A>>>3;this.temp[y]=(R+this.temp[y-7]|0)+(I+this.temp[y-16]|0)}var N=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&h^~c&p)|0)+(m+(aV[y]+this.temp[y]|0)|0)|0,S=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&s^i&a^s&a)|0;m=p,p=h,h=c,c=u+N|0,u=a,a=s,s=i,i=N+S|0}r[0]+=i,r[1]+=s,r[2]+=a,r[3]+=u,r[4]+=c,r[5]+=h,r[6]+=p,r[7]+=m},t}();const cV=t=>new TextEncoder().encode(t);var dV=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:cV;function jC(t){return t instanceof Uint8Array?t:typeof t=="string"?dV(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function hV(t){return typeof t=="string"?t.length===0:t.byteLength===0}var fV=function(){function t(e){this.secret=e,this.hash=new Ep,this.reset()}return t.prototype.update=function(e){if(!(hV(e)||this.error))try{this.hash.update(jC(e))}catch(n){this.error=n}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return iV(this,void 0,void 0,function(){return sV(this,function(e){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new Ep,this.secret){this.outer=new Ep;var e=pV(this.secret),n=new Uint8Array(yi);n.set(e);for(var r=0;r<yi;r++)e[r]^=54,n[r]^=92;this.hash.update(e),this.outer.update(n);for(var r=0;r<e.byteLength;r++)e[r]=0}},t}();function pV(t){var e=jC(t);if(e.byteLength>yi){var n=new Ep;n.update(e),e=n.digest()}var r=new Uint8Array(yi);return r.set(e),r}const BC={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),BC[t]=e}function gV(t){let e="";for(let n=0;n<t.byteLength;n++)e+=BC[t[n]];return e}var xn;(function(t){t.WebUnknown="0",t.React="1",t.NextJs="2",t.Angular="3",t.VueJs="4",t.Nuxt="5",t.Svelte="6",t.ServerSideUnknown="100",t.ReactSSR="101",t.NextJsSSR="102",t.AngularSSR="103",t.VueJsSSR="104",t.NuxtSSR="105",t.SvelteSSR="106",t.ReactNative="201",t.Expo="202"})(xn||(xn={}));var Qy;(function(t){t.API="api",t.Auth="auth",t.Analytics="analytics",t.DataStore="datastore",t.Geo="geo",t.InAppMessaging="inappmessaging",t.Interactions="interactions",t.Predictions="predictions",t.PubSub="pubsub",t.PushNotification="pushnotification",t.Storage="storage"})(Qy||(Qy={}));var US;(function(t){t.Record="1",t.IdentifyUser="2"})(US||(US={}));var jS;(function(t){t.GraphQl="1",t.Get="2",t.Post="3",t.Put="4",t.Patch="5",t.Del="6",t.Head="7"})(jS||(jS={}));var BS;(function(t){t.SignUp="1",t.ConfirmSignUp="2",t.ResendSignUpCode="3",t.SignIn="4",t.FetchMFAPreference="6",t.UpdateMFAPreference="7",t.SetUpTOTP="10",t.VerifyTOTPSetup="11",t.ConfirmSignIn="12",t.DeleteUserAttributes="15",t.DeleteUser="16",t.UpdateUserAttributes="17",t.FetchUserAttributes="18",t.ConfirmUserAttribute="22",t.SignOut="26",t.UpdatePassword="27",t.ResetPassword="28",t.ConfirmResetPassword="29",t.FederatedSignIn="30",t.RememberDevice="32",t.ForgetDevice="33",t.FetchDevices="34",t.SendUserAttributeVerificationCode="35",t.SignInWithRedirect="36"})(BS||(BS={}));var $S;(function(t){t.Subscribe="1",t.GraphQl="2"})($S||($S={}));var zS;(function(t){t.SearchByText="0",t.SearchByCoordinates="1",t.SearchForSuggestions="2",t.SearchByPlaceId="3",t.SaveGeofences="4",t.GetGeofence="5",t.ListGeofences="6",t.DeleteGeofences="7"})(zS||(zS={}));var WS;(function(t){t.SyncMessages="1",t.IdentifyUser="2",t.NotifyMessageInteraction="3"})(WS||(WS={}));var qS;(function(t){t.None="0"})(qS||(qS={}));var HS;(function(t){t.Convert="1",t.Identify="2",t.Interpret="3"})(HS||(HS={}));var KS;(function(t){t.Subscribe="1"})(KS||(KS={}));var GS;(function(t){t.InitializePushNotifications="1",t.IdentifyUser="2"})(GS||(GS={}));var Xp;(function(t){t.UploadData="1",t.DownloadData="2",t.List="3",t.Copy="4",t.Remove="5",t.GetProperties="6",t.GetUrl="7"})(Xp||(Xp={}));var mV={};const am=()=>typeof mV<"u",Qu=()=>typeof window<"u",$C=()=>typeof document<"u",V_=()=>typeof process<"u",Rd=(t,e)=>!!Object.keys(t).find(n=>n.startsWith(e));var QS={};function vV(){const t=r=>r.startsWith("_react")||r.startsWith("__react"),e=r=>Object.keys(r).find(t),n=()=>Array.from(document.querySelectorAll("[id]"));return $C()&&n().some(e)}function yV(){return V_()&&typeof QS<"u"&&!!Object.keys(QS).find(t=>t.includes("react"))}var _V={};function wV(){return Qu()&&Rd(window,"__VUE")}function EV(){return am()&&Rd(_V,"__VUE")}var YS={};function SV(){return Qu()&&Rd(window,"__SVELTE")}function TV(){return V_()&&typeof YS<"u"&&!!Object.keys(YS).find(t=>t.includes("svelte"))}var XS={};function xV(){return Qu()&&window.next&&typeof window.next=="object"}function IV(){return am()&&(Rd(XS,"__next")||Rd(XS,"__NEXT"))}var CV={};function AV(){return Qu()&&(window.__NUXT__!==void 0||window.$nuxt!==void 0)}function PV(){return am()&&typeof CV.__NUXT_PATHS__<"u"}var JS={};function RV(){const t=!!($C()&&document.querySelector("[ng-version]")),e=!!(Qu()&&typeof window.ng<"u");return t||e}function bV(){var t;return V_()&&typeof JS=="object"&&((t=JS.npm_lifecycle_script)==null?void 0:t.startsWith("ng "))||!1}function kV(){return typeof navigator<"u"&&typeof navigator.product<"u"&&navigator.product==="ReactNative"}var NV={};function OV(){return am()&&typeof NV.expo<"u"}function DV(){return Qu()}const LV=[{platform:xn.Expo,detectionMethod:OV},{platform:xn.ReactNative,detectionMethod:kV},{platform:xn.NextJs,detectionMethod:xV},{platform:xn.Nuxt,detectionMethod:AV},{platform:xn.Angular,detectionMethod:RV},{platform:xn.React,detectionMethod:vV},{platform:xn.VueJs,detectionMethod:wV},{platform:xn.Svelte,detectionMethod:SV},{platform:xn.WebUnknown,detectionMethod:DV},{platform:xn.NextJsSSR,detectionMethod:IV},{platform:xn.NuxtSSR,detectionMethod:PV},{platform:xn.ReactSSR,detectionMethod:yV},{platform:xn.VueJsSSR,detectionMethod:EV},{platform:xn.AngularSSR,detectionMethod:bV},{platform:xn.SvelteSSR,detectionMethod:TV}];function MV(){var t;return((t=LV.find(e=>e.detectionMethod()))==null?void 0:t.platform)||xn.ServerSideUnknown}const FV=()=>typeof window<"u"&&typeof window.document<"u";class VV{constructor(){this.oAuthListener=void 0,this.resourcesConfig={},this.libraryOptions={},this.Auth=new rV}configure(e,n){const r=UC(e);this.resourcesConfig=r,n&&(this.libraryOptions=n),this.resourcesConfig=VC(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),Gy.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",Yp),this.notifyOAuthListener()}getConfig(){return this.resourcesConfig}[zF](e){var n,r,i;(r=(n=this.resourcesConfig.Auth)==null?void 0:n.Cognito.loginWith)!=null&&r.oauth?e((i=this.resourcesConfig.Auth)==null?void 0:i.Cognito):this.oAuthListener=e}notifyOAuthListener(){var e,n,r;!((n=(e=this.resourcesConfig.Auth)==null?void 0:e.Cognito.loginWith)!=null&&n.oauth)||!this.oAuthListener||(this.oAuthListener((r=this.resourcesConfig.Auth)==null?void 0:r.Cognito),this.oAuthListener=void 0)}}const ys=new VV,Yu=t=>{const{headers:e,statusCode:n}=t;return{...UV(t)?t.$metadata:{},httpStatusCode:n,requestId:e["x-amzn-requestid"]??e["x-amzn-request-id"]??e["x-amz-request-id"],extendedRequestId:e["x-amz-id-2"],cfId:e["x-amz-cf-id"]}},UV=t=>typeof(t==null?void 0:t.$metadata)=="object",dh=async t=>{if(!t||t.statusCode<300)return;const e=await lm(t),r=(a=>{const[u]=a.toString().split(/[,:]+/);return u.includes("#")?u.split("#")[1]:u})(t.headers["x-amzn-errortype"]??e.code??e.__type??"UnknownError"),i=e.message??e.Message??"Unknown error",s=new Error(i);return Object.assign(s,{name:r,$metadata:Yu(t)})},lm=async t=>{if(!t.body)throw new Error("Missing response payload");const e=await t.body.json();return Object.assign(e,{$metadata:Yu(t)})},um=(t,e,n,r)=>async(i,s)=>{const a={...r,...i},u=await a.endpointResolver(a,s),c=await e(s,u),h=await t(c,{...a});return n(h)},zC={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},jV={partitions:[zC,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},Jp=t=>{const{partitions:e}=jV;for(const{regions:n,outputs:r,regionRegex:i}of e){const s=new RegExp(i);if(n.includes(t)||s.test(t))return r.dnsSuffix}return zC.outputs.dnsSuffix},BV=3,WC=({maxAttempts:t=BV,retryDecider:e,computeDelay:n,abortSignal:r})=>{if(t<1)throw new Error("maxAttempts must be greater than 0");return(i,s)=>async function(u){let c,h=s.attemptsCount??0,p;const m=()=>{if(p)return ZS(p,h),p;throw ZS(c,h),c};for(;!(r!=null&&r.aborted)&&h<t;){try{p=await i(u),c=void 0}catch(y){c=y,p=void 0}if(h=(s.attemptsCount??0)>h?s.attemptsCount??0:h+1,s.attemptsCount=h,await e(p,c)){if(!(r!=null&&r.aborted)&&h<t){const y=n(h);await $V(y,r)}continue}else return m()}if(r!=null&&r.aborted)throw new Error("Request aborted.");return m()}},$V=(t,e)=>{if(e!=null&&e.aborted)return Promise.resolve();let n,r;const i=new Promise(s=>{r=s,n=setTimeout(s,t)});return e==null||e.addEventListener("abort",function s(a){clearTimeout(n),e==null||e.removeEventListener("abort",s),r()}),i},ZS=(t,e)=>{Object.prototype.toString.call(t)==="[object Object]"&&(t.$metadata={...t.$metadata??{},attempts:e})},qC=({userAgentHeader:t="x-amz-user-agent",userAgentValue:e=""})=>n=>async function(i){if(e.trim().length===0)return await n(i);{const s=t.toLowerCase();return i.headers[s]=i.headers[s]?`${i.headers[s]} ${e}`:e,await n(i)}},cm=(t,e)=>(n,r)=>{const i={};let s=a=>t(a,r);for(let a=e.length-1;a>=0;a--){const u=e[a];s=u(r)(s,i)}return s(n)},Sp=t=>{let e;return()=>(e||(e=t()),e)},zV=t=>!["HEAD","GET","DELETE"].includes(t.toUpperCase()),WV=async({url:t,method:e,headers:n,body:r},{abortSignal:i,cache:s,withCrossDomainCredentials:a})=>{var m;let u;try{u=await fetch(t,{method:e,headers:n,body:zV(e)?r:void 0,signal:i,cache:s,credentials:a?"include":"same-origin"})}catch(y){throw y instanceof TypeError?new Error("Network error"):y}const c={};(m=u.headers)==null||m.forEach((y,A)=>{c[A.toLowerCase()]=y});const h={statusCode:u.status,headers:c,body:null},p=Object.assign(u.body??{},{text:Sp(()=>u.text()),blob:Sp(()=>u.blob()),json:Sp(()=>u.json())});return{...h,body:p}},HC=cm(WV,[qC,WC]),qV=5*60*1e3;function HV(t=qV){return r=>{const i=2**r*100+100*Math.random();return i>t?!1:i}}const eT=5*60*1e3,U_=t=>{const n=HV(eT)(t);return n===!1?eT:n},KV=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],GV=t=>!!t&&KV.includes(t),j_=t=>async(e,n)=>{const r=n??await t(e)??void 0,i=(r==null?void 0:r.code)||(r==null?void 0:r.name),s=e==null?void 0:e.statusCode;return JV(n)||XV(s,i)||GV(i)||ZV(s,i)},QV=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],YV=["TimeoutError","RequestTimeout","RequestTimeoutException"],XV=(t,e)=>t===429||!!e&&QV.includes(e),JV=t=>(t==null?void 0:t.name)==="Network error",ZV=(t,e)=>!!t&&[500,502,503,504].includes(t)||!!e&&YV.includes(e),lo=URL,e3="6.3.4";let ad;const Tp=[];let Zp=!1;const t3=10,n3=10,r3=1e3,KC=()=>{var t;if(!ad){if(ad=MV(),Zp)for(;Tp.length;)(t=Tp.pop())==null||t();else Tp.forEach(e=>{e()});tT(xn.ServerSideUnknown,t3),tT(xn.WebUnknown,n3)}return ad},i3=t=>{Zp||Tp.push(t)};function s3(){ad=void 0}function tT(t,e){ad===t&&!Zp&&setTimeout(()=>{s3(),Zp=!0,setTimeout(KC,r3)},e)}const o3={},a3=(t,e)=>{var n,r;return(r=(n=o3[t])==null?void 0:n[e])==null?void 0:r.additionalDetails},l3="aws-amplify",u3=({category:t,action:e}={})=>{const n=[[l3,e3]];if(t&&n.push([t,e]),n.push(["framework",KC()]),t&&e){const r=a3(t,e);r&&r.forEach(i=>{n.push(i)})}return n},hh=t=>u3(t).map(([r,i])=>r&&i?`${r}/${i}`:r).join(" "),c3="cognito-identity",d3=({region:t})=>({url:new lo(`https://cognito-identity.${t}.${Jp(t)}`)}),h3=()=>t=>async function(n){return n.headers["cache-control"]="no-store",t(n)},GC=cm(HC,[h3]),B_={service:c3,endpointResolver:d3,retryDecider:j_(dh),computeDelay:U_,userAgentValue:hh(),cache:"no-store"};i3(()=>{B_.userAgentValue=hh()});const QC=t=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${t}`}),YC=({url:t},e,n)=>({headers:e,url:t,body:n,method:"POST"}),f3=(t,e)=>{const n=QC("GetId"),r=JSON.stringify(t);return YC(e,n,r)},p3=async t=>{if(t.statusCode>=300)throw await dh(t);return{IdentityId:(await lm(t)).IdentityId,$metadata:Yu(t)}},g3=um(GC,f3,p3,B_),m3=(t,e)=>{const n=QC("GetCredentialsForIdentity"),r=JSON.stringify(t);return YC(e,n,r)},v3=async t=>{if(t.statusCode>=300)throw await dh(t);{const e=await lm(t);return{IdentityId:e.IdentityId,Credentials:y3(e.Credentials),$metadata:Yu(t)}}},y3=({AccessKeyId:t,SecretKey:e,SessionToken:n,Expiration:r}={})=>({AccessKeyId:t,SecretKey:e,SessionToken:n,Expiration:r&&new Date(r*1e3)}),nT=um(GC,m3,v3,B_);class jf extends bs{constructor(){super({name:Ad.PlatformNotSupported,message:"Function not supported on current platform"})}}class XC{constructor(e){this.storage=e}async setItem(e,n){if(!this.storage)throw new jf;this.storage.setItem(e,n)}async getItem(e){if(!this.storage)throw new jf;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new jf;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new jf;this.storage.clear()}}class JC{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,n){this.storage.set(e,n)}getItem(e){return this.storage.get(e)??null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}}const _3=()=>typeof window<"u"&&window.localStorage?window.localStorage:new JC,w3=()=>typeof window<"u"&&window.sessionStorage?window.sessionStorage:new JC;class E3 extends XC{constructor(){super(_3())}}class S3 extends XC{constructor(){super(w3())}}/*! js-cookie v3.0.5 | MIT */function Bf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var T3={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Yy(t,e){function n(i,s,a){if(!(typeof document>"u")){a=Bf({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var u="";for(var c in a)a[c]&&(u+="; "+c,a[c]!==!0&&(u+="="+a[c].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+u}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],a={},u=0;u<s.length;u++){var c=s[u].split("="),h=c.slice(1).join("=");try{var p=decodeURIComponent(c[0]);if(a[p]=t.read(h,p),i===p)break}catch{}}return i?a[i]:a}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",Bf({},s,{expires:-1}))},withAttributes:function(i){return Yy(this.converter,Bf({},this.attributes,i))},withConverter:function(i){return Yy(Bf({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var $f=Yy(T3,{path:"/"});class rT{constructor(e={}){const{path:n,domain:r,expires:i,sameSite:s,secure:a}=e;if(this.domain=r,this.path=n||"/",this.expires=Object.prototype.hasOwnProperty.call(e,"expires")?i:365,this.secure=Object.prototype.hasOwnProperty.call(e,"secure")?a:!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!s||!["strict","lax","none"].includes(s))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if(s==="none"&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=s}}async setItem(e,n){$f.set(e,n,this.getData())}async getItem(e){return $f.get(e)??null}async removeItem(e){$f.remove(e,this.getData())}async clear(){const e=$f.get(),n=Object.keys(e).map(r=>this.removeItem(r));await Promise.all(n)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}const bd=new E3;new S3;const ZC=t=>Object.keys(t).map(e=>e.toLowerCase()).sort().join(";"),x3="X-Amz-Algorithm",eA="X-Amz-Date",I3="X-Amz-Credential",C3="X-Amz-Expires",A3="X-Amz-Signature",P3="X-Amz-SignedHeaders",tA="X-Amz-Security-Token",R3="authorization",Xy="host",b3=eA.toLowerCase(),k3=tA.toLowerCase(),nA="aws4_request",$_="AWS4-HMAC-SHA256",N3="AWS4",rA="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",O3="UNSIGNED-PAYLOAD",D3=(t,e,n)=>`${t}/${e}/${n}/${nA}`,L3=t=>{const e=t.toISOString().replace(/[:-]|\.\d{3}/g,"");return{longDate:e,shortDate:e.slice(0,8)}},iA=({credentials:t,signingDate:e=new Date,signingRegion:n,signingService:r,uriEscapePath:i=!0})=>{const{accessKeyId:s,secretAccessKey:a,sessionToken:u}=t,{longDate:c,shortDate:h}=L3(e),p=D3(h,n,r);return{accessKeyId:s,credentialScope:p,longDate:c,secretAccessKey:a,sessionToken:u,shortDate:h,signingRegion:n,signingService:r,uriEscapePath:i}},Yc=(t,e)=>{const n=new fV(t??void 0);return n.update(e),n.digestSync()},Jy=(t,e)=>{const n=Yc(t,e);return gV(n)},M3=t=>Object.entries(t).map(([e,n])=>({key:e.toLowerCase(),value:(n==null?void 0:n.trim().replace(/\s+/g," "))??""})).sort((e,n)=>e.key<n.key?-1:1).map(e=>`${e.key}:${e.value}
`).join(""),F3=t=>Array.from(t).sort(([e,n],[r,i])=>e===r?n<i?-1:1:e<r?-1:1).map(([e,n])=>`${iT(e)}=${iT(n)}`).join("&"),iT=t=>encodeURIComponent(t).replace(/[!'()*]/g,V3),V3=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`,U3=(t,e=!0)=>t?e?encodeURIComponent(t).replace(/%2F/g,"/"):t:"/",sA=t=>t==null?rA:j3(t)?Jy(null,t):O3,j3=t=>typeof t=="string"||ArrayBuffer.isView(t)||B3(t),B3=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]",$3=({body:t,headers:e,method:n,url:r},i=!0)=>[n,U3(r.pathname,i),F3(r.searchParams),M3(e),ZC(e),sA(t)].join(`
`),z3=(t,e,n,r)=>{const i=`${N3}${t}`,s=Yc(i,e),a=Yc(s,n),u=Yc(a,r);return Yc(u,nA)},W3=(t,e,n)=>[$_,t,e,n].join(`
`),oA=(t,{credentialScope:e,longDate:n,secretAccessKey:r,shortDate:i,signingRegion:s,signingService:a,uriEscapePath:u})=>{const c=$3(t,u),h=Jy(null,c),p=W3(n,e,h);return Jy(z3(r,i,s,a),p)},q3=(t,e)=>{const n=iA(e),{accessKeyId:r,credentialScope:i,longDate:s,sessionToken:a}=n,u={...t.headers};u[Xy]=t.url.host,u[b3]=s,a&&(u[k3]=a);const c={...t,headers:u},h=oA(c,n),p=`Credential=${r}/${i}`,m=`SignedHeaders=${ZC(u)}`,y=`Signature=${h}`;return u[R3]=`${$_} ${p}, ${m}, ${y}`,c},aA=t=>new Date(Date.now()+t),H3=5*60*1e3,K3=(t,e)=>Math.abs(aA(e).getTime()-t)>=H3,G3=(t,e)=>K3(t,e)?t-Date.now():e,Q3=({credentials:t,region:e,service:n,uriEscapePath:r=!0})=>{let i;return s=>async function(u){i=i??0;const c={credentials:typeof t=="function"?await t():t,signingDate:aA(i),signingRegion:e,signingService:n,uriEscapePath:r},h=await q3(u,c),p=await s(h),m=Y3(p);return m&&(i=G3(Date.parse(m),i)),p}},Y3=({headers:t}={})=>(t==null?void 0:t.date)??(t==null?void 0:t.Date)??(t==null?void 0:t["x-amz-date"]),X3=t=>{const e=/[!'()*]/g;return encodeURIComponent(t).replace(e,J3)},J3=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`,Z3=t=>{let e;return async(...n)=>e||(e=new Promise((r,i)=>{t(...n).then(s=>{r(s)}).catch(s=>{i(s)}).finally(()=>{e=void 0})}),e)},eU=({body:t,method:e="GET",url:n},{expiration:r,...i})=>{const s=iA(i),{accessKeyId:a,credentialScope:u,longDate:c,sessionToken:h}=s,p=new lo(n);Object.entries({[x3]:$_,[I3]:`${a}/${u}`,[eA]:c,[P3]:Xy,...r&&{[C3]:r.toString()},...h&&{[tA]:h}}).forEach(([A,R])=>{p.searchParams.append(A,R)});const m={body:t,headers:{[Xy]:n.host},method:e,url:p},y=oA(m,s);return p.searchParams.append(A3,y),p};class yn extends bs{constructor(e){super(e),this.constructor=yn,Object.setPrototypeOf(this,yn.prototype)}}function lA(t){if(!t||t.name==="Error"||t instanceof TypeError)throw new yn({name:Ad.Unknown,message:"An unknown error has occurred.",underlyingError:t})}const uA="cognito-idp",tU=({region:t})=>{var i;const e=(i=ys.getConfig().Auth)==null?void 0:i.Cognito,n=e==null?void 0:e.userPoolEndpoint,r=new lo(`https://${uA}.${t}.${Jp(t)}`);return{url:n?new lo(n):r}},nU=()=>(t,e)=>async function(r){return r.headers["cache-control"]="no-store",t(r)},rU=cm(HC,[nU]),iU={service:uA,endpointResolver:tU,retryDecider:j_(dh),computeDelay:U_,userAgentValue:hh(),cache:"no-store"},sU=t=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${t}`}),oU=({url:t},e,n)=>({headers:e,url:t,body:n,method:"POST"}),aU=t=>(e,n)=>{const r=sU(t),i=JSON.stringify(e);return oU(n,r,i)},lU=()=>async t=>{if(t.statusCode>=300){const e=await dh(t);throw lA(e),new yn({name:e.name,message:e.message})}else return await lm(t)},uU=um(rU,aU("InitiateAuth"),lU(),iU);function cU(t){const e=t==null?void 0:t.split("_")[0];if(!t||t.indexOf("_")<0||!e||typeof e!="string")throw new yn({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return e}function Zy(t){if(!t||!t.includes(":"))throw new yn({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return t.split(":")[0]}const cA="UserUnAuthenticatedException",dU="InvalidRedirectException";new yn({name:dU,message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."});const hU="InvalidOriginException";new yn({name:hU,message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."});const fU="TokenRefreshException";function pU(t){if(!t||!t.idToken)throw new yn({name:cA,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}const gU=new yn({name:fU,message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),mU=new yn({name:cA,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function vU(t){if(wU(t))throw gU;if(!_U(t))throw mU}const yU={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function dA(t){return(t==null?void 0:t.accessToken)||(t==null?void 0:t.idToken)}function _U(t){return dA(t)&&(t==null?void 0:t.refreshToken)}function wU(t){return dA(t)&&!(t!=null&&t.refreshToken)}function EU({username:t,userPoolId:e,userPoolClientId:n}){if(typeof window>"u")return;const r=window.AmazonCognitoAdvancedSecurityData;if(typeof r>"u")return;const i=r.getData(t,e,n);return i?{EncodedData:i}:{}}const SU=async({tokens:t,authConfig:e,username:n})=>{var y,A;Lr(e==null?void 0:e.Cognito);const r=cU(e.Cognito.userPoolId);vU(t);const i=t.refreshToken,s={REFRESH_TOKEN:i};(y=t.deviceMetadata)!=null&&y.deviceKey&&(s.DEVICE_KEY=t.deviceMetadata.deviceKey);const a=EU({username:n,userPoolId:e.Cognito.userPoolId,userPoolClientId:e.Cognito.userPoolClientId}),{AuthenticationResult:u}=await uU({region:r},{ClientId:(A=e==null?void 0:e.Cognito)==null?void 0:A.userPoolClientId,AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:s,UserContextData:a}),c=Pd((u==null?void 0:u.AccessToken)??""),h=u!=null&&u.IdToken?Pd(u.IdToken):void 0,{iat:p}=c.payload;if(!p)throw new yn({name:"iatNotFoundException",message:"iat not found in access token"});const m=p*1e3-new Date().getTime();return{accessToken:c,idToken:h,clockDrift:m,refreshToken:i,username:n}},TU=Z3(SU),xU={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails"};var eg;(function(t){t.InvalidAuthTokens="InvalidAuthTokens"})(eg||(eg={}));const IU={[eg.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},CU=MC(IU);class AU{constructor(){this.name="CognitoIdentityServiceProvider"}getKeyValueStorage(){if(!this.keyValueStorage)throw new yn({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{const e=await this.getAuthKeys(),n=await this.getKeyValueStorage().getItem(e.accessToken);if(!n)throw new yn({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});const r=Pd(n),i=await this.getKeyValueStorage().getItem(e.idToken),s=i?Pd(i):void 0,a=await this.getKeyValueStorage().getItem(e.refreshToken)??void 0,u=await this.getKeyValueStorage().getItem(e.clockDrift)??"0",c=Number.parseInt(u),h=await this.getKeyValueStorage().getItem(e.signInDetails),p={accessToken:r,idToken:s,refreshToken:a,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:c,username:await this.getLastAuthUser()};return h&&(p.signInDetails=JSON.parse(h)),p}catch{return null}}async storeTokens(e){CU(e!==void 0,eg.InvalidAuthTokens),await this.clearTokens();const n=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),n);const r=await this.getAuthKeys();await this.getKeyValueStorage().setItem(r.accessToken,e.accessToken.toString()),e.idToken&&await this.getKeyValueStorage().setItem(r.idToken,e.idToken.toString()),e.refreshToken&&await this.getKeyValueStorage().setItem(r.refreshToken,e.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(r.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(r.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(r.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails&&await this.getKeyValueStorage().setItem(r.signInDetails,JSON.stringify(e.signInDetails)),await this.getKeyValueStorage().setItem(r.clockDrift,`${e.clockDrift}`)}async clearTokens(){const e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey())])}async getDeviceMetadata(e){const n=await this.getAuthKeys(e),r=await this.getKeyValueStorage().getItem(n.deviceKey),i=await this.getKeyValueStorage().getItem(n.deviceGroupKey),s=await this.getKeyValueStorage().getItem(n.randomPasswordKey);return s&&i&&r?{deviceKey:r,deviceGroupKey:i,randomPassword:s}:null}async clearDeviceMetadata(e){const n=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(n.deviceKey),this.getKeyValueStorage().removeItem(n.deviceGroupKey),this.getKeyValueStorage().removeItem(n.randomPasswordKey)])}async getAuthKeys(e){var r;Lr((r=this.authConfig)==null?void 0:r.Cognito);const n=e??await this.getLastAuthUser();return PU(this.name,`${this.authConfig.Cognito.userPoolClientId}.${n}`)}getLastAuthUserKey(){var n;Lr((n=this.authConfig)==null?void 0:n.Cognito);const e=this.authConfig.Cognito.userPoolClientId;return`${this.name}.${e}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}}const PU=(t,e)=>z_(xU)(`${t}`,e);function z_(t){const e=Object.values({...t});return(n,r)=>e.reduce((i,s)=>({...i,[s]:`${n}.${r}.${s}`}),{})}const sT="amplify-signin-with-hostedUI",gs="CognitoIdentityServiceProvider";class RU{constructor(e){this.keyValueStorage=e}async clearOAuthInflightData(){Lr(this.cognitoConfig);const e=ms(gs,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){Lr(this.cognitoConfig);const e=ms(gs,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(sT),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){Lr(this.cognitoConfig);const e=ms(gs,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){Lr(this.cognitoConfig);const n=ms(gs,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(n.oauthState,e)}loadPKCE(){Lr(this.cognitoConfig);const e=ms(gs,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){Lr(this.cognitoConfig);const n=ms(gs,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(n.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){Lr(this.cognitoConfig);const e=ms(gs,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(e.inflightOAuth)==="true"}async storeOAuthInFlight(e){Lr(this.cognitoConfig);const n=ms(gs,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.inflightOAuth,`${e}`)}async loadOAuthSignIn(){var s;Lr(this.cognitoConfig);const e=ms(gs,this.cognitoConfig.userPoolClientId),n=await this.keyValueStorage.getItem(sT),[r,i]=((s=await this.keyValueStorage.getItem(e.oauthSignIn))==null?void 0:s.split(","))??[];return{isOAuthSignIn:r==="true"||n==="true",preferPrivateSession:i==="true"}}async storeOAuthSignIn(e,n=!1){Lr(this.cognitoConfig);const r=ms(gs,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(r.oauthSignIn,`${e},${n}`)}}const ms=(t,e)=>z_(yU)(t,e),oT=new RU(bd);class bU{constructor(){this.waitForInflightOAuth=FV()?async()=>{if(await oT.loadOAuthInFlight())return this.inflightPromise?this.inflightPromise:(this.inflightPromise=new Promise((e,n)=>{}),this.inflightPromise)}:async()=>{}}setAuthConfig(e){oT.setAuthConfig(e.Cognito),this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}getTokenStore(){if(!this.tokenStore)throw new yn({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new yn({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(e){var a,u,c,h,p;let n;try{Lr((a=this.authConfig)==null?void 0:a.Cognito)}catch{return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,n=await this.getTokenStore().loadTokens();const r=await this.getTokenStore().getLastAuthUser();if(n===null)return null;const i=!!(n!=null&&n.idToken)&&VS({expiresAt:(((c=(u=n.idToken)==null?void 0:u.payload)==null?void 0:c.exp)??0)*1e3,clockDrift:n.clockDrift??0}),s=VS({expiresAt:(((p=(h=n.accessToken)==null?void 0:h.payload)==null?void 0:p.exp)??0)*1e3,clockDrift:n.clockDrift??0});return(e!=null&&e.forceRefresh||i||s)&&(n=await this.refreshTokens({tokens:n,username:r}),n===null)?null:{accessToken:n==null?void 0:n.accessToken,idToken:n==null?void 0:n.idToken,signInDetails:n==null?void 0:n.signInDetails}}async refreshTokens({tokens:e,username:n}){try{const{signInDetails:r}=e,i=await this.getTokenRefresher()({tokens:e,authConfig:this.authConfig,username:n});return i.signInDetails=r,await this.setTokens({tokens:i}),Gy.dispatch("auth",{event:"tokenRefresh"},"Auth",Yp),i}catch(r){return this.handleErrors(r)}}handleErrors(e){if(lA(e),e.message!=="Network error"&&this.clearTokens(),Gy.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",Yp),e.name.startsWith("NotAuthorizedException"))return null;throw e}async setTokens({tokens:e}){return this.getTokenStore().storeTokens(e)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}}class kU{constructor(){this.authTokenStore=new AU,this.authTokenStore.setKeyValueStorage(bd),this.tokenOrchestrator=new bU,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(TU)}getTokens({forceRefresh:e}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:e})}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}}const zf=new kU,NU={identityId:"identityId"},OU=new ii("DefaultIdentityIdStore");class DU{setAuthConfig(e){wp(e.Cognito),this.authConfig=e,this._authKeys=LU("Cognito",e.Cognito.identityPoolId)}constructor(e){this._authKeys={},this.keyValueStorage=e}async loadIdentityId(){var e;wp((e=this.authConfig)==null?void 0:e.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{const n=await this.keyValueStorage.getItem(this._authKeys.identityId);return n?{id:n,type:"guest"}:null}}catch(n){return OU.log("Error getting stored IdentityId.",n),null}}async storeIdentityId(e){var n;wp((n=this.authConfig)==null?void 0:n.Cognito),e.type==="guest"?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0):(this._primaryIdentityId=e.id,this.keyValueStorage.removeItem(this._authKeys.identityId))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}const LU=(t,e)=>z_(NU)(`com.amplify.${t}`,e);function hA(t){const e=Pd(t).payload.iss,n={};if(!e)throw new yn({name:"InvalidIdTokenException",message:"Invalid Idtoken."});const r=e.replace(/(^\w+:|^)\/\//,"");return n[r]=t,n}const MU=new ii("CognitoIdentityIdProvider");async function FU({tokens:t,authConfig:e,identityIdStore:n}){n.setAuthConfig({Cognito:e});let r=await n.loadIdentityId();if(t){if(r&&r.type==="primary")return r.id;{const i=t.idToken?hA(t.idToken.toString()):{},s=await aT(i,e);r&&r.id===s&&MU.debug(`The guest identity ${r.id} has become the primary identity.`),r={id:s,type:"primary"}}}else{if(r&&r.type==="guest")return r.id;r={id:await aT({},e),type:"guest"}}return n.storeIdentityId(r),r.id}async function aT(t,e){const n=e==null?void 0:e.identityPoolId,r=Zy(n),i=(await g3({region:r},{IdentityPoolId:n,Logins:t})).IdentityId;if(!i)throw new yn({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return i}const Wf=new ii("CognitoCredentialsProvider"),lT=50*60*1e3;class VU{constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}async clearCredentialsAndIdentityId(){Wf.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){Wf.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){const n=e.authenticated,{tokens:r}=e,{authConfig:i}=e;try{wp(i==null?void 0:i.Cognito)}catch{return}if(!n&&!i.Cognito.allowGuestAccess)return;const{forceRefresh:s}=e,a=this.hasTokenChanged(r),u=await FU({tokens:r,authConfig:i.Cognito,identityIdStore:this._identityIdStore});return(s||a)&&this.clearCredentials(),n?(pU(r),this.credsForOIDCTokens(i.Cognito,r,u)):this.getGuestCredentials(u,i.Cognito)}async getGuestCredentials(e,n){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!1)return Wf.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const r=Zy(n.identityPoolId),i=await nT({region:r},{IdentityId:e});if(i.Credentials&&i.Credentials.AccessKeyId&&i.Credentials.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+lT;const s={credentials:{accessKeyId:i.Credentials.AccessKeyId,secretAccessKey:i.Credentials.SecretKey,sessionToken:i.Credentials.SessionToken,expiration:i.Credentials.Expiration},identityId:e},a=i.IdentityId;return a&&(s.identityId=a,this._identityIdStore.storeIdentityId({id:a,type:"guest"})),this._credentialsAndIdentityId={...s,isAuthenticatedCreds:!1},s}else throw new yn({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(e,n,r){var u;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!0)return Wf.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const i=n.idToken?hA(n.idToken.toString()):{},s=Zy(e.identityPoolId),a=await nT({region:s},{IdentityId:r,Logins:i});if(a.Credentials&&a.Credentials.AccessKeyId&&a.Credentials.SecretKey){const c={credentials:{accessKeyId:a.Credentials.AccessKeyId,secretAccessKey:a.Credentials.SecretKey,sessionToken:a.Credentials.SessionToken,expiration:a.Credentials.Expiration},identityId:r};this._credentialsAndIdentityId={...c,isAuthenticatedCreds:!0,associatedIdToken:(u=n.idToken)==null?void 0:u.toString()},this._nextCredentialsRefresh=new Date().getTime()+lT;const h=a.IdentityId;return h&&(c.identityId=h,this._identityIdStore.storeIdentityId({id:h,type:"primary"})),c}else throw new yn({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return this._nextCredentialsRefresh===void 0?!0:this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){var n,r;return!!e&&!!((n=this._credentialsAndIdentityId)!=null&&n.associatedIdToken)&&((r=e.idToken)==null?void 0:r.toString())!==this._credentialsAndIdentityId.associatedIdToken}}const UU=new VU(new DU(bd)),jU={configure(t,e){const n=UC(t);if(!n.Auth){ys.configure(n,e);return}if(e!=null&&e.Auth){ys.configure(n,e);return}if(!ys.libraryOptions.Auth){zf.setAuthConfig(n.Auth),zf.setKeyValueStorage(e!=null&&e.ssr?new rT({sameSite:"lax"}):bd),ys.configure(n,{...e,Auth:{tokenProvider:zf,credentialsProvider:UU}});return}if(e){e.ssr!==void 0&&zf.setKeyValueStorage(e.ssr?new rT({sameSite:"lax"}):bd),ys.configure(n,{Auth:ys.libraryOptions.Auth,...e});return}ys.configure(n)},getConfig(){return ys.getConfig()}};var e0={},fA={exports:{}},ai={},pA={exports:{}},gA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ee,oe){var ge=ee.length;ee.push(oe);e:for(;0<ge;){var Ae=ge-1>>>1,xe=ee[Ae];if(0<i(xe,oe))ee[Ae]=oe,ee[ge]=xe,ge=Ae;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var oe=ee[0],ge=ee.pop();if(ge!==oe){ee[0]=ge;e:for(var Ae=0,xe=ee.length,We=xe>>>1;Ae<We;){var lt=2*(Ae+1)-1,et=ee[lt],Ge=lt+1,it=ee[Ge];if(0>i(et,ge))Ge<xe&&0>i(it,et)?(ee[Ae]=it,ee[Ge]=ge,Ae=Ge):(ee[Ae]=et,ee[lt]=ge,Ae=lt);else if(Ge<xe&&0>i(it,ge))ee[Ae]=it,ee[Ge]=ge,Ae=Ge;else break e}}return oe}function i(ee,oe){var ge=ee.sortIndex-oe.sortIndex;return ge!==0?ge:ee.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],h=[],p=1,m=null,y=3,A=!1,R=!1,I=!1,N=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(ee){for(var oe=n(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=ee)r(h),oe.sortIndex=oe.expirationTime,e(c,oe);else break;oe=n(h)}}function j(ee){if(I=!1,P(ee),!R)if(n(c)!==null)R=!0,Oe(K);else{var oe=n(h);oe!==null&&De(j,oe.startTime-ee)}}function K(ee,oe){R=!1,I&&(I=!1,S(C),C=-1),A=!0;var ge=y;try{for(P(oe),m=n(c);m!==null&&(!(m.expirationTime>oe)||ee&&!U());){var Ae=m.callback;if(typeof Ae=="function"){m.callback=null,y=m.priorityLevel;var xe=Ae(m.expirationTime<=oe);oe=t.unstable_now(),typeof xe=="function"?m.callback=xe:m===n(c)&&r(c),P(oe)}else r(c);m=n(c)}if(m!==null)var We=!0;else{var lt=n(h);lt!==null&&De(j,lt.startTime-oe),We=!1}return We}finally{m=null,y=ge,A=!1}}var Q=!1,x=null,C=-1,k=5,L=-1;function U(){return!(t.unstable_now()-L<k)}function F(){if(x!==null){var ee=t.unstable_now();L=ee;var oe=!0;try{oe=x(!0,ee)}finally{oe?M():(Q=!1,x=null)}}else Q=!1}var M;if(typeof E=="function")M=function(){E(F)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Se=pe.port2;pe.port1.onmessage=F,M=function(){Se.postMessage(null)}}else M=function(){N(F,0)};function Oe(ee){x=ee,Q||(Q=!0,M())}function De(ee,oe){C=N(function(){ee(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){R||A||(R=!0,Oe(K))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(ee){switch(y){case 1:case 2:case 3:var oe=3;break;default:oe=y}var ge=y;y=oe;try{return ee()}finally{y=ge}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,oe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ge=y;y=ee;try{return oe()}finally{y=ge}},t.unstable_scheduleCallback=function(ee,oe,ge){var Ae=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ae+ge:Ae):ge=Ae,ee){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ge+xe,ee={id:p++,callback:oe,priorityLevel:ee,startTime:ge,expirationTime:xe,sortIndex:-1},ge>Ae?(ee.sortIndex=ge,e(h,ee),n(c)===null&&ee===n(h)&&(I?(S(C),C=-1):I=!0,De(j,ge-Ae))):(ee.sortIndex=xe,e(c,ee),R||A||(R=!0,Oe(K))),ee},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(ee){var oe=y;return function(){var ge=y;y=oe;try{return ee.apply(this,arguments)}finally{y=ge}}}})(gA);pA.exports=gA;var BU=pA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $U=W,oi=BU;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mA=new Set,kd={};function yl(t,e){bu(t,e),bu(t+"Capture",e)}function bu(t,e){for(kd[t]=e,t=0;t<e.length;t++)mA.add(e[t])}var fo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t0=Object.prototype.hasOwnProperty,zU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uT={},cT={};function WU(t){return t0.call(cT,t)?!0:t0.call(uT,t)?!1:zU.test(t)?cT[t]=!0:(uT[t]=!0,!1)}function qU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HU(t,e,n,r){if(e===null||typeof e>"u"||qU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ar(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zn[t]=new Ar(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zn[e]=new Ar(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zn[t]=new Ar(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zn[t]=new Ar(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zn[t]=new Ar(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zn[t]=new Ar(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zn[t]=new Ar(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zn[t]=new Ar(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zn[t]=new Ar(t,5,!1,t.toLowerCase(),null,!1,!1)});var W_=/[\-:]([a-z])/g;function q_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(W_,q_);Zn[e]=new Ar(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(W_,q_);Zn[e]=new Ar(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(W_,q_);Zn[e]=new Ar(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zn[t]=new Ar(t,1,!1,t.toLowerCase(),null,!1,!1)});Zn.xlinkHref=new Ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zn[t]=new Ar(t,1,!1,t.toLowerCase(),null,!0,!0)});function H_(t,e,n,r){var i=Zn.hasOwnProperty(e)?Zn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HU(e,n,i,r)&&(n=null),r||i===null?WU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Eo=$U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qf=Symbol.for("react.element"),iu=Symbol.for("react.portal"),su=Symbol.for("react.fragment"),K_=Symbol.for("react.strict_mode"),n0=Symbol.for("react.profiler"),vA=Symbol.for("react.provider"),yA=Symbol.for("react.context"),G_=Symbol.for("react.forward_ref"),r0=Symbol.for("react.suspense"),i0=Symbol.for("react.suspense_list"),Q_=Symbol.for("react.memo"),Bo=Symbol.for("react.lazy"),_A=Symbol.for("react.offscreen"),dT=Symbol.iterator;function Mc(t){return t===null||typeof t!="object"?null:(t=dT&&t[dT]||t["@@iterator"],typeof t=="function"?t:null)}var rn=Object.assign,ry;function Xc(t){if(ry===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ry=e&&e[1]||""}return`
`+ry+t}var iy=!1;function sy(t,e){if(!t||iy)return"";iy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,u=s.length-1;1<=a&&0<=u&&i[a]!==s[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==s[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==s[u]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=u);break}}}finally{iy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xc(t):""}function KU(t){switch(t.tag){case 5:return Xc(t.type);case 16:return Xc("Lazy");case 13:return Xc("Suspense");case 19:return Xc("SuspenseList");case 0:case 2:case 15:return t=sy(t.type,!1),t;case 11:return t=sy(t.type.render,!1),t;case 1:return t=sy(t.type,!0),t;default:return""}}function s0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case su:return"Fragment";case iu:return"Portal";case n0:return"Profiler";case K_:return"StrictMode";case r0:return"Suspense";case i0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yA:return(t.displayName||"Context")+".Consumer";case vA:return(t._context.displayName||"Context")+".Provider";case G_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q_:return e=t.displayName||null,e!==null?e:s0(t.type)||"Memo";case Bo:e=t._payload,t=t._init;try{return s0(t(e))}catch{}}return null}function GU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return s0(e);case 8:return e===K_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QU(t){var e=wA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hf(t){t._valueTracker||(t._valueTracker=QU(t))}function EA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function tg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function o0(t,e){var n=e.checked;return rn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function SA(t,e){e=e.checked,e!=null&&H_(t,"checked",e,!1)}function a0(t,e){SA(t,e);var n=pa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?l0(t,e.type,n):e.hasOwnProperty("defaultValue")&&l0(t,e.type,pa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function l0(t,e,n){(e!=="number"||tg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jc=Array.isArray;function _u(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function u0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return rn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(fe(92));if(Jc(n)){if(1<n.length)throw Error(fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pa(n)}}function TA(t,e){var n=pa(e.value),r=pa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function c0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kf,IA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kf=Kf||document.createElement("div"),Kf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ld={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YU=["Webkit","ms","Moz","O"];Object.keys(ld).forEach(function(t){YU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ld[e]=ld[t]})});function CA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ld.hasOwnProperty(t)&&ld[t]?(""+e).trim():e+"px"}function AA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=CA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var XU=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function d0(t,e){if(e){if(XU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function h0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f0=null;function Y_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var p0=null,wu=null,Eu=null;function mT(t){if(t=gh(t)){if(typeof p0!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=gm(e),p0(t.stateNode,t.type,e))}}function PA(t){wu?Eu?Eu.push(t):Eu=[t]:wu=t}function RA(){if(wu){var t=wu,e=Eu;if(Eu=wu=null,mT(t),e)for(t=0;t<e.length;t++)mT(e[t])}}function bA(t,e){return t(e)}function kA(){}var oy=!1;function NA(t,e,n){if(oy)return t(e,n);oy=!0;try{return bA(t,e,n)}finally{oy=!1,(wu!==null||Eu!==null)&&(kA(),RA())}}function Od(t,e){var n=t.stateNode;if(n===null)return null;var r=gm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(fe(231,e,typeof n));return n}var g0=!1;if(fo)try{var Fc={};Object.defineProperty(Fc,"passive",{get:function(){g0=!0}}),window.addEventListener("test",Fc,Fc),window.removeEventListener("test",Fc,Fc)}catch{g0=!1}function JU(t,e,n,r,i,s,a,u,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var ud=!1,ng=null,rg=!1,m0=null,ZU={onError:function(t){ud=!0,ng=t}};function e5(t,e,n,r,i,s,a,u,c){ud=!1,ng=null,JU.apply(ZU,arguments)}function t5(t,e,n,r,i,s,a,u,c){if(e5.apply(this,arguments),ud){if(ud){var h=ng;ud=!1,ng=null}else throw Error(fe(198));rg||(rg=!0,m0=h)}}function _l(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function OA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vT(t){if(_l(t)!==t)throw Error(fe(188))}function n5(t){var e=t.alternate;if(!e){if(e=_l(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return vT(i),t;if(s===r)return vT(i),e;s=s.sibling}throw Error(fe(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?t:e}function DA(t){return t=n5(t),t!==null?LA(t):null}function LA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=LA(t);if(e!==null)return e;t=t.sibling}return null}var MA=oi.unstable_scheduleCallback,yT=oi.unstable_cancelCallback,r5=oi.unstable_shouldYield,i5=oi.unstable_requestPaint,vn=oi.unstable_now,s5=oi.unstable_getCurrentPriorityLevel,X_=oi.unstable_ImmediatePriority,FA=oi.unstable_UserBlockingPriority,ig=oi.unstable_NormalPriority,o5=oi.unstable_LowPriority,VA=oi.unstable_IdlePriority,dm=null,xs=null;function a5(t){if(xs&&typeof xs.onCommitFiberRoot=="function")try{xs.onCommitFiberRoot(dm,t,void 0,(t.current.flags&128)===128)}catch{}}var Ki=Math.clz32?Math.clz32:c5,l5=Math.log,u5=Math.LN2;function c5(t){return t>>>=0,t===0?32:31-(l5(t)/u5|0)|0}var Gf=64,Qf=4194304;function Zc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~i;u!==0?r=Zc(u):(s&=a,s!==0&&(r=Zc(s)))}else a=n&~i,a!==0?r=Zc(a):s!==0&&(r=Zc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ki(e),i=1<<n,r|=t[n],e&=~i;return r}function d5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ki(s),u=1<<a,c=i[a];c===-1?(!(u&n)||u&r)&&(i[a]=d5(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}}function v0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function UA(){var t=Gf;return Gf<<=1,!(Gf&4194240)&&(Gf=64),t}function ay(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ki(e),t[e]=n}function f5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ki(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function J_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ki(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Nt=0;function jA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var BA,Z_,$A,zA,WA,y0=!1,Yf=[],ta=null,na=null,ra=null,Dd=new Map,Ld=new Map,Wo=[],p5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _T(t,e){switch(t){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":Dd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ld.delete(e.pointerId)}}function Vc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=gh(e),e!==null&&Z_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function g5(t,e,n,r,i){switch(e){case"focusin":return ta=Vc(ta,t,e,n,r,i),!0;case"dragenter":return na=Vc(na,t,e,n,r,i),!0;case"mouseover":return ra=Vc(ra,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dd.set(s,Vc(Dd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ld.set(s,Vc(Ld.get(s)||null,t,e,n,r,i)),!0}return!1}function qA(t){var e=Ha(t.target);if(e!==null){var n=_l(e);if(n!==null){if(e=n.tag,e===13){if(e=OA(n),e!==null){t.blockedOn=e,WA(t.priority,function(){$A(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);f0=r,n.target.dispatchEvent(r),f0=null}else return e=gh(n),e!==null&&Z_(e),t.blockedOn=n,!1;e.shift()}return!0}function wT(t,e,n){xp(t)&&n.delete(e)}function m5(){y0=!1,ta!==null&&xp(ta)&&(ta=null),na!==null&&xp(na)&&(na=null),ra!==null&&xp(ra)&&(ra=null),Dd.forEach(wT),Ld.forEach(wT)}function Uc(t,e){t.blockedOn===e&&(t.blockedOn=null,y0||(y0=!0,oi.unstable_scheduleCallback(oi.unstable_NormalPriority,m5)))}function Md(t){function e(i){return Uc(i,t)}if(0<Yf.length){Uc(Yf[0],t);for(var n=1;n<Yf.length;n++){var r=Yf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ta!==null&&Uc(ta,t),na!==null&&Uc(na,t),ra!==null&&Uc(ra,t),Dd.forEach(e),Ld.forEach(e),n=0;n<Wo.length;n++)r=Wo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wo.length&&(n=Wo[0],n.blockedOn===null);)qA(n),n.blockedOn===null&&Wo.shift()}var Su=Eo.ReactCurrentBatchConfig,og=!0;function v5(t,e,n,r){var i=Nt,s=Su.transition;Su.transition=null;try{Nt=1,ew(t,e,n,r)}finally{Nt=i,Su.transition=s}}function y5(t,e,n,r){var i=Nt,s=Su.transition;Su.transition=null;try{Nt=4,ew(t,e,n,r)}finally{Nt=i,Su.transition=s}}function ew(t,e,n,r){if(og){var i=_0(t,e,n,r);if(i===null)vy(t,e,r,ag,n),_T(t,r);else if(g5(i,t,e,n,r))r.stopPropagation();else if(_T(t,r),e&4&&-1<p5.indexOf(t)){for(;i!==null;){var s=gh(i);if(s!==null&&BA(s),s=_0(t,e,n,r),s===null&&vy(t,e,r,ag,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vy(t,e,r,null,n)}}var ag=null;function _0(t,e,n,r){if(ag=null,t=Y_(r),t=Ha(t),t!==null)if(e=_l(t),e===null)t=null;else if(n=e.tag,n===13){if(t=OA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ag=t,null}function HA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s5()){case X_:return 1;case FA:return 4;case ig:case o5:return 16;case VA:return 536870912;default:return 16}default:return 16}}var Yo=null,tw=null,Ip=null;function KA(){if(Ip)return Ip;var t,e=tw,n=e.length,r,i="value"in Yo?Yo.value:Yo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Ip=i.slice(t,1<r?1-r:void 0)}function Cp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xf(){return!0}function ET(){return!1}function li(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xf:ET,this.isPropagationStopped=ET,this}return rn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xf)},persist:function(){},isPersistent:Xf}),e}var Xu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nw=li(Xu),ph=rn({},Xu,{view:0,detail:0}),_5=li(ph),ly,uy,jc,hm=rn({},ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jc&&(jc&&t.type==="mousemove"?(ly=t.screenX-jc.screenX,uy=t.screenY-jc.screenY):uy=ly=0,jc=t),ly)},movementY:function(t){return"movementY"in t?t.movementY:uy}}),ST=li(hm),w5=rn({},hm,{dataTransfer:0}),E5=li(w5),S5=rn({},ph,{relatedTarget:0}),cy=li(S5),T5=rn({},Xu,{animationName:0,elapsedTime:0,pseudoElement:0}),x5=li(T5),I5=rn({},Xu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),C5=li(I5),A5=rn({},Xu,{data:0}),TT=li(A5),P5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=b5[t])?!!e[t]:!1}function rw(){return k5}var N5=rn({},ph,{key:function(t){if(t.key){var e=P5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?R5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rw,charCode:function(t){return t.type==="keypress"?Cp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),O5=li(N5),D5=rn({},hm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xT=li(D5),L5=rn({},ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rw}),M5=li(L5),F5=rn({},Xu,{propertyName:0,elapsedTime:0,pseudoElement:0}),V5=li(F5),U5=rn({},hm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),j5=li(U5),B5=[9,13,27,32],iw=fo&&"CompositionEvent"in window,cd=null;fo&&"documentMode"in document&&(cd=document.documentMode);var $5=fo&&"TextEvent"in window&&!cd,GA=fo&&(!iw||cd&&8<cd&&11>=cd),IT=" ",CT=!1;function QA(t,e){switch(t){case"keyup":return B5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ou=!1;function z5(t,e){switch(t){case"compositionend":return YA(e);case"keypress":return e.which!==32?null:(CT=!0,IT);case"textInput":return t=e.data,t===IT&&CT?null:t;default:return null}}function W5(t,e){if(ou)return t==="compositionend"||!iw&&QA(t,e)?(t=KA(),Ip=tw=Yo=null,ou=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return GA&&e.locale!=="ko"?null:e.data;default:return null}}var q5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!q5[t.type]:e==="textarea"}function XA(t,e,n,r){PA(r),e=lg(e,"onChange"),0<e.length&&(n=new nw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var dd=null,Fd=null;function H5(t){lP(t,0)}function fm(t){var e=uu(t);if(EA(e))return t}function K5(t,e){if(t==="change")return e}var JA=!1;if(fo){var dy;if(fo){var hy="oninput"in document;if(!hy){var PT=document.createElement("div");PT.setAttribute("oninput","return;"),hy=typeof PT.oninput=="function"}dy=hy}else dy=!1;JA=dy&&(!document.documentMode||9<document.documentMode)}function RT(){dd&&(dd.detachEvent("onpropertychange",ZA),Fd=dd=null)}function ZA(t){if(t.propertyName==="value"&&fm(Fd)){var e=[];XA(e,Fd,t,Y_(t)),NA(H5,e)}}function G5(t,e,n){t==="focusin"?(RT(),dd=e,Fd=n,dd.attachEvent("onpropertychange",ZA)):t==="focusout"&&RT()}function Q5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fm(Fd)}function Y5(t,e){if(t==="click")return fm(e)}function X5(t,e){if(t==="input"||t==="change")return fm(e)}function J5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xi=typeof Object.is=="function"?Object.is:J5;function Vd(t,e){if(Xi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!t0.call(e,i)||!Xi(t[i],e[i]))return!1}return!0}function bT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kT(t,e){var n=bT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bT(n)}}function eP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tP(){for(var t=window,e=tg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=tg(t.document)}return e}function sw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Z5(t){var e=tP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&eP(n.ownerDocument.documentElement,n)){if(r!==null&&sw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=kT(n,s);var a=kT(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var e9=fo&&"documentMode"in document&&11>=document.documentMode,au=null,w0=null,hd=null,E0=!1;function NT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;E0||au==null||au!==tg(r)||(r=au,"selectionStart"in r&&sw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hd&&Vd(hd,r)||(hd=r,r=lg(w0,"onSelect"),0<r.length&&(e=new nw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=au)))}function Jf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lu={animationend:Jf("Animation","AnimationEnd"),animationiteration:Jf("Animation","AnimationIteration"),animationstart:Jf("Animation","AnimationStart"),transitionend:Jf("Transition","TransitionEnd")},fy={},nP={};fo&&(nP=document.createElement("div").style,"AnimationEvent"in window||(delete lu.animationend.animation,delete lu.animationiteration.animation,delete lu.animationstart.animation),"TransitionEvent"in window||delete lu.transitionend.transition);function pm(t){if(fy[t])return fy[t];if(!lu[t])return t;var e=lu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nP)return fy[t]=e[n];return t}var rP=pm("animationend"),iP=pm("animationiteration"),sP=pm("animationstart"),oP=pm("transitionend"),aP=new Map,OT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(t,e){aP.set(t,e),yl(e,[t])}for(var py=0;py<OT.length;py++){var gy=OT[py],t9=gy.toLowerCase(),n9=gy[0].toUpperCase()+gy.slice(1);wa(t9,"on"+n9)}wa(rP,"onAnimationEnd");wa(iP,"onAnimationIteration");wa(sP,"onAnimationStart");wa("dblclick","onDoubleClick");wa("focusin","onFocus");wa("focusout","onBlur");wa(oP,"onTransitionEnd");bu("onMouseEnter",["mouseout","mouseover"]);bu("onMouseLeave",["mouseout","mouseover"]);bu("onPointerEnter",["pointerout","pointerover"]);bu("onPointerLeave",["pointerout","pointerover"]);yl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yl("onBeforeInput",["compositionend","keypress","textInput","paste"]);yl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r9=new Set("cancel close invalid load scroll toggle".split(" ").concat(ed));function DT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,t5(r,e,void 0,t),t.currentTarget=null}function lP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var u=r[a],c=u.instance,h=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break e;DT(i,u,h),s=c}else for(a=0;a<r.length;a++){if(u=r[a],c=u.instance,h=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break e;DT(i,u,h),s=c}}}if(rg)throw t=m0,rg=!1,m0=null,t}function qt(t,e){var n=e[C0];n===void 0&&(n=e[C0]=new Set);var r=t+"__bubble";n.has(r)||(uP(e,t,2,!1),n.add(r))}function my(t,e,n){var r=0;e&&(r|=4),uP(n,t,r,e)}var Zf="_reactListening"+Math.random().toString(36).slice(2);function Ud(t){if(!t[Zf]){t[Zf]=!0,mA.forEach(function(n){n!=="selectionchange"&&(r9.has(n)||my(n,!1,t),my(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zf]||(e[Zf]=!0,my("selectionchange",!1,e))}}function uP(t,e,n,r){switch(HA(e)){case 1:var i=v5;break;case 4:i=y5;break;default:i=ew}n=i.bind(null,e,n,t),i=void 0,!g0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vy(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;u!==null;){if(a=Ha(u),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}u=u.parentNode}}r=r.return}NA(function(){var h=s,p=Y_(n),m=[];e:{var y=aP.get(t);if(y!==void 0){var A=nw,R=t;switch(t){case"keypress":if(Cp(n)===0)break e;case"keydown":case"keyup":A=O5;break;case"focusin":R="focus",A=cy;break;case"focusout":R="blur",A=cy;break;case"beforeblur":case"afterblur":A=cy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=ST;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=E5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=M5;break;case rP:case iP:case sP:A=x5;break;case oP:A=V5;break;case"scroll":A=_5;break;case"wheel":A=j5;break;case"copy":case"cut":case"paste":A=C5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=xT}var I=(e&4)!==0,N=!I&&t==="scroll",S=I?y!==null?y+"Capture":null:y;I=[];for(var E=h,P;E!==null;){P=E;var j=P.stateNode;if(P.tag===5&&j!==null&&(P=j,S!==null&&(j=Od(E,S),j!=null&&I.push(jd(E,j,P)))),N)break;E=E.return}0<I.length&&(y=new A(y,R,null,n,p),m.push({event:y,listeners:I}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",A=t==="mouseout"||t==="pointerout",y&&n!==f0&&(R=n.relatedTarget||n.fromElement)&&(Ha(R)||R[po]))break e;if((A||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,A?(R=n.relatedTarget||n.toElement,A=h,R=R?Ha(R):null,R!==null&&(N=_l(R),R!==N||R.tag!==5&&R.tag!==6)&&(R=null)):(A=null,R=h),A!==R)){if(I=ST,j="onMouseLeave",S="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(I=xT,j="onPointerLeave",S="onPointerEnter",E="pointer"),N=A==null?y:uu(A),P=R==null?y:uu(R),y=new I(j,E+"leave",A,n,p),y.target=N,y.relatedTarget=P,j=null,Ha(p)===h&&(I=new I(S,E+"enter",R,n,p),I.target=P,I.relatedTarget=N,j=I),N=j,A&&R)t:{for(I=A,S=R,E=0,P=I;P;P=Xl(P))E++;for(P=0,j=S;j;j=Xl(j))P++;for(;0<E-P;)I=Xl(I),E--;for(;0<P-E;)S=Xl(S),P--;for(;E--;){if(I===S||S!==null&&I===S.alternate)break t;I=Xl(I),S=Xl(S)}I=null}else I=null;A!==null&&LT(m,y,A,I,!1),R!==null&&N!==null&&LT(m,N,R,I,!0)}}e:{if(y=h?uu(h):window,A=y.nodeName&&y.nodeName.toLowerCase(),A==="select"||A==="input"&&y.type==="file")var K=K5;else if(AT(y))if(JA)K=X5;else{K=Q5;var Q=G5}else(A=y.nodeName)&&A.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(K=Y5);if(K&&(K=K(t,h))){XA(m,K,n,p);break e}Q&&Q(t,y,h),t==="focusout"&&(Q=y._wrapperState)&&Q.controlled&&y.type==="number"&&l0(y,"number",y.value)}switch(Q=h?uu(h):window,t){case"focusin":(AT(Q)||Q.contentEditable==="true")&&(au=Q,w0=h,hd=null);break;case"focusout":hd=w0=au=null;break;case"mousedown":E0=!0;break;case"contextmenu":case"mouseup":case"dragend":E0=!1,NT(m,n,p);break;case"selectionchange":if(e9)break;case"keydown":case"keyup":NT(m,n,p)}var x;if(iw)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ou?QA(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(GA&&n.locale!=="ko"&&(ou||C!=="onCompositionStart"?C==="onCompositionEnd"&&ou&&(x=KA()):(Yo=p,tw="value"in Yo?Yo.value:Yo.textContent,ou=!0)),Q=lg(h,C),0<Q.length&&(C=new TT(C,t,null,n,p),m.push({event:C,listeners:Q}),x?C.data=x:(x=YA(n),x!==null&&(C.data=x)))),(x=$5?z5(t,n):W5(t,n))&&(h=lg(h,"onBeforeInput"),0<h.length&&(p=new TT("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:h}),p.data=x))}lP(m,e)})}function jd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Od(t,n),s!=null&&r.unshift(jd(t,s,i)),s=Od(t,e),s!=null&&r.push(jd(t,s,i))),t=t.return}return r}function Xl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function LT(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var u=n,c=u.alternate,h=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&h!==null&&(u=h,i?(c=Od(n,s),c!=null&&a.unshift(jd(n,c,u))):i||(c=Od(n,s),c!=null&&a.push(jd(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var i9=/\r\n?/g,s9=/\u0000|\uFFFD/g;function MT(t){return(typeof t=="string"?t:""+t).replace(i9,`
`).replace(s9,"")}function ep(t,e,n){if(e=MT(e),MT(t)!==e&&n)throw Error(fe(425))}function ug(){}var S0=null,T0=null;function x0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var I0=typeof setTimeout=="function"?setTimeout:void 0,o9=typeof clearTimeout=="function"?clearTimeout:void 0,FT=typeof Promise=="function"?Promise:void 0,a9=typeof queueMicrotask=="function"?queueMicrotask:typeof FT<"u"?function(t){return FT.resolve(null).then(t).catch(l9)}:I0;function l9(t){setTimeout(function(){throw t})}function yy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Md(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Md(e)}function ia(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function VT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ju=Math.random().toString(36).slice(2),ws="__reactFiber$"+Ju,Bd="__reactProps$"+Ju,po="__reactContainer$"+Ju,C0="__reactEvents$"+Ju,u9="__reactListeners$"+Ju,c9="__reactHandles$"+Ju;function Ha(t){var e=t[ws];if(e)return e;for(var n=t.parentNode;n;){if(e=n[po]||n[ws]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=VT(t);t!==null;){if(n=t[ws])return n;t=VT(t)}return e}t=n,n=t.parentNode}return null}function gh(t){return t=t[ws]||t[po],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function gm(t){return t[Bd]||null}var A0=[],cu=-1;function Ea(t){return{current:t}}function Ht(t){0>cu||(t.current=A0[cu],A0[cu]=null,cu--)}function Bt(t,e){cu++,A0[cu]=t.current,t.current=e}var ga={},hr=Ea(ga),Ur=Ea(!1),il=ga;function ku(t,e){var n=t.type.contextTypes;if(!n)return ga;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function jr(t){return t=t.childContextTypes,t!=null}function cg(){Ht(Ur),Ht(hr)}function UT(t,e,n){if(hr.current!==ga)throw Error(fe(168));Bt(hr,e),Bt(Ur,n)}function cP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(fe(108,GU(t)||"Unknown",i));return rn({},n,r)}function dg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ga,il=hr.current,Bt(hr,t),Bt(Ur,Ur.current),!0}function jT(t,e,n){var r=t.stateNode;if(!r)throw Error(fe(169));n?(t=cP(t,e,il),r.__reactInternalMemoizedMergedChildContext=t,Ht(Ur),Ht(hr),Bt(hr,t)):Ht(Ur),Bt(Ur,n)}var Zs=null,mm=!1,_y=!1;function dP(t){Zs===null?Zs=[t]:Zs.push(t)}function d9(t){mm=!0,dP(t)}function Sa(){if(!_y&&Zs!==null){_y=!0;var t=0,e=Nt;try{var n=Zs;for(Nt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zs=null,mm=!1}catch(i){throw Zs!==null&&(Zs=Zs.slice(t+1)),MA(X_,Sa),i}finally{Nt=e,_y=!1}}return null}var du=[],hu=0,hg=null,fg=0,wi=[],Ei=0,sl=null,to=1,no="";function za(t,e){du[hu++]=fg,du[hu++]=hg,hg=t,fg=e}function hP(t,e,n){wi[Ei++]=to,wi[Ei++]=no,wi[Ei++]=sl,sl=t;var r=to;t=no;var i=32-Ki(r)-1;r&=~(1<<i),n+=1;var s=32-Ki(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,to=1<<32-Ki(e)+i|n<<i|r,no=s+t}else to=1<<s|n<<i|r,no=t}function ow(t){t.return!==null&&(za(t,1),hP(t,1,0))}function aw(t){for(;t===hg;)hg=du[--hu],du[hu]=null,fg=du[--hu],du[hu]=null;for(;t===sl;)sl=wi[--Ei],wi[Ei]=null,no=wi[--Ei],wi[Ei]=null,to=wi[--Ei],wi[Ei]=null}var si=null,ti=null,Yt=!1,Wi=null;function fP(t,e){var n=Ti(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function BT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,si=t,ti=ia(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,si=t,ti=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=sl!==null?{id:to,overflow:no}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ti(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,si=t,ti=null,!0):!1;default:return!1}}function P0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function R0(t){if(Yt){var e=ti;if(e){var n=e;if(!BT(t,e)){if(P0(t))throw Error(fe(418));e=ia(n.nextSibling);var r=si;e&&BT(t,e)?fP(r,n):(t.flags=t.flags&-4097|2,Yt=!1,si=t)}}else{if(P0(t))throw Error(fe(418));t.flags=t.flags&-4097|2,Yt=!1,si=t}}}function $T(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;si=t}function tp(t){if(t!==si)return!1;if(!Yt)return $T(t),Yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!x0(t.type,t.memoizedProps)),e&&(e=ti)){if(P0(t))throw pP(),Error(fe(418));for(;e;)fP(t,e),e=ia(e.nextSibling)}if($T(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ti=ia(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ti=null}}else ti=si?ia(t.stateNode.nextSibling):null;return!0}function pP(){for(var t=ti;t;)t=ia(t.nextSibling)}function Nu(){ti=si=null,Yt=!1}function lw(t){Wi===null?Wi=[t]:Wi.push(t)}var h9=Eo.ReactCurrentBatchConfig;function Bc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var u=i.refs;a===null?delete u[s]:u[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,t))}return t}function np(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zT(t){var e=t._init;return e(t._payload)}function gP(t){function e(S,E){if(t){var P=S.deletions;P===null?(S.deletions=[E],S.flags|=16):P.push(E)}}function n(S,E){if(!t)return null;for(;E!==null;)e(S,E),E=E.sibling;return null}function r(S,E){for(S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function i(S,E){return S=la(S,E),S.index=0,S.sibling=null,S}function s(S,E,P){return S.index=P,t?(P=S.alternate,P!==null?(P=P.index,P<E?(S.flags|=2,E):P):(S.flags|=2,E)):(S.flags|=1048576,E)}function a(S){return t&&S.alternate===null&&(S.flags|=2),S}function u(S,E,P,j){return E===null||E.tag!==6?(E=Cy(P,S.mode,j),E.return=S,E):(E=i(E,P),E.return=S,E)}function c(S,E,P,j){var K=P.type;return K===su?p(S,E,P.props.children,j,P.key):E!==null&&(E.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Bo&&zT(K)===E.type)?(j=i(E,P.props),j.ref=Bc(S,E,P),j.return=S,j):(j=Op(P.type,P.key,P.props,null,S.mode,j),j.ref=Bc(S,E,P),j.return=S,j)}function h(S,E,P,j){return E===null||E.tag!==4||E.stateNode.containerInfo!==P.containerInfo||E.stateNode.implementation!==P.implementation?(E=Ay(P,S.mode,j),E.return=S,E):(E=i(E,P.children||[]),E.return=S,E)}function p(S,E,P,j,K){return E===null||E.tag!==7?(E=tl(P,S.mode,j,K),E.return=S,E):(E=i(E,P),E.return=S,E)}function m(S,E,P){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Cy(""+E,S.mode,P),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case qf:return P=Op(E.type,E.key,E.props,null,S.mode,P),P.ref=Bc(S,null,E),P.return=S,P;case iu:return E=Ay(E,S.mode,P),E.return=S,E;case Bo:var j=E._init;return m(S,j(E._payload),P)}if(Jc(E)||Mc(E))return E=tl(E,S.mode,P,null),E.return=S,E;np(S,E)}return null}function y(S,E,P,j){var K=E!==null?E.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return K!==null?null:u(S,E,""+P,j);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case qf:return P.key===K?c(S,E,P,j):null;case iu:return P.key===K?h(S,E,P,j):null;case Bo:return K=P._init,y(S,E,K(P._payload),j)}if(Jc(P)||Mc(P))return K!==null?null:p(S,E,P,j,null);np(S,P)}return null}function A(S,E,P,j,K){if(typeof j=="string"&&j!==""||typeof j=="number")return S=S.get(P)||null,u(E,S,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case qf:return S=S.get(j.key===null?P:j.key)||null,c(E,S,j,K);case iu:return S=S.get(j.key===null?P:j.key)||null,h(E,S,j,K);case Bo:var Q=j._init;return A(S,E,P,Q(j._payload),K)}if(Jc(j)||Mc(j))return S=S.get(P)||null,p(E,S,j,K,null);np(E,j)}return null}function R(S,E,P,j){for(var K=null,Q=null,x=E,C=E=0,k=null;x!==null&&C<P.length;C++){x.index>C?(k=x,x=null):k=x.sibling;var L=y(S,x,P[C],j);if(L===null){x===null&&(x=k);break}t&&x&&L.alternate===null&&e(S,x),E=s(L,E,C),Q===null?K=L:Q.sibling=L,Q=L,x=k}if(C===P.length)return n(S,x),Yt&&za(S,C),K;if(x===null){for(;C<P.length;C++)x=m(S,P[C],j),x!==null&&(E=s(x,E,C),Q===null?K=x:Q.sibling=x,Q=x);return Yt&&za(S,C),K}for(x=r(S,x);C<P.length;C++)k=A(x,S,C,P[C],j),k!==null&&(t&&k.alternate!==null&&x.delete(k.key===null?C:k.key),E=s(k,E,C),Q===null?K=k:Q.sibling=k,Q=k);return t&&x.forEach(function(U){return e(S,U)}),Yt&&za(S,C),K}function I(S,E,P,j){var K=Mc(P);if(typeof K!="function")throw Error(fe(150));if(P=K.call(P),P==null)throw Error(fe(151));for(var Q=K=null,x=E,C=E=0,k=null,L=P.next();x!==null&&!L.done;C++,L=P.next()){x.index>C?(k=x,x=null):k=x.sibling;var U=y(S,x,L.value,j);if(U===null){x===null&&(x=k);break}t&&x&&U.alternate===null&&e(S,x),E=s(U,E,C),Q===null?K=U:Q.sibling=U,Q=U,x=k}if(L.done)return n(S,x),Yt&&za(S,C),K;if(x===null){for(;!L.done;C++,L=P.next())L=m(S,L.value,j),L!==null&&(E=s(L,E,C),Q===null?K=L:Q.sibling=L,Q=L);return Yt&&za(S,C),K}for(x=r(S,x);!L.done;C++,L=P.next())L=A(x,S,C,L.value,j),L!==null&&(t&&L.alternate!==null&&x.delete(L.key===null?C:L.key),E=s(L,E,C),Q===null?K=L:Q.sibling=L,Q=L);return t&&x.forEach(function(F){return e(S,F)}),Yt&&za(S,C),K}function N(S,E,P,j){if(typeof P=="object"&&P!==null&&P.type===su&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case qf:e:{for(var K=P.key,Q=E;Q!==null;){if(Q.key===K){if(K=P.type,K===su){if(Q.tag===7){n(S,Q.sibling),E=i(Q,P.props.children),E.return=S,S=E;break e}}else if(Q.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Bo&&zT(K)===Q.type){n(S,Q.sibling),E=i(Q,P.props),E.ref=Bc(S,Q,P),E.return=S,S=E;break e}n(S,Q);break}else e(S,Q);Q=Q.sibling}P.type===su?(E=tl(P.props.children,S.mode,j,P.key),E.return=S,S=E):(j=Op(P.type,P.key,P.props,null,S.mode,j),j.ref=Bc(S,E,P),j.return=S,S=j)}return a(S);case iu:e:{for(Q=P.key;E!==null;){if(E.key===Q)if(E.tag===4&&E.stateNode.containerInfo===P.containerInfo&&E.stateNode.implementation===P.implementation){n(S,E.sibling),E=i(E,P.children||[]),E.return=S,S=E;break e}else{n(S,E);break}else e(S,E);E=E.sibling}E=Ay(P,S.mode,j),E.return=S,S=E}return a(S);case Bo:return Q=P._init,N(S,E,Q(P._payload),j)}if(Jc(P))return R(S,E,P,j);if(Mc(P))return I(S,E,P,j);np(S,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,E!==null&&E.tag===6?(n(S,E.sibling),E=i(E,P),E.return=S,S=E):(n(S,E),E=Cy(P,S.mode,j),E.return=S,S=E),a(S)):n(S,E)}return N}var Ou=gP(!0),mP=gP(!1),pg=Ea(null),gg=null,fu=null,uw=null;function cw(){uw=fu=gg=null}function dw(t){var e=pg.current;Ht(pg),t._currentValue=e}function b0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Tu(t,e){gg=t,uw=fu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vr=!0),t.firstContext=null)}function Ii(t){var e=t._currentValue;if(uw!==t)if(t={context:t,memoizedValue:e,next:null},fu===null){if(gg===null)throw Error(fe(308));fu=t,gg.dependencies={lanes:0,firstContext:t}}else fu=fu.next=t;return e}var Ka=null;function hw(t){Ka===null?Ka=[t]:Ka.push(t)}function vP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hw(e)):(n.next=i.next,i.next=n),e.interleaved=n,go(t,r)}function go(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $o=!1;function fw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function uo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,wt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,go(t,n)}return i=r.interleaved,i===null?(e.next=e,hw(r)):(e.next=i.next,i.next=e),r.interleaved=e,go(t,n)}function Ap(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,J_(t,n)}}function WT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function mg(t,e,n,r){var i=t.updateQueue;$o=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var p=t.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==a&&(u===null?p.firstBaseUpdate=h:u.next=h,p.lastBaseUpdate=c))}if(s!==null){var m=i.baseState;a=0,p=h=c=null,u=s;do{var y=u.lane,A=u.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:A,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var R=t,I=u;switch(y=e,A=n,I.tag){case 1:if(R=I.payload,typeof R=="function"){m=R.call(A,m,y);break e}m=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=I.payload,y=typeof R=="function"?R.call(A,m,y):R,y==null)break e;m=rn({},m,y);break e;case 2:$o=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[u]:y.push(u))}else A={eventTime:A,lane:y,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(h=p=A,c=m):p=p.next=A,a|=y;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;y=u,u=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(p===null&&(c=m),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);al|=a,t.lanes=a,t.memoizedState=m}}function qT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(fe(191,i));i.call(r)}}}var mh={},Is=Ea(mh),$d=Ea(mh),zd=Ea(mh);function Ga(t){if(t===mh)throw Error(fe(174));return t}function pw(t,e){switch(Bt(zd,e),Bt($d,t),Bt(Is,mh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:c0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=c0(e,t)}Ht(Is),Bt(Is,e)}function Du(){Ht(Is),Ht($d),Ht(zd)}function _P(t){Ga(zd.current);var e=Ga(Is.current),n=c0(e,t.type);e!==n&&(Bt($d,t),Bt(Is,n))}function gw(t){$d.current===t&&(Ht(Is),Ht($d))}var tn=Ea(0);function vg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wy=[];function mw(){for(var t=0;t<wy.length;t++)wy[t]._workInProgressVersionPrimary=null;wy.length=0}var Pp=Eo.ReactCurrentDispatcher,Ey=Eo.ReactCurrentBatchConfig,ol=0,nn=null,Ln=null,Wn=null,yg=!1,fd=!1,Wd=0,f9=0;function sr(){throw Error(fe(321))}function vw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xi(t[n],e[n]))return!1;return!0}function yw(t,e,n,r,i,s){if(ol=s,nn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pp.current=t===null||t.memoizedState===null?v9:y9,t=n(r,i),fd){s=0;do{if(fd=!1,Wd=0,25<=s)throw Error(fe(301));s+=1,Wn=Ln=null,e.updateQueue=null,Pp.current=_9,t=n(r,i)}while(fd)}if(Pp.current=_g,e=Ln!==null&&Ln.next!==null,ol=0,Wn=Ln=nn=null,yg=!1,e)throw Error(fe(300));return t}function _w(){var t=Wd!==0;return Wd=0,t}function _s(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?nn.memoizedState=Wn=t:Wn=Wn.next=t,Wn}function Ci(){if(Ln===null){var t=nn.alternate;t=t!==null?t.memoizedState:null}else t=Ln.next;var e=Wn===null?nn.memoizedState:Wn.next;if(e!==null)Wn=e,Ln=t;else{if(t===null)throw Error(fe(310));Ln=t,t={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Wn===null?nn.memoizedState=Wn=t:Wn=Wn.next=t}return Wn}function qd(t,e){return typeof e=="function"?e(t):e}function Sy(t){var e=Ci(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=Ln,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=a=null,c=null,h=s;do{var p=h.lane;if((ol&p)===p)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(u=c=m,a=r):c=c.next=m,nn.lanes|=p,al|=p}h=h.next}while(h!==null&&h!==s);c===null?a=r:c.next=u,Xi(r,e.memoizedState)||(Vr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,nn.lanes|=s,al|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ty(t){var e=Ci(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Xi(s,e.memoizedState)||(Vr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function wP(){}function EP(t,e){var n=nn,r=Ci(),i=e(),s=!Xi(r.memoizedState,i);if(s&&(r.memoizedState=i,Vr=!0),r=r.queue,ww(xP.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Wn!==null&&Wn.memoizedState.tag&1){if(n.flags|=2048,Hd(9,TP.bind(null,n,r,i,e),void 0,null),qn===null)throw Error(fe(349));ol&30||SP(n,e,i)}return i}function SP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nn.updateQueue,e===null?(e={lastEffect:null,stores:null},nn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function TP(t,e,n,r){e.value=n,e.getSnapshot=r,IP(e)&&CP(t)}function xP(t,e,n){return n(function(){IP(e)&&CP(t)})}function IP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xi(t,n)}catch{return!0}}function CP(t){var e=go(t,1);e!==null&&Gi(e,t,1,-1)}function HT(t){var e=_s();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qd,lastRenderedState:t},e.queue=t,t=t.dispatch=m9.bind(null,nn,t),[e.memoizedState,t]}function Hd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nn.updateQueue,e===null?(e={lastEffect:null,stores:null},nn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function AP(){return Ci().memoizedState}function Rp(t,e,n,r){var i=_s();nn.flags|=t,i.memoizedState=Hd(1|e,n,void 0,r===void 0?null:r)}function vm(t,e,n,r){var i=Ci();r=r===void 0?null:r;var s=void 0;if(Ln!==null){var a=Ln.memoizedState;if(s=a.destroy,r!==null&&vw(r,a.deps)){i.memoizedState=Hd(e,n,s,r);return}}nn.flags|=t,i.memoizedState=Hd(1|e,n,s,r)}function KT(t,e){return Rp(8390656,8,t,e)}function ww(t,e){return vm(2048,8,t,e)}function PP(t,e){return vm(4,2,t,e)}function RP(t,e){return vm(4,4,t,e)}function bP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kP(t,e,n){return n=n!=null?n.concat([t]):null,vm(4,4,bP.bind(null,e,t),n)}function Ew(){}function NP(t,e){var n=Ci();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function OP(t,e){var n=Ci();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function DP(t,e,n){return ol&21?(Xi(n,e)||(n=UA(),nn.lanes|=n,al|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vr=!0),t.memoizedState=n)}function p9(t,e){var n=Nt;Nt=n!==0&&4>n?n:4,t(!0);var r=Ey.transition;Ey.transition={};try{t(!1),e()}finally{Nt=n,Ey.transition=r}}function LP(){return Ci().memoizedState}function g9(t,e,n){var r=aa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},MP(t))FP(e,n);else if(n=vP(t,e,n,r),n!==null){var i=xr();Gi(n,t,r,i),VP(n,e,r)}}function m9(t,e,n){var r=aa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(MP(t))FP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,u=s(a,n);if(i.hasEagerState=!0,i.eagerState=u,Xi(u,a)){var c=e.interleaved;c===null?(i.next=i,hw(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=vP(t,e,i,r),n!==null&&(i=xr(),Gi(n,t,r,i),VP(n,e,r))}}function MP(t){var e=t.alternate;return t===nn||e!==null&&e===nn}function FP(t,e){fd=yg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function VP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,J_(t,n)}}var _g={readContext:Ii,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useInsertionEffect:sr,useLayoutEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useMutableSource:sr,useSyncExternalStore:sr,useId:sr,unstable_isNewReconciler:!1},v9={readContext:Ii,useCallback:function(t,e){return _s().memoizedState=[t,e===void 0?null:e],t},useContext:Ii,useEffect:KT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rp(4194308,4,bP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rp(4,2,t,e)},useMemo:function(t,e){var n=_s();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_s();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=g9.bind(null,nn,t),[r.memoizedState,t]},useRef:function(t){var e=_s();return t={current:t},e.memoizedState=t},useState:HT,useDebugValue:Ew,useDeferredValue:function(t){return _s().memoizedState=t},useTransition:function(){var t=HT(!1),e=t[0];return t=p9.bind(null,t[1]),_s().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nn,i=_s();if(Yt){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=e(),qn===null)throw Error(fe(349));ol&30||SP(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,KT(xP.bind(null,r,s,t),[t]),r.flags|=2048,Hd(9,TP.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=_s(),e=qn.identifierPrefix;if(Yt){var n=no,r=to;n=(r&~(1<<32-Ki(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=f9++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},y9={readContext:Ii,useCallback:NP,useContext:Ii,useEffect:ww,useImperativeHandle:kP,useInsertionEffect:PP,useLayoutEffect:RP,useMemo:OP,useReducer:Sy,useRef:AP,useState:function(){return Sy(qd)},useDebugValue:Ew,useDeferredValue:function(t){var e=Ci();return DP(e,Ln.memoizedState,t)},useTransition:function(){var t=Sy(qd)[0],e=Ci().memoizedState;return[t,e]},useMutableSource:wP,useSyncExternalStore:EP,useId:LP,unstable_isNewReconciler:!1},_9={readContext:Ii,useCallback:NP,useContext:Ii,useEffect:ww,useImperativeHandle:kP,useInsertionEffect:PP,useLayoutEffect:RP,useMemo:OP,useReducer:Ty,useRef:AP,useState:function(){return Ty(qd)},useDebugValue:Ew,useDeferredValue:function(t){var e=Ci();return Ln===null?e.memoizedState=t:DP(e,Ln.memoizedState,t)},useTransition:function(){var t=Ty(qd)[0],e=Ci().memoizedState;return[t,e]},useMutableSource:wP,useSyncExternalStore:EP,useId:LP,unstable_isNewReconciler:!1};function Bi(t,e){if(t&&t.defaultProps){e=rn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function k0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ym={isMounted:function(t){return(t=t._reactInternals)?_l(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xr(),i=aa(t),s=uo(r,i);s.payload=e,n!=null&&(s.callback=n),e=sa(t,s,i),e!==null&&(Gi(e,t,i,r),Ap(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xr(),i=aa(t),s=uo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=sa(t,s,i),e!==null&&(Gi(e,t,i,r),Ap(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xr(),r=aa(t),i=uo(n,r);i.tag=2,e!=null&&(i.callback=e),e=sa(t,i,r),e!==null&&(Gi(e,t,r,n),Ap(e,t,r))}};function GT(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Vd(n,r)||!Vd(i,s):!0}function UP(t,e,n){var r=!1,i=ga,s=e.contextType;return typeof s=="object"&&s!==null?s=Ii(s):(i=jr(e)?il:hr.current,r=e.contextTypes,s=(r=r!=null)?ku(t,i):ga),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ym,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function QT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ym.enqueueReplaceState(e,e.state,null)}function N0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},fw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ii(s):(s=jr(e)?il:hr.current,i.context=ku(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(k0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ym.enqueueReplaceState(i,i.state,null),mg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Lu(t,e){try{var n="",r=e;do n+=KU(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function xy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function O0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var w9=typeof WeakMap=="function"?WeakMap:Map;function jP(t,e,n){n=uo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Eg||(Eg=!0,z0=r),O0(t,e)},n}function BP(t,e,n){n=uo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){O0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){O0(t,e),typeof r!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function YT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new w9;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=D9.bind(null,t,e,n),e.then(t,t))}function XT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function JT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=uo(-1,1),e.tag=2,sa(n,e,1))),n.lanes|=1),t)}var E9=Eo.ReactCurrentOwner,Vr=!1;function Er(t,e,n,r){e.child=t===null?mP(e,null,n,r):Ou(e,t.child,n,r)}function ZT(t,e,n,r,i){n=n.render;var s=e.ref;return Tu(e,i),r=yw(t,e,n,r,s,i),n=_w(),t!==null&&!Vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mo(t,e,i)):(Yt&&n&&ow(e),e.flags|=1,Er(t,e,r,i),e.child)}function ex(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Rw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,$P(t,e,s,r,i)):(t=Op(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Vd,n(a,r)&&t.ref===e.ref)return mo(t,e,i)}return e.flags|=1,t=la(s,r),t.ref=e.ref,t.return=e,e.child=t}function $P(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Vd(s,r)&&t.ref===e.ref)if(Vr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Vr=!0);else return e.lanes=t.lanes,mo(t,e,i)}return D0(t,e,n,r,i)}function zP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt(gu,Zr),Zr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Bt(gu,Zr),Zr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Bt(gu,Zr),Zr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Bt(gu,Zr),Zr|=r;return Er(t,e,i,n),e.child}function WP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function D0(t,e,n,r,i){var s=jr(n)?il:hr.current;return s=ku(e,s),Tu(e,i),n=yw(t,e,n,r,s,i),r=_w(),t!==null&&!Vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mo(t,e,i)):(Yt&&r&&ow(e),e.flags|=1,Er(t,e,n,i),e.child)}function tx(t,e,n,r,i){if(jr(n)){var s=!0;dg(e)}else s=!1;if(Tu(e,i),e.stateNode===null)bp(t,e),UP(e,n,r),N0(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=Ii(h):(h=jr(n)?il:hr.current,h=ku(e,h));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||c!==h)&&QT(e,a,r,h),$o=!1;var y=e.memoizedState;a.state=y,mg(e,r,a,i),c=e.memoizedState,u!==r||y!==c||Ur.current||$o?(typeof p=="function"&&(k0(e,n,p,r),c=e.memoizedState),(u=$o||GT(e,n,u,r,y,c,h))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=h,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,yP(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:Bi(e.type,u),a.props=h,m=e.pendingProps,y=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ii(c):(c=jr(n)?il:hr.current,c=ku(e,c));var A=n.getDerivedStateFromProps;(p=typeof A=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==m||y!==c)&&QT(e,a,r,c),$o=!1,y=e.memoizedState,a.state=y,mg(e,r,a,i);var R=e.memoizedState;u!==m||y!==R||Ur.current||$o?(typeof A=="function"&&(k0(e,n,A,r),R=e.memoizedState),(h=$o||GT(e,n,h,r,y,R,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,R,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,R,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=R),a.props=r,a.state=R,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return L0(t,e,n,r,s,i)}function L0(t,e,n,r,i,s){WP(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&jT(e,n,!1),mo(t,e,s);r=e.stateNode,E9.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ou(e,t.child,null,s),e.child=Ou(e,null,u,s)):Er(t,e,u,s),e.memoizedState=r.state,i&&jT(e,n,!0),e.child}function qP(t){var e=t.stateNode;e.pendingContext?UT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&UT(t,e.context,!1),pw(t,e.containerInfo)}function nx(t,e,n,r,i){return Nu(),lw(i),e.flags|=256,Er(t,e,n,r),e.child}var M0={dehydrated:null,treeContext:null,retryLane:0};function F0(t){return{baseLanes:t,cachePool:null,transitions:null}}function HP(t,e,n){var r=e.pendingProps,i=tn.current,s=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Bt(tn,i&1),t===null)return R0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Em(a,r,0,null),t=tl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=F0(n),e.memoizedState=M0,t):Sw(e,a));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return S9(t,e,a,r,u,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=la(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=la(u,s):(s=tl(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?F0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=M0,r}return s=t.child,t=s.sibling,r=la(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sw(t,e){return e=Em({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rp(t,e,n,r){return r!==null&&lw(r),Ou(e,t.child,null,n),t=Sw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function S9(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=xy(Error(fe(422))),rp(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Em({mode:"visible",children:r.children},i,0,null),s=tl(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ou(e,t.child,null,a),e.child.memoizedState=F0(a),e.memoizedState=M0,s);if(!(e.mode&1))return rp(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(fe(419)),r=xy(s,r,void 0),rp(t,e,a,r)}if(u=(a&t.childLanes)!==0,Vr||u){if(r=qn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,go(t,i),Gi(r,t,i,-1))}return Pw(),r=xy(Error(fe(421))),rp(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=L9.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ti=ia(i.nextSibling),si=e,Yt=!0,Wi=null,t!==null&&(wi[Ei++]=to,wi[Ei++]=no,wi[Ei++]=sl,to=t.id,no=t.overflow,sl=e),e=Sw(e,r.children),e.flags|=4096,e)}function rx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),b0(t.return,e,n)}function Iy(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function KP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Er(t,e,r.children,n),r=tn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rx(t,n,e);else if(t.tag===19)rx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Bt(tn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Iy(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Iy(e,!0,n,null,s);break;case"together":Iy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),al|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,n=la(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=la(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function T9(t,e,n){switch(e.tag){case 3:qP(e),Nu();break;case 5:_P(e);break;case 1:jr(e.type)&&dg(e);break;case 4:pw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Bt(pg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Bt(tn,tn.current&1),e.flags|=128,null):n&e.child.childLanes?HP(t,e,n):(Bt(tn,tn.current&1),t=mo(t,e,n),t!==null?t.sibling:null);Bt(tn,tn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return KP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Bt(tn,tn.current),r)break;return null;case 22:case 23:return e.lanes=0,zP(t,e,n)}return mo(t,e,n)}var GP,V0,QP,YP;GP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};V0=function(){};QP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ga(Is.current);var s=null;switch(n){case"input":i=o0(t,i),r=o0(t,r),s=[];break;case"select":i=rn({},i,{value:void 0}),r=rn({},r,{value:void 0}),s=[];break;case"textarea":i=u0(t,i),r=u0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ug)}d0(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var u=i[h];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(kd.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(u=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(c!=null||u!=null))if(h==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(kd.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&qt("scroll",t),s||u===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};YP=function(t,e,n,r){n!==r&&(e.flags|=4)};function $c(t,e){if(!Yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function or(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function x9(t,e,n){var r=e.pendingProps;switch(aw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(e),null;case 1:return jr(e.type)&&cg(),or(e),null;case 3:return r=e.stateNode,Du(),Ht(Ur),Ht(hr),mw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wi!==null&&(H0(Wi),Wi=null))),V0(t,e),or(e),null;case 5:gw(e);var i=Ga(zd.current);if(n=e.type,t!==null&&e.stateNode!=null)QP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(fe(166));return or(e),null}if(t=Ga(Is.current),tp(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ws]=e,r[Bd]=s,t=(e.mode&1)!==0,n){case"dialog":qt("cancel",r),qt("close",r);break;case"iframe":case"object":case"embed":qt("load",r);break;case"video":case"audio":for(i=0;i<ed.length;i++)qt(ed[i],r);break;case"source":qt("error",r);break;case"img":case"image":case"link":qt("error",r),qt("load",r);break;case"details":qt("toggle",r);break;case"input":hT(r,s),qt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qt("invalid",r);break;case"textarea":pT(r,s),qt("invalid",r)}d0(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&ep(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&ep(r.textContent,u,t),i=["children",""+u]):kd.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&qt("scroll",r)}switch(n){case"input":Hf(r),fT(r,s,!0);break;case"textarea":Hf(r),gT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ug)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ws]=e,t[Bd]=r,GP(t,e,!1,!1),e.stateNode=t;e:{switch(a=h0(n,r),n){case"dialog":qt("cancel",t),qt("close",t),i=r;break;case"iframe":case"object":case"embed":qt("load",t),i=r;break;case"video":case"audio":for(i=0;i<ed.length;i++)qt(ed[i],t);i=r;break;case"source":qt("error",t),i=r;break;case"img":case"image":case"link":qt("error",t),qt("load",t),i=r;break;case"details":qt("toggle",t),i=r;break;case"input":hT(t,r),i=o0(t,r),qt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rn({},r,{value:void 0}),qt("invalid",t);break;case"textarea":pT(t,r),i=u0(t,r),qt("invalid",t);break;default:i=r}d0(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?AA(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&IA(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Nd(t,c):typeof c=="number"&&Nd(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(kd.hasOwnProperty(s)?c!=null&&s==="onScroll"&&qt("scroll",t):c!=null&&H_(t,s,c,a))}switch(n){case"input":Hf(t),fT(t,r,!1);break;case"textarea":Hf(t),gT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pa(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?_u(t,!!r.multiple,s,!1):r.defaultValue!=null&&_u(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ug)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return or(e),null;case 6:if(t&&e.stateNode!=null)YP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(fe(166));if(n=Ga(zd.current),Ga(Is.current),tp(e)){if(r=e.stateNode,n=e.memoizedProps,r[ws]=e,(s=r.nodeValue!==n)&&(t=si,t!==null))switch(t.tag){case 3:ep(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ep(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ws]=e,e.stateNode=r}return or(e),null;case 13:if(Ht(tn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Yt&&ti!==null&&e.mode&1&&!(e.flags&128))pP(),Nu(),e.flags|=98560,s=!1;else if(s=tp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[ws]=e}else Nu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;or(e),s=!1}else Wi!==null&&(H0(Wi),Wi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tn.current&1?Fn===0&&(Fn=3):Pw())),e.updateQueue!==null&&(e.flags|=4),or(e),null);case 4:return Du(),V0(t,e),t===null&&Ud(e.stateNode.containerInfo),or(e),null;case 10:return dw(e.type._context),or(e),null;case 17:return jr(e.type)&&cg(),or(e),null;case 19:if(Ht(tn),s=e.memoizedState,s===null)return or(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)$c(s,!1);else{if(Fn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=vg(t),a!==null){for(e.flags|=128,$c(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Bt(tn,tn.current&1|2),e.child}t=t.sibling}s.tail!==null&&vn()>Mu&&(e.flags|=128,r=!0,$c(s,!1),e.lanes=4194304)}else{if(!r)if(t=vg(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$c(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Yt)return or(e),null}else 2*vn()-s.renderingStartTime>Mu&&n!==1073741824&&(e.flags|=128,r=!0,$c(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vn(),e.sibling=null,n=tn.current,Bt(tn,r?n&1|2:n&1),e):(or(e),null);case 22:case 23:return Aw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zr&1073741824&&(or(e),e.subtreeFlags&6&&(e.flags|=8192)):or(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function I9(t,e){switch(aw(e),e.tag){case 1:return jr(e.type)&&cg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Du(),Ht(Ur),Ht(hr),mw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gw(e),null;case 13:if(Ht(tn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));Nu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ht(tn),null;case 4:return Du(),null;case 10:return dw(e.type._context),null;case 22:case 23:return Aw(),null;case 24:return null;default:return null}}var ip=!1,cr=!1,C9=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function pu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){cn(t,e,r)}else n.current=null}function U0(t,e,n){try{n()}catch(r){cn(t,e,r)}}var ix=!1;function A9(t,e){if(S0=og,t=tP(),sw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,u=-1,c=-1,h=0,p=0,m=t,y=null;t:for(;;){for(var A;m!==n||i!==0&&m.nodeType!==3||(u=a+i),m!==s||r!==0&&m.nodeType!==3||(c=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(A=m.firstChild)!==null;)y=m,m=A;for(;;){if(m===t)break t;if(y===n&&++h===i&&(u=a),y===s&&++p===r&&(c=a),(A=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=A}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(T0={focusedElem:t,selectionRange:n},og=!1,Pe=e;Pe!==null;)if(e=Pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Pe=t;else for(;Pe!==null;){e=Pe;try{var R=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var I=R.memoizedProps,N=R.memoizedState,S=e.stateNode,E=S.getSnapshotBeforeUpdate(e.elementType===e.type?I:Bi(e.type,I),N);S.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(j){cn(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,Pe=t;break}Pe=e.return}return R=ix,ix=!1,R}function pd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&U0(e,n,s)}i=i.next}while(i!==r)}}function _m(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function j0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function XP(t){var e=t.alternate;e!==null&&(t.alternate=null,XP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ws],delete e[Bd],delete e[C0],delete e[u9],delete e[c9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function JP(t){return t.tag===5||t.tag===3||t.tag===4}function sx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||JP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function B0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ug));else if(r!==4&&(t=t.child,t!==null))for(B0(t,e,n),t=t.sibling;t!==null;)B0(t,e,n),t=t.sibling}function $0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($0(t,e,n),t=t.sibling;t!==null;)$0(t,e,n),t=t.sibling}var Gn=null,$i=!1;function Vo(t,e,n){for(n=n.child;n!==null;)ZP(t,e,n),n=n.sibling}function ZP(t,e,n){if(xs&&typeof xs.onCommitFiberUnmount=="function")try{xs.onCommitFiberUnmount(dm,n)}catch{}switch(n.tag){case 5:cr||pu(n,e);case 6:var r=Gn,i=$i;Gn=null,Vo(t,e,n),Gn=r,$i=i,Gn!==null&&($i?(t=Gn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Gn.removeChild(n.stateNode));break;case 18:Gn!==null&&($i?(t=Gn,n=n.stateNode,t.nodeType===8?yy(t.parentNode,n):t.nodeType===1&&yy(t,n),Md(t)):yy(Gn,n.stateNode));break;case 4:r=Gn,i=$i,Gn=n.stateNode.containerInfo,$i=!0,Vo(t,e,n),Gn=r,$i=i;break;case 0:case 11:case 14:case 15:if(!cr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&U0(n,e,a),i=i.next}while(i!==r)}Vo(t,e,n);break;case 1:if(!cr&&(pu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){cn(n,e,u)}Vo(t,e,n);break;case 21:Vo(t,e,n);break;case 22:n.mode&1?(cr=(r=cr)||n.memoizedState!==null,Vo(t,e,n),cr=r):Vo(t,e,n);break;default:Vo(t,e,n)}}function ox(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new C9),e.forEach(function(r){var i=M9.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ji(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:Gn=u.stateNode,$i=!1;break e;case 3:Gn=u.stateNode.containerInfo,$i=!0;break e;case 4:Gn=u.stateNode.containerInfo,$i=!0;break e}u=u.return}if(Gn===null)throw Error(fe(160));ZP(s,a,i),Gn=null,$i=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){cn(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)eR(e,t),e=e.sibling}function eR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ji(e,t),vs(t),r&4){try{pd(3,t,t.return),_m(3,t)}catch(I){cn(t,t.return,I)}try{pd(5,t,t.return)}catch(I){cn(t,t.return,I)}}break;case 1:ji(e,t),vs(t),r&512&&n!==null&&pu(n,n.return);break;case 5:if(ji(e,t),vs(t),r&512&&n!==null&&pu(n,n.return),t.flags&32){var i=t.stateNode;try{Nd(i,"")}catch(I){cn(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&SA(i,s),h0(u,a);var h=h0(u,s);for(a=0;a<c.length;a+=2){var p=c[a],m=c[a+1];p==="style"?AA(i,m):p==="dangerouslySetInnerHTML"?IA(i,m):p==="children"?Nd(i,m):H_(i,p,m,h)}switch(u){case"input":a0(i,s);break;case"textarea":TA(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var A=s.value;A!=null?_u(i,!!s.multiple,A,!1):y!==!!s.multiple&&(s.defaultValue!=null?_u(i,!!s.multiple,s.defaultValue,!0):_u(i,!!s.multiple,s.multiple?[]:"",!1))}i[Bd]=s}catch(I){cn(t,t.return,I)}}break;case 6:if(ji(e,t),vs(t),r&4){if(t.stateNode===null)throw Error(fe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){cn(t,t.return,I)}}break;case 3:if(ji(e,t),vs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Md(e.containerInfo)}catch(I){cn(t,t.return,I)}break;case 4:ji(e,t),vs(t);break;case 13:ji(e,t),vs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Iw=vn())),r&4&&ox(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(cr=(h=cr)||p,ji(e,t),cr=h):ji(e,t),vs(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(Pe=t,p=t.child;p!==null;){for(m=Pe=p;Pe!==null;){switch(y=Pe,A=y.child,y.tag){case 0:case 11:case 14:case 15:pd(4,y,y.return);break;case 1:pu(y,y.return);var R=y.stateNode;if(typeof R.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(I){cn(r,n,I)}}break;case 5:pu(y,y.return);break;case 22:if(y.memoizedState!==null){lx(m);continue}}A!==null?(A.return=y,Pe=A):lx(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=CA("display",a))}catch(I){cn(t,t.return,I)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(I){cn(t,t.return,I)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ji(e,t),vs(t),r&4&&ox(t);break;case 21:break;default:ji(e,t),vs(t)}}function vs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(JP(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Nd(i,""),r.flags&=-33);var s=sx(t);$0(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,u=sx(t);B0(t,u,a);break;default:throw Error(fe(161))}}catch(c){cn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function P9(t,e,n){Pe=t,tR(t)}function tR(t,e,n){for(var r=(t.mode&1)!==0;Pe!==null;){var i=Pe,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ip;if(!a){var u=i.alternate,c=u!==null&&u.memoizedState!==null||cr;u=ip;var h=cr;if(ip=a,(cr=c)&&!h)for(Pe=i;Pe!==null;)a=Pe,c=a.child,a.tag===22&&a.memoizedState!==null?ux(i):c!==null?(c.return=a,Pe=c):ux(i);for(;s!==null;)Pe=s,tR(s),s=s.sibling;Pe=i,ip=u,cr=h}ax(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Pe=s):ax(t)}}function ax(t){for(;Pe!==null;){var e=Pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cr||_m(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!cr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Bi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qT(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qT(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Md(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}cr||e.flags&512&&j0(e)}catch(y){cn(e,e.return,y)}}if(e===t){Pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Pe=n;break}Pe=e.return}}function lx(t){for(;Pe!==null;){var e=Pe;if(e===t){Pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Pe=n;break}Pe=e.return}}function ux(t){for(;Pe!==null;){var e=Pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_m(4,e)}catch(c){cn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){cn(e,i,c)}}var s=e.return;try{j0(e)}catch(c){cn(e,s,c)}break;case 5:var a=e.return;try{j0(e)}catch(c){cn(e,a,c)}}}catch(c){cn(e,e.return,c)}if(e===t){Pe=null;break}var u=e.sibling;if(u!==null){u.return=e.return,Pe=u;break}Pe=e.return}}var R9=Math.ceil,wg=Eo.ReactCurrentDispatcher,Tw=Eo.ReactCurrentOwner,xi=Eo.ReactCurrentBatchConfig,wt=0,qn=null,An=null,Xn=0,Zr=0,gu=Ea(0),Fn=0,Kd=null,al=0,wm=0,xw=0,gd=null,Mr=null,Iw=0,Mu=1/0,Js=null,Eg=!1,z0=null,oa=null,sp=!1,Xo=null,Sg=0,md=0,W0=null,kp=-1,Np=0;function xr(){return wt&6?vn():kp!==-1?kp:kp=vn()}function aa(t){return t.mode&1?wt&2&&Xn!==0?Xn&-Xn:h9.transition!==null?(Np===0&&(Np=UA()),Np):(t=Nt,t!==0||(t=window.event,t=t===void 0?16:HA(t.type)),t):1}function Gi(t,e,n,r){if(50<md)throw md=0,W0=null,Error(fe(185));fh(t,n,r),(!(wt&2)||t!==qn)&&(t===qn&&(!(wt&2)&&(wm|=n),Fn===4&&qo(t,Xn)),Br(t,r),n===1&&wt===0&&!(e.mode&1)&&(Mu=vn()+500,mm&&Sa()))}function Br(t,e){var n=t.callbackNode;h5(t,e);var r=sg(t,t===qn?Xn:0);if(r===0)n!==null&&yT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yT(n),e===1)t.tag===0?d9(cx.bind(null,t)):dP(cx.bind(null,t)),a9(function(){!(wt&6)&&Sa()}),n=null;else{switch(jA(r)){case 1:n=X_;break;case 4:n=FA;break;case 16:n=ig;break;case 536870912:n=VA;break;default:n=ig}n=uR(n,nR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nR(t,e){if(kp=-1,Np=0,wt&6)throw Error(fe(327));var n=t.callbackNode;if(xu()&&t.callbackNode!==n)return null;var r=sg(t,t===qn?Xn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Tg(t,r);else{e=r;var i=wt;wt|=2;var s=iR();(qn!==t||Xn!==e)&&(Js=null,Mu=vn()+500,el(t,e));do try{N9();break}catch(u){rR(t,u)}while(!0);cw(),wg.current=s,wt=i,An!==null?e=0:(qn=null,Xn=0,e=Fn)}if(e!==0){if(e===2&&(i=v0(t),i!==0&&(r=i,e=q0(t,i))),e===1)throw n=Kd,el(t,0),qo(t,r),Br(t,vn()),n;if(e===6)qo(t,r);else{if(i=t.current.alternate,!(r&30)&&!b9(i)&&(e=Tg(t,r),e===2&&(s=v0(t),s!==0&&(r=s,e=q0(t,s))),e===1))throw n=Kd,el(t,0),qo(t,r),Br(t,vn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(fe(345));case 2:Wa(t,Mr,Js);break;case 3:if(qo(t,r),(r&130023424)===r&&(e=Iw+500-vn(),10<e)){if(sg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=I0(Wa.bind(null,t,Mr,Js),e);break}Wa(t,Mr,Js);break;case 4:if(qo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Ki(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=vn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*R9(r/1960))-r,10<r){t.timeoutHandle=I0(Wa.bind(null,t,Mr,Js),r);break}Wa(t,Mr,Js);break;case 5:Wa(t,Mr,Js);break;default:throw Error(fe(329))}}}return Br(t,vn()),t.callbackNode===n?nR.bind(null,t):null}function q0(t,e){var n=gd;return t.current.memoizedState.isDehydrated&&(el(t,e).flags|=256),t=Tg(t,e),t!==2&&(e=Mr,Mr=n,e!==null&&H0(e)),t}function H0(t){Mr===null?Mr=t:Mr.push.apply(Mr,t)}function b9(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qo(t,e){for(e&=~xw,e&=~wm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ki(e),r=1<<n;t[n]=-1,e&=~r}}function cx(t){if(wt&6)throw Error(fe(327));xu();var e=sg(t,0);if(!(e&1))return Br(t,vn()),null;var n=Tg(t,e);if(t.tag!==0&&n===2){var r=v0(t);r!==0&&(e=r,n=q0(t,r))}if(n===1)throw n=Kd,el(t,0),qo(t,e),Br(t,vn()),n;if(n===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wa(t,Mr,Js),Br(t,vn()),null}function Cw(t,e){var n=wt;wt|=1;try{return t(e)}finally{wt=n,wt===0&&(Mu=vn()+500,mm&&Sa())}}function ll(t){Xo!==null&&Xo.tag===0&&!(wt&6)&&xu();var e=wt;wt|=1;var n=xi.transition,r=Nt;try{if(xi.transition=null,Nt=1,t)return t()}finally{Nt=r,xi.transition=n,wt=e,!(wt&6)&&Sa()}}function Aw(){Zr=gu.current,Ht(gu)}function el(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,o9(n)),An!==null)for(n=An.return;n!==null;){var r=n;switch(aw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cg();break;case 3:Du(),Ht(Ur),Ht(hr),mw();break;case 5:gw(r);break;case 4:Du();break;case 13:Ht(tn);break;case 19:Ht(tn);break;case 10:dw(r.type._context);break;case 22:case 23:Aw()}n=n.return}if(qn=t,An=t=la(t.current,null),Xn=Zr=e,Fn=0,Kd=null,xw=wm=al=0,Mr=gd=null,Ka!==null){for(e=0;e<Ka.length;e++)if(n=Ka[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Ka=null}return t}function rR(t,e){do{var n=An;try{if(cw(),Pp.current=_g,yg){for(var r=nn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yg=!1}if(ol=0,Wn=Ln=nn=null,fd=!1,Wd=0,Tw.current=null,n===null||n.return===null){Fn=1,Kd=e,An=null;break}e:{var s=t,a=n.return,u=n,c=e;if(e=Xn,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,p=u,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var A=XT(a);if(A!==null){A.flags&=-257,JT(A,a,u,s,e),A.mode&1&&YT(s,h,e),e=A,c=h;var R=e.updateQueue;if(R===null){var I=new Set;I.add(c),e.updateQueue=I}else R.add(c);break e}else{if(!(e&1)){YT(s,h,e),Pw();break e}c=Error(fe(426))}}else if(Yt&&u.mode&1){var N=XT(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),JT(N,a,u,s,e),lw(Lu(c,u));break e}}s=c=Lu(c,u),Fn!==4&&(Fn=2),gd===null?gd=[s]:gd.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=jP(s,c,e);WT(s,S);break e;case 1:u=c;var E=s.type,P=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(oa===null||!oa.has(P)))){s.flags|=65536,e&=-e,s.lanes|=e;var j=BP(s,u,e);WT(s,j);break e}}s=s.return}while(s!==null)}oR(n)}catch(K){e=K,An===n&&n!==null&&(An=n=n.return);continue}break}while(!0)}function iR(){var t=wg.current;return wg.current=_g,t===null?_g:t}function Pw(){(Fn===0||Fn===3||Fn===2)&&(Fn=4),qn===null||!(al&268435455)&&!(wm&268435455)||qo(qn,Xn)}function Tg(t,e){var n=wt;wt|=2;var r=iR();(qn!==t||Xn!==e)&&(Js=null,el(t,e));do try{k9();break}catch(i){rR(t,i)}while(!0);if(cw(),wt=n,wg.current=r,An!==null)throw Error(fe(261));return qn=null,Xn=0,Fn}function k9(){for(;An!==null;)sR(An)}function N9(){for(;An!==null&&!r5();)sR(An)}function sR(t){var e=lR(t.alternate,t,Zr);t.memoizedProps=t.pendingProps,e===null?oR(t):An=e,Tw.current=null}function oR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=I9(n,e),n!==null){n.flags&=32767,An=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fn=6,An=null;return}}else if(n=x9(n,e,Zr),n!==null){An=n;return}if(e=e.sibling,e!==null){An=e;return}An=e=t}while(e!==null);Fn===0&&(Fn=5)}function Wa(t,e,n){var r=Nt,i=xi.transition;try{xi.transition=null,Nt=1,O9(t,e,n,r)}finally{xi.transition=i,Nt=r}return null}function O9(t,e,n,r){do xu();while(Xo!==null);if(wt&6)throw Error(fe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(f5(t,s),t===qn&&(An=qn=null,Xn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sp||(sp=!0,uR(ig,function(){return xu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xi.transition,xi.transition=null;var a=Nt;Nt=1;var u=wt;wt|=4,Tw.current=null,A9(t,n),eR(n,t),Z5(T0),og=!!S0,T0=S0=null,t.current=n,P9(n),i5(),wt=u,Nt=a,xi.transition=s}else t.current=n;if(sp&&(sp=!1,Xo=t,Sg=i),s=t.pendingLanes,s===0&&(oa=null),a5(n.stateNode),Br(t,vn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Eg)throw Eg=!1,t=z0,z0=null,t;return Sg&1&&t.tag!==0&&xu(),s=t.pendingLanes,s&1?t===W0?md++:(md=0,W0=t):md=0,Sa(),null}function xu(){if(Xo!==null){var t=jA(Sg),e=xi.transition,n=Nt;try{if(xi.transition=null,Nt=16>t?16:t,Xo===null)var r=!1;else{if(t=Xo,Xo=null,Sg=0,wt&6)throw Error(fe(331));var i=wt;for(wt|=4,Pe=t.current;Pe!==null;){var s=Pe,a=s.child;if(Pe.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var h=u[c];for(Pe=h;Pe!==null;){var p=Pe;switch(p.tag){case 0:case 11:case 15:pd(8,p,s)}var m=p.child;if(m!==null)m.return=p,Pe=m;else for(;Pe!==null;){p=Pe;var y=p.sibling,A=p.return;if(XP(p),p===h){Pe=null;break}if(y!==null){y.return=A,Pe=y;break}Pe=A}}}var R=s.alternate;if(R!==null){var I=R.child;if(I!==null){R.child=null;do{var N=I.sibling;I.sibling=null,I=N}while(I!==null)}}Pe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Pe=a;else e:for(;Pe!==null;){if(s=Pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:pd(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,Pe=S;break e}Pe=s.return}}var E=t.current;for(Pe=E;Pe!==null;){a=Pe;var P=a.child;if(a.subtreeFlags&2064&&P!==null)P.return=a,Pe=P;else e:for(a=E;Pe!==null;){if(u=Pe,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:_m(9,u)}}catch(K){cn(u,u.return,K)}if(u===a){Pe=null;break e}var j=u.sibling;if(j!==null){j.return=u.return,Pe=j;break e}Pe=u.return}}if(wt=i,Sa(),xs&&typeof xs.onPostCommitFiberRoot=="function")try{xs.onPostCommitFiberRoot(dm,t)}catch{}r=!0}return r}finally{Nt=n,xi.transition=e}}return!1}function dx(t,e,n){e=Lu(n,e),e=jP(t,e,1),t=sa(t,e,1),e=xr(),t!==null&&(fh(t,1,e),Br(t,e))}function cn(t,e,n){if(t.tag===3)dx(t,t,n);else for(;e!==null;){if(e.tag===3){dx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oa===null||!oa.has(r))){t=Lu(n,t),t=BP(e,t,1),e=sa(e,t,1),t=xr(),e!==null&&(fh(e,1,t),Br(e,t));break}}e=e.return}}function D9(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xr(),t.pingedLanes|=t.suspendedLanes&n,qn===t&&(Xn&n)===n&&(Fn===4||Fn===3&&(Xn&130023424)===Xn&&500>vn()-Iw?el(t,0):xw|=n),Br(t,e)}function aR(t,e){e===0&&(t.mode&1?(e=Qf,Qf<<=1,!(Qf&130023424)&&(Qf=4194304)):e=1);var n=xr();t=go(t,e),t!==null&&(fh(t,e,n),Br(t,n))}function L9(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aR(t,n)}function M9(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(e),aR(t,n)}var lR;lR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ur.current)Vr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vr=!1,T9(t,e,n);Vr=!!(t.flags&131072)}else Vr=!1,Yt&&e.flags&1048576&&hP(e,fg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bp(t,e),t=e.pendingProps;var i=ku(e,hr.current);Tu(e,n),i=yw(null,e,r,t,i,n);var s=_w();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jr(r)?(s=!0,dg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fw(e),i.updater=ym,e.stateNode=i,i._reactInternals=e,N0(e,r,t,n),e=L0(null,e,r,!0,s,n)):(e.tag=0,Yt&&s&&ow(e),Er(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=V9(r),t=Bi(r,t),i){case 0:e=D0(null,e,r,t,n);break e;case 1:e=tx(null,e,r,t,n);break e;case 11:e=ZT(null,e,r,t,n);break e;case 14:e=ex(null,e,r,Bi(r.type,t),n);break e}throw Error(fe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bi(r,i),D0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bi(r,i),tx(t,e,r,i,n);case 3:e:{if(qP(e),t===null)throw Error(fe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,yP(t,e),mg(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Lu(Error(fe(423)),e),e=nx(t,e,r,n,i);break e}else if(r!==i){i=Lu(Error(fe(424)),e),e=nx(t,e,r,n,i);break e}else for(ti=ia(e.stateNode.containerInfo.firstChild),si=e,Yt=!0,Wi=null,n=mP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nu(),r===i){e=mo(t,e,n);break e}Er(t,e,r,n)}e=e.child}return e;case 5:return _P(e),t===null&&R0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,x0(r,i)?a=null:s!==null&&x0(r,s)&&(e.flags|=32),WP(t,e),Er(t,e,a,n),e.child;case 6:return t===null&&R0(e),null;case 13:return HP(t,e,n);case 4:return pw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ou(e,null,r,n):Er(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bi(r,i),ZT(t,e,r,i,n);case 7:return Er(t,e,e.pendingProps,n),e.child;case 8:return Er(t,e,e.pendingProps.children,n),e.child;case 12:return Er(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Bt(pg,r._currentValue),r._currentValue=a,s!==null)if(Xi(s.value,a)){if(s.children===i.children&&!Ur.current){e=mo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){a=s.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=uo(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?c.next=c:(c.next=p.next,p.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),b0(s.return,n,e),u.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(fe(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),b0(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Er(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Tu(e,n),i=Ii(i),r=r(i),e.flags|=1,Er(t,e,r,n),e.child;case 14:return r=e.type,i=Bi(r,e.pendingProps),i=Bi(r.type,i),ex(t,e,r,i,n);case 15:return $P(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bi(r,i),bp(t,e),e.tag=1,jr(r)?(t=!0,dg(e)):t=!1,Tu(e,n),UP(e,r,i),N0(e,r,i,n),L0(null,e,r,!0,t,n);case 19:return KP(t,e,n);case 22:return zP(t,e,n)}throw Error(fe(156,e.tag))};function uR(t,e){return MA(t,e)}function F9(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ti(t,e,n,r){return new F9(t,e,n,r)}function Rw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function V9(t){if(typeof t=="function")return Rw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===G_)return 11;if(t===Q_)return 14}return 2}function la(t,e){var n=t.alternate;return n===null?(n=Ti(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Op(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")Rw(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case su:return tl(n.children,i,s,e);case K_:a=8,i|=8;break;case n0:return t=Ti(12,n,e,i|2),t.elementType=n0,t.lanes=s,t;case r0:return t=Ti(13,n,e,i),t.elementType=r0,t.lanes=s,t;case i0:return t=Ti(19,n,e,i),t.elementType=i0,t.lanes=s,t;case _A:return Em(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vA:a=10;break e;case yA:a=9;break e;case G_:a=11;break e;case Q_:a=14;break e;case Bo:a=16,r=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Ti(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function tl(t,e,n,r){return t=Ti(7,t,r,e),t.lanes=n,t}function Em(t,e,n,r){return t=Ti(22,t,r,e),t.elementType=_A,t.lanes=n,t.stateNode={isHidden:!1},t}function Cy(t,e,n){return t=Ti(6,t,null,e),t.lanes=n,t}function Ay(t,e,n){return e=Ti(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function U9(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ay(0),this.expirationTimes=ay(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ay(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bw(t,e,n,r,i,s,a,u,c){return t=new U9(t,e,n,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ti(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fw(s),t}function j9(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:iu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cR(t){if(!t)return ga;t=t._reactInternals;e:{if(_l(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var n=t.type;if(jr(n))return cP(t,n,e)}return e}function dR(t,e,n,r,i,s,a,u,c){return t=bw(n,r,!0,t,i,s,a,u,c),t.context=cR(null),n=t.current,r=xr(),i=aa(n),s=uo(r,i),s.callback=e??null,sa(n,s,i),t.current.lanes=i,fh(t,i,r),Br(t,r),t}function Sm(t,e,n,r){var i=e.current,s=xr(),a=aa(i);return n=cR(n),e.context===null?e.context=n:e.pendingContext=n,e=uo(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=sa(i,e,a),t!==null&&(Gi(t,i,a,s),Ap(t,i,a)),a}function xg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kw(t,e){hx(t,e),(t=t.alternate)&&hx(t,e)}function B9(){return null}var hR=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nw(t){this._internalRoot=t}Tm.prototype.render=Nw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));Sm(t,e,null,null)};Tm.prototype.unmount=Nw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ll(function(){Sm(null,t,null,null)}),e[po]=null}};function Tm(t){this._internalRoot=t}Tm.prototype.unstable_scheduleHydration=function(t){if(t){var e=zA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wo.length&&e!==0&&e<Wo[n].priority;n++);Wo.splice(n,0,t),n===0&&qA(t)}};function Ow(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fx(){}function $9(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=xg(a);s.call(h)}}var a=dR(e,r,t,0,null,!1,!1,"",fx);return t._reactRootContainer=a,t[po]=a.current,Ud(t.nodeType===8?t.parentNode:t),ll(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var h=xg(c);u.call(h)}}var c=bw(t,0,!1,null,null,!1,!1,"",fx);return t._reactRootContainer=c,t[po]=c.current,Ud(t.nodeType===8?t.parentNode:t),ll(function(){Sm(e,c,n,r)}),c}function Im(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var u=i;i=function(){var c=xg(a);u.call(c)}}Sm(e,a,t,i)}else a=$9(n,e,t,i,r);return xg(a)}BA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zc(e.pendingLanes);n!==0&&(J_(e,n|1),Br(e,vn()),!(wt&6)&&(Mu=vn()+500,Sa()))}break;case 13:ll(function(){var r=go(t,1);if(r!==null){var i=xr();Gi(r,t,1,i)}}),kw(t,1)}};Z_=function(t){if(t.tag===13){var e=go(t,134217728);if(e!==null){var n=xr();Gi(e,t,134217728,n)}kw(t,134217728)}};$A=function(t){if(t.tag===13){var e=aa(t),n=go(t,e);if(n!==null){var r=xr();Gi(n,t,e,r)}kw(t,e)}};zA=function(){return Nt};WA=function(t,e){var n=Nt;try{return Nt=t,e()}finally{Nt=n}};p0=function(t,e,n){switch(e){case"input":if(a0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=gm(r);if(!i)throw Error(fe(90));EA(r),a0(r,i)}}}break;case"textarea":TA(t,n);break;case"select":e=n.value,e!=null&&_u(t,!!n.multiple,e,!1)}};bA=Cw;kA=ll;var z9={usingClientEntryPoint:!1,Events:[gh,uu,gm,PA,RA,Cw]},zc={findFiberByHostInstance:Ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W9={bundleType:zc.bundleType,version:zc.version,rendererPackageName:zc.rendererPackageName,rendererConfig:zc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Eo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=DA(t),t===null?null:t.stateNode},findFiberByHostInstance:zc.findFiberByHostInstance||B9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!op.isDisabled&&op.supportsFiber)try{dm=op.inject(W9),xs=op}catch{}}ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z9;ai.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ow(e))throw Error(fe(200));return j9(t,e,null,n)};ai.createRoot=function(t,e){if(!Ow(t))throw Error(fe(299));var n=!1,r="",i=hR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bw(t,1,!1,null,null,n,!1,r,i),t[po]=e.current,Ud(t.nodeType===8?t.parentNode:t),new Nw(e)};ai.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=DA(e),t=t===null?null:t.stateNode,t};ai.flushSync=function(t){return ll(t)};ai.hydrate=function(t,e,n){if(!xm(e))throw Error(fe(200));return Im(null,t,e,!0,n)};ai.hydrateRoot=function(t,e,n){if(!Ow(t))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=hR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=dR(e,null,t,1,n??null,i,!1,s,a),t[po]=e.current,Ud(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Tm(e)};ai.render=function(t,e,n){if(!xm(e))throw Error(fe(200));return Im(null,t,e,!1,n)};ai.unmountComponentAtNode=function(t){if(!xm(t))throw Error(fe(40));return t._reactRootContainer?(ll(function(){Im(null,null,t,!1,function(){t._reactRootContainer=null,t[po]=null})}),!0):!1};ai.unstable_batchedUpdates=Cw;ai.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xm(n))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return Im(t,e,n,!1,r)};ai.version="18.3.1-next-f1338f8080-20240426";function fR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fR)}catch(t){console.error(t)}}fR(),fA.exports=ai;var Dw=fA.exports;const pR=sm(Dw),q9=TC({__proto__:null,default:pR},[Dw]);var px=Dw;e0.createRoot=px.createRoot,e0.hydrateRoot=px.hydrateRoot;function K0(t,e){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},K0(t,e)}function vh(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,K0(t,e)}var yh=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(a){return a!==s}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function Ct(){return Ct=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ct.apply(null,arguments)}var Ig=typeof window>"u";function lr(){}function H9(t,e){return typeof t=="function"?t(e):t}function G0(t){return typeof t=="number"&&t>=0&&t!==1/0}function Cg(t){return Array.isArray(t)?t:[t]}function gR(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Dp(t,e,n){return Cm(t)?typeof e=="function"?Ct({},n,{queryKey:t,queryFn:e}):Ct({},e,{queryKey:t}):t}function zo(t,e,n){return Cm(t)?[Ct({},e,{queryKey:t}),n]:[t||{},e]}function K9(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t??!e;return n?"active":"inactive"}function gx(t,e){var n=t.active,r=t.exact,i=t.fetching,s=t.inactive,a=t.predicate,u=t.queryKey,c=t.stale;if(Cm(u)){if(r){if(e.queryHash!==Lw(u,e.options))return!1}else if(!Ag(e.queryKey,u))return!1}var h=K9(n,s);if(h==="none")return!1;if(h!=="all"){var p=e.isActive();if(h==="active"&&!p||h==="inactive"&&p)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||typeof i=="boolean"&&e.isFetching()!==i||a&&!a(e))}function mx(t,e){var n=t.exact,r=t.fetching,i=t.predicate,s=t.mutationKey;if(Cm(s)){if(!e.options.mutationKey)return!1;if(n){if(Qa(e.options.mutationKey)!==Qa(s))return!1}else if(!Ag(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function Lw(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||Qa;return n(t)}function Qa(t){var e=Cg(t);return G9(e)}function G9(t){return JSON.stringify(t,function(e,n){return Q0(n)?Object.keys(n).sort().reduce(function(r,i){return r[i]=n[i],r},{}):n})}function Ag(t,e){return mR(Cg(t),Cg(e))}function mR(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!mR(t[n],e[n])}):!1}function Pg(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||Q0(t)&&Q0(e)){for(var r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,a=n?[]:{},u=0,c=0;c<s;c++){var h=n?c:i[c];a[h]=Pg(t[h],e[h]),a[h]===t[h]&&u++}return r===s&&u===r?t:a}return e}function Q9(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function Q0(t){if(!vx(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!vx(n)||!n.hasOwnProperty("isPrototypeOf"))}function vx(t){return Object.prototype.toString.call(t)==="[object Object]"}function Cm(t){return typeof t=="string"||Array.isArray(t)}function Y9(t){return new Promise(function(e){setTimeout(e,t)})}function yx(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function vR(){if(typeof AbortController=="function")return new AbortController}var X9=function(t){vh(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!Ig&&((s=window)!=null&&s.addEventListener)){var a=function(){return i()};return window.addEventListener("visibilitychange",a,!1),window.addEventListener("focus",a,!1),function(){window.removeEventListener("visibilitychange",a),window.removeEventListener("focus",a)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,a=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(u){typeof u=="boolean"?a.setFocused(u):a.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(yh),vd=new X9,J9=function(t){vh(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!Ig&&((s=window)!=null&&s.addEventListener)){var a=function(){return i()};return window.addEventListener("online",a,!1),window.addEventListener("offline",a,!1),function(){window.removeEventListener("online",a),window.removeEventListener("offline",a)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,a=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(u){typeof u=="boolean"?a.setOnline(u):a.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(yh),Lp=new J9;function Z9(t){return Math.min(1e3*Math.pow(2,t),3e4)}function Rg(t){return typeof(t==null?void 0:t.cancel)=="function"}var yR=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function Mp(t){return t instanceof yR}var _R=function(e){var n=this,r=!1,i,s,a,u;this.abort=e.abort,this.cancel=function(y){return i==null?void 0:i(y)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(y,A){a=y,u=A});var c=function(A){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(A),s==null||s(),a(A))},h=function(A){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(A),s==null||s(),u(A))},p=function(){return new Promise(function(A){s=A,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){s=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},m=function y(){if(!n.isResolved){var A;try{A=e.fn()}catch(R){A=Promise.reject(R)}i=function(I){if(!n.isResolved&&(h(new yR(I)),n.abort==null||n.abort(),Rg(A)))try{A.cancel()}catch{}},n.isTransportCancelable=Rg(A),Promise.resolve(A).then(c).catch(function(R){var I,N;if(!n.isResolved){var S=(I=e.retry)!=null?I:3,E=(N=e.retryDelay)!=null?N:Z9,P=typeof E=="function"?E(n.failureCount,R):E,j=S===!0||typeof S=="number"&&n.failureCount<S||typeof S=="function"&&S(n.failureCount,R);if(r||!j){h(R);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,R),Y9(P).then(function(){if(!vd.isFocused()||!Lp.isOnline())return p()}).then(function(){r?h(R):y()})}})}};m()},ej=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):yx(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];i.schedule(function(){r.apply(void 0,a)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&yx(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),hn=new ej,wR=console;function bg(){return wR}function tj(t){wR=t}var nj=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(r){var i;this.options=Ct({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),G0(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var s,a,u=this.state.data,c=H9(r,u);return(s=(a=this.options).isDataEqual)!=null&&s.call(a,u,c)?c=u:this.options.structuralSharing!==!1&&(c=Pg(u,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),c},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(lr).catch(lr):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!gR(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var s=this,a,u,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var h;return(h=this.retryer)==null||h.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var p=this.observers.find(function(E){return E.options.queryFn});p&&this.setOptions(p.options)}var m=Cg(this.queryKey),y=vR(),A={queryKey:m,pageParam:void 0,meta:this.meta};Object.defineProperty(A,"signal",{enumerable:!0,get:function(){if(y)return s.abortSignalConsumed=!0,y.signal}});var R=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(A)):Promise.reject("Missing queryFn")},I={fetchOptions:i,options:this.options,queryKey:m,state:this.state,fetchFn:R,meta:this.meta};if((a=this.options.behavior)!=null&&a.onFetch){var N;(N=this.options.behavior)==null||N.onFetch(I)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((u=I.fetchOptions)==null?void 0:u.meta)){var S;this.dispatch({type:"fetch",meta:(S=I.fetchOptions)==null?void 0:S.meta})}return this.retryer=new _R({fn:I.fetchFn,abort:y==null||(c=y.abort)==null?void 0:c.bind(y),onSuccess:function(P){s.setData(P),s.cache.config.onSuccess==null||s.cache.config.onSuccess(P,s),s.cacheTime===0&&s.optionalRemove()},onError:function(P){Mp(P)&&P.silent||s.dispatch({type:"error",error:P}),Mp(P)||(s.cache.config.onError==null||s.cache.config.onError(P,s),bg().error(P)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:I.options.retry,retryDelay:I.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),hn.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData<"u",a=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,u=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:u?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:u?"success":"idle"}},e.reducer=function(r,i){var s,a;switch(i.type){case"failed":return Ct({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return Ct({},r,{isPaused:!0});case"continue":return Ct({},r,{isPaused:!1});case"fetch":return Ct({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Ct({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(a=i.dataUpdatedAt)!=null?a:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var u=i.error;return Mp(u)&&u.revert&&this.revertState?Ct({},this.revertState):Ct({},r,{error:u,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Ct({},r,{isInvalidated:!0});case"setState":return Ct({},r,i.state);default:return r}},t}(),rj=function(t){vh(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var n=e.prototype;return n.build=function(i,s,a){var u,c=s.queryKey,h=(u=s.queryHash)!=null?u:Lw(c,s),p=this.get(h);return p||(p=new nj({cache:this,queryKey:c,queryHash:h,options:i.defaultQueryOptions(s),state:a,defaultOptions:i.getQueryDefaults(c),meta:s.meta}),this.add(p)),p},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(a){return a!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;hn.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,s){var a=zo(i,s),u=a[0];return typeof u.exact>"u"&&(u.exact=!0),this.queries.find(function(c){return gx(u,c)})},n.findAll=function(i,s){var a=zo(i,s),u=a[0];return Object.keys(u).length>0?this.queries.filter(function(c){return gx(u,c)}):this.queries},n.notify=function(i){var s=this;hn.batch(function(){s.listeners.forEach(function(a){a(i)})})},n.onFocus=function(){var i=this;hn.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},n.onOnline=function(){var i=this;hn.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},e}(yh),ij=function(){function t(n){this.options=Ct({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||sj(),this.meta=n.meta}var e=t.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(lr).catch(lr)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,s=this.state.status==="loading",a=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),a=a.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(u){u!==r.state.context&&r.dispatch({type:"loading",context:u,variables:r.state.variables})})),a.then(function(){return r.executeMutation()}).then(function(u){i=u,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(u){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(u,r.state.variables,r.state.context,r),bg().error(u),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(u,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,u,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:u}),u})})},e.executeMutation=function(){var r=this,i;return this.retryer=new _R({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=oj(this.state,r),hn.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},t}();function sj(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function oj(t,e){switch(e.type){case"failed":return Ct({},t,{failureCount:t.failureCount+1});case"pause":return Ct({},t,{isPaused:!0});case"continue":return Ct({},t,{isPaused:!1});case"loading":return Ct({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return Ct({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return Ct({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return Ct({},t,e.state);default:return t}}var aj=function(t){vh(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var n=e.prototype;return n.build=function(i,s,a){var u=new ij({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:a,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(u),u},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;hn.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(s){return mx(i,s)})},n.findAll=function(i){return this.mutations.filter(function(s){return mx(i,s)})},n.notify=function(i){var s=this;hn.batch(function(){s.listeners.forEach(function(a){a(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return hn.batch(function(){return i.reduce(function(s,a){return s.then(function(){return a.continue().catch(lr)})},Promise.resolve())})},e}(yh);function lj(){return{onFetch:function(e){e.fetchFn=function(){var n,r,i,s,a,u,c=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,h=(i=e.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,p=h==null?void 0:h.pageParam,m=(h==null?void 0:h.direction)==="forward",y=(h==null?void 0:h.direction)==="backward",A=((a=e.state.data)==null?void 0:a.pages)||[],R=((u=e.state.data)==null?void 0:u.pageParams)||[],I=vR(),N=I==null?void 0:I.signal,S=R,E=!1,P=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},j=function(pe,Se,Oe,De){return S=De?[Se].concat(S):[].concat(S,[Se]),De?[Oe].concat(pe):[].concat(pe,[Oe])},K=function(pe,Se,Oe,De){if(E)return Promise.reject("Cancelled");if(typeof Oe>"u"&&!Se&&pe.length)return Promise.resolve(pe);var ee={queryKey:e.queryKey,signal:N,pageParam:Oe,meta:e.meta},oe=P(ee),ge=Promise.resolve(oe).then(function(xe){return j(pe,Oe,xe,De)});if(Rg(oe)){var Ae=ge;Ae.cancel=oe.cancel}return ge},Q;if(!A.length)Q=K([]);else if(m){var x=typeof p<"u",C=x?p:_x(e.options,A);Q=K(A,x,C)}else if(y){var k=typeof p<"u",L=k?p:uj(e.options,A);Q=K(A,k,L,!0)}else(function(){S=[];var M=typeof e.options.getNextPageParam>"u",pe=c&&A[0]?c(A[0],0,A):!0;Q=pe?K([],M,R[0]):Promise.resolve(j([],R[0],A[0]));for(var Se=function(ee){Q=Q.then(function(oe){var ge=c&&A[ee]?c(A[ee],ee,A):!0;if(ge){var Ae=M?R[ee]:_x(e.options,oe);return K(oe,M,Ae)}return Promise.resolve(j(oe,R[ee],A[ee]))})},Oe=1;Oe<A.length;Oe++)Se(Oe)})();var U=Q.then(function(M){return{pages:M,pageParams:S}}),F=U;return F.cancel=function(){E=!0,I==null||I.abort(),Rg(Q)&&Q.cancel()},U}}}}function _x(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function uj(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var cj=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new rj,this.mutationCache=n.mutationCache||new aj,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=vd.subscribe(function(){vd.isFocused()&&Lp.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=Lp.subscribe(function(){vd.isFocused()&&Lp.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var s=zo(r,i),a=s[0];return a.fetching=!0,this.queryCache.findAll(a).length},e.isMutating=function(r){return this.mutationCache.findAll(Ct({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,a=i.state,u=a.data;return[s,u]})},e.setQueryData=function(r,i,s){var a=Dp(r),u=this.defaultQueryOptions(a);return this.queryCache.build(this,u).setData(i,s)},e.setQueriesData=function(r,i,s){var a=this;return hn.batch(function(){return a.getQueryCache().findAll(r).map(function(u){var c=u.queryKey;return[c,a.setQueryData(c,i,s)]})})},e.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},e.removeQueries=function(r,i){var s=zo(r,i),a=s[0],u=this.queryCache;hn.batch(function(){u.findAll(a).forEach(function(c){u.remove(c)})})},e.resetQueries=function(r,i,s){var a=this,u=zo(r,i,s),c=u[0],h=u[1],p=this.queryCache,m=Ct({},c,{active:!0});return hn.batch(function(){return p.findAll(c).forEach(function(y){y.reset()}),a.refetchQueries(m,h)})},e.cancelQueries=function(r,i,s){var a=this,u=zo(r,i,s),c=u[0],h=u[1],p=h===void 0?{}:h;typeof p.revert>"u"&&(p.revert=!0);var m=hn.batch(function(){return a.queryCache.findAll(c).map(function(y){return y.cancel(p)})});return Promise.all(m).then(lr).catch(lr)},e.invalidateQueries=function(r,i,s){var a,u,c,h=this,p=zo(r,i,s),m=p[0],y=p[1],A=Ct({},m,{active:(a=(u=m.refetchActive)!=null?u:m.active)!=null?a:!0,inactive:(c=m.refetchInactive)!=null?c:!1});return hn.batch(function(){return h.queryCache.findAll(m).forEach(function(R){R.invalidate()}),h.refetchQueries(A,y)})},e.refetchQueries=function(r,i,s){var a=this,u=zo(r,i,s),c=u[0],h=u[1],p=hn.batch(function(){return a.queryCache.findAll(c).map(function(y){return y.fetch(void 0,Ct({},h,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),m=Promise.all(p).then(lr);return h!=null&&h.throwOnError||(m=m.catch(lr)),m},e.fetchQuery=function(r,i,s){var a=Dp(r,i,s),u=this.defaultQueryOptions(a);typeof u.retry>"u"&&(u.retry=!1);var c=this.queryCache.build(this,u);return c.isStaleByTime(u.staleTime)?c.fetch(u):Promise.resolve(c.state.data)},e.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(lr).catch(lr)},e.fetchInfiniteQuery=function(r,i,s){var a=Dp(r,i,s);return a.behavior=lj(),this.fetchQuery(a)},e.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(lr).catch(lr)},e.cancelMutations=function(){var r=this,i=hn.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(lr).catch(lr)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(a){return Qa(r)===Qa(a.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return Ag(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(a){return Qa(r)===Qa(a.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return Ag(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var i=Ct({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=Lw(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:Ct({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),dj=function(t){vh(e,t);function e(r,i){var s;return s=t.call(this)||this,s.client=r,s.options=i,s.trackedProps=[],s.selectError=null,s.bindMethods(),s.setOptions(i),s}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),wx(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return Y0(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return Y0(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(i,s){var a=this.options,u=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=a.queryKey),this.updateQuery();var c=this.hasListeners();c&&Ex(this.currentQuery,u,this.options,a)&&this.executeFetch(),this.updateResult(s),c&&(this.currentQuery!==u||this.options.enabled!==a.enabled||this.options.staleTime!==a.staleTime)&&this.updateStaleTimeout();var h=this.computeRefetchInterval();c&&(this.currentQuery!==u||this.options.enabled!==a.enabled||h!==this.currentRefetchInterval)&&this.updateRefetchInterval(h)},n.getOptimisticResult=function(i){var s=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,s);return this.createResult(a,s)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(i,s){var a=this,u={},c=function(p){a.trackedProps.includes(p)||a.trackedProps.push(p)};return Object.keys(i).forEach(function(h){Object.defineProperty(u,h,{configurable:!1,enumerable:!0,get:function(){return c(h),i[h]}})}),(s.useErrorBoundary||s.suspense)&&c("error"),u},n.getNextResult=function(i){var s=this;return new Promise(function(a,u){var c=s.subscribe(function(h){h.isFetching||(c(),h.isError&&(i!=null&&i.throwOnError)?u(h.error):a(h))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(i){return this.fetch(Ct({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},n.fetchOptimistic=function(i){var s=this,a=this.client.defaultQueryObserverOptions(i),u=this.client.getQueryCache().build(this.client,a);return u.fetch().then(function(){return s.createResult(u,a)})},n.fetch=function(i){var s=this;return this.executeFetch(i).then(function(){return s.updateResult(),s.currentResult})},n.executeFetch=function(i){this.updateQuery();var s=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(s=s.catch(lr)),s},n.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(Ig||this.currentResult.isStale||!G0(this.options.staleTime))){var s=gR(this.currentResult.dataUpdatedAt,this.options.staleTime),a=s+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},a)}},n.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},n.updateRefetchInterval=function(i){var s=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(Ig||this.options.enabled===!1||!G0(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(s.options.refetchIntervalInBackground||vd.isFocused())&&s.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(i,s){var a=this.currentQuery,u=this.options,c=this.currentResult,h=this.currentResultState,p=this.currentResultOptions,m=i!==a,y=m?i.state:this.currentQueryInitialState,A=m?this.currentResult:this.previousQueryResult,R=i.state,I=R.dataUpdatedAt,N=R.error,S=R.errorUpdatedAt,E=R.isFetching,P=R.status,j=!1,K=!1,Q;if(s.optimisticResults){var x=this.hasListeners(),C=!x&&wx(i,s),k=x&&Ex(i,a,s,u);(C||k)&&(E=!0,I||(P="loading"))}if(s.keepPreviousData&&!R.dataUpdateCount&&(A!=null&&A.isSuccess)&&P!=="error")Q=A.data,I=A.dataUpdatedAt,P=A.status,j=!0;else if(s.select&&typeof R.data<"u")if(c&&R.data===(h==null?void 0:h.data)&&s.select===this.selectFn)Q=this.selectResult;else try{this.selectFn=s.select,Q=s.select(R.data),s.structuralSharing!==!1&&(Q=Pg(c==null?void 0:c.data,Q)),this.selectResult=Q,this.selectError=null}catch(F){bg().error(F),this.selectError=F}else Q=R.data;if(typeof s.placeholderData<"u"&&typeof Q>"u"&&(P==="loading"||P==="idle")){var L;if(c!=null&&c.isPlaceholderData&&s.placeholderData===(p==null?void 0:p.placeholderData))L=c.data;else if(L=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof L<"u")try{L=s.select(L),s.structuralSharing!==!1&&(L=Pg(c==null?void 0:c.data,L)),this.selectError=null}catch(F){bg().error(F),this.selectError=F}typeof L<"u"&&(P="success",Q=L,K=!0)}this.selectError&&(N=this.selectError,Q=this.selectResult,S=Date.now(),P="error");var U={status:P,isLoading:P==="loading",isSuccess:P==="success",isError:P==="error",isIdle:P==="idle",data:Q,dataUpdatedAt:I,error:N,errorUpdatedAt:S,failureCount:R.fetchFailureCount,errorUpdateCount:R.errorUpdateCount,isFetched:R.dataUpdateCount>0||R.errorUpdateCount>0,isFetchedAfterMount:R.dataUpdateCount>y.dataUpdateCount||R.errorUpdateCount>y.errorUpdateCount,isFetching:E,isRefetching:E&&P!=="loading",isLoadingError:P==="error"&&R.dataUpdatedAt===0,isPlaceholderData:K,isPreviousData:j,isRefetchError:P==="error"&&R.dataUpdatedAt!==0,isStale:Mw(i,s),refetch:this.refetch,remove:this.remove};return U},n.shouldNotifyListeners=function(i,s){if(!s)return!0;var a=this.options,u=a.notifyOnChangeProps,c=a.notifyOnChangePropsExclusions;if(!u&&!c||u==="tracked"&&!this.trackedProps.length)return!0;var h=u==="tracked"?this.trackedProps:u;return Object.keys(i).some(function(p){var m=p,y=i[m]!==s[m],A=h==null?void 0:h.some(function(I){return I===p}),R=c==null?void 0:c.some(function(I){return I===p});return y&&!R&&(!h||A)})},n.updateResult=function(i){var s=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!Q9(this.currentResult,s)){var a={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,s)&&(a.listeners=!0),this.notify(Ct({},a,i))}},n.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var s=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),i.addObserver(this))}},n.onQueryUpdate=function(i){var s={};i.type==="success"?s.onSuccess=!0:i.type==="error"&&!Mp(i.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()},n.notify=function(i){var s=this;hn.batch(function(){i.onSuccess?(s.options.onSuccess==null||s.options.onSuccess(s.currentResult.data),s.options.onSettled==null||s.options.onSettled(s.currentResult.data,null)):i.onError&&(s.options.onError==null||s.options.onError(s.currentResult.error),s.options.onSettled==null||s.options.onSettled(void 0,s.currentResult.error)),i.listeners&&s.listeners.forEach(function(a){a(s.currentResult)}),i.cache&&s.client.getQueryCache().notify({query:s.currentQuery,type:"observerResultsUpdated"})})},e}(yh);function hj(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function wx(t,e){return hj(t,e)||t.state.dataUpdatedAt>0&&Y0(t,e,e.refetchOnMount)}function Y0(t,e,n){if(e.enabled!==!1){var r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Mw(t,e)}return!1}function Ex(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&Mw(t,n)}function Mw(t,e){return t.isStaleByTime(e.staleTime)}var fj=pR.unstable_batchedUpdates;hn.setBatchNotifyFunction(fj);var pj=console;tj(pj);var Sx=we.createContext(void 0),ER=we.createContext(!1);function SR(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Sx),window.ReactQueryClientContext):Sx}var _h=function(){var e=we.useContext(SR(we.useContext(ER)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},gj=function(e){var n=e.client,r=e.contextSharing,i=r===void 0?!1:r,s=e.children;we.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var a=SR(i);return we.createElement(ER.Provider,{value:i},we.createElement(a.Provider,{value:n},s))};function mj(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var vj=we.createContext(mj()),yj=function(){return we.useContext(vj)};function _j(t,e,n){return typeof e=="function"?e.apply(void 0,n):typeof e=="boolean"?e:!!t}function wj(t,e){var n=we.useRef(!1),r=we.useState(0),i=r[1],s=_h(),a=yj(),u=s.defaultQueryObserverOptions(t);u.optimisticResults=!0,u.onError&&(u.onError=hn.batchCalls(u.onError)),u.onSuccess&&(u.onSuccess=hn.batchCalls(u.onSuccess)),u.onSettled&&(u.onSettled=hn.batchCalls(u.onSettled)),u.suspense&&(typeof u.staleTime!="number"&&(u.staleTime=1e3),u.cacheTime===0&&(u.cacheTime=1)),(u.suspense||u.useErrorBoundary)&&(a.isReset()||(u.retryOnMount=!1));var c=we.useState(function(){return new e(s,u)}),h=c[0],p=h.getOptimisticResult(u);if(we.useEffect(function(){n.current=!0,a.clearReset();var m=h.subscribe(hn.batchCalls(function(){n.current&&i(function(y){return y+1})}));return h.updateResult(),function(){n.current=!1,m()}},[a,h]),we.useEffect(function(){h.setOptions(u,{listeners:!1})},[u,h]),u.suspense&&p.isLoading)throw h.fetchOptimistic(u).then(function(m){var y=m.data;u.onSuccess==null||u.onSuccess(y),u.onSettled==null||u.onSettled(y,null)}).catch(function(m){a.clearReset(),u.onError==null||u.onError(m),u.onSettled==null||u.onSettled(void 0,m)});if(p.isError&&!a.isReset()&&!p.isFetching&&_j(u.suspense,u.useErrorBoundary,[p.error,h.getCurrentQuery()]))throw p.error;return u.notifyOnChangeProps==="tracked"&&(p=h.trackResult(p,u)),p}function wh(t,e,n){var r=Dp(t,e,n);return wj(r,dj)}var TR={exports:{}};TR.exports={ReactQueryDevtools:function(){return null},ReactQueryDevtoolsPanel:function(){return null}};var Ej=TR.exports;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function en(){return en=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},en.apply(this,arguments)}var In;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(In||(In={}));const Tx="popstate";function Sj(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:u}=r.location;return Gd("",{pathname:s,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ul(i)}return xj(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tj(){return Math.random().toString(36).substr(2,8)}function xx(t,e){return{usr:t.state,key:t.key,idx:e}}function Gd(t,e,n,r){return n===void 0&&(n=null),en({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ta(e):e,{state:n,key:e&&e.key||r||Tj()})}function ul(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ta(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xj(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,u=In.Pop,c=null,h=p();h==null&&(h=0,a.replaceState(en({},a.state,{idx:h}),""));function p(){return(a.state||{idx:null}).idx}function m(){u=In.Pop;let N=p(),S=N==null?null:N-h;h=N,c&&c({action:u,location:I.location,delta:S})}function y(N,S){u=In.Push;let E=Gd(I.location,N,S);h=p()+1;let P=xx(E,h),j=I.createHref(E);try{a.pushState(P,"",j)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(j)}s&&c&&c({action:u,location:I.location,delta:1})}function A(N,S){u=In.Replace;let E=Gd(I.location,N,S);h=p();let P=xx(E,h),j=I.createHref(E);a.replaceState(P,"",j),s&&c&&c({action:u,location:I.location,delta:0})}function R(N){let S=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof N=="string"?N:ul(N);return E=E.replace(/ $/,"%20"),rt(S,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,S)}let I={get action(){return u},get location(){return t(i,a)},listen(N){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Tx,m),c=N,()=>{i.removeEventListener(Tx,m),c=null}},createHref(N){return e(i,N)},createURL:R,encodeLocation(N){let S=R(N);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:A,go(N){return a.go(N)}};return I}var Qt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qt||(Qt={}));const Ij=new Set(["lazy","caseSensitive","path","id","index","children"]);function Cj(t){return t.index===!0}function X0(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let a=[...n,s],u=typeof i.id=="string"?i.id:a.join("-");if(rt(i.index!==!0||!i.children,"Cannot specify children on an index route"),rt(!r[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),Cj(i)){let c=en({},i,e(i),{id:u});return r[u]=c,c}else{let c=en({},i,e(i),{id:u,children:void 0});return r[u]=c,i.children&&(c.children=X0(i.children,e,a,r)),c}})}function mu(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ta(e):e,i=vo(r.pathname||"/",n);if(i==null)return null;let s=xR(t);Pj(s);let a=null;for(let u=0;a==null&&u<s.length;++u){let c=Uj(i);a=Fj(s[u],c)}return a}function Aj(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function xR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(rt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=co([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(rt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),xR(s.children,e,p,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:Lj(h,s.index),routesMeta:p})};return t.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,a);else for(let c of IR(s.path))i(s,a,c)}),e}function IR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=IR(r.join("/")),u=[];return u.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function Pj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Mj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Rj=/^:[\w-]+$/,bj=3,kj=2,Nj=1,Oj=10,Dj=-2,Ix=t=>t==="*";function Lj(t,e){let n=t.split("/"),r=n.length;return n.some(Ix)&&(r+=Dj),e&&(r+=kj),n.filter(i=>!Ix(i)).reduce((i,s)=>i+(Rj.test(s)?bj:s===""?Nj:Oj),r)}function Mj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Fj(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let a=0;a<n.length;++a){let u=n[a],c=a===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=J0({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h);if(!p)return null;Object.assign(r,p.params);let m=u.route;s.push({params:r,pathname:co([i,p.pathname]),pathnameBase:$j(co([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=co([i,p.pathnameBase]))}return s}function J0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Vj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,p,m)=>{let{paramName:y,isOptional:A}=p;if(y==="*"){let I=u[m]||"";a=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const R=u[m];return A&&!R?h[y]=void 0:h[y]=(R||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:t}}function Vj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Fu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Uj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function jj(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ta(t):t;return{pathname:n?n.startsWith("/")?n:Bj(n,e):e,search:zj(r),hash:Wj(i)}}function Bj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Py(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Am(t,e){let n=CR(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Pm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ta(t):(i=en({},t),rt(!i.pathname||!i.pathname.includes("?"),Py("?","pathname","search",i)),rt(!i.pathname||!i.pathname.includes("#"),Py("#","pathname","hash",i)),rt(!i.search||!i.search.includes("#"),Py("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,u;if(a==null)u=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}u=m>=0?e[m]:"/"}let c=jj(i,u),h=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}const co=t=>t.join("/").replace(/\/\/+/g,"/"),$j=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Wj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Fw{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Vw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const AR=["post","put","patch","delete"],qj=new Set(AR),Hj=["get",...AR],Kj=new Set(Hj),Gj=new Set([301,302,303,307,308]),Qj=new Set([307,308]),Ry={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Yj={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Wc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Uw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xj=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),PR="remix-router-transitions";function Jj(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;rt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let q=t.detectErrorBoundary;i=X=>({hasErrorBoundary:q(X)})}else i=Xj;let s={},a=X0(t.routes,i,void 0,s),u,c=t.basename||"/",h=t.unstable_dataStrategy||n6,p=en({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),m=null,y=new Set,A=null,R=null,I=null,N=t.hydrationData!=null,S=mu(a,t.history.location,c),E=null;if(S==null){let q=_i(404,{pathname:t.history.location.pathname}),{matches:X,route:re}=Lx(a);S=X,E={[re.id]:q}}let P,j=S.some(q=>q.route.lazy),K=S.some(q=>q.route.loader);if(j)P=!1;else if(!K)P=!0;else if(p.v7_partialHydration){let q=t.hydrationData?t.hydrationData.loaderData:null,X=t.hydrationData?t.hydrationData.errors:null,re=he=>he.route.loader?typeof he.route.loader=="function"&&he.route.loader.hydrate===!0?!1:q&&q[he.route.id]!==void 0||X&&X[he.route.id]!==void 0:!0;if(X){let he=S.findIndex(Te=>X[Te.route.id]!==void 0);P=S.slice(0,he+1).every(re)}else P=S.every(re)}else P=t.hydrationData!=null;let Q,x={historyAction:t.history.action,location:t.history.location,matches:S,initialized:P,navigation:Ry,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||E,fetchers:new Map,blockers:new Map},C=In.Pop,k=!1,L,U=!1,F=new Map,M=null,pe=!1,Se=!1,Oe=[],De=[],ee=new Map,oe=0,ge=-1,Ae=new Map,xe=new Set,We=new Map,lt=new Map,et=new Set,Ge=new Map,it=new Map,Pn=!1;function wn(){if(m=t.history.listen(q=>{let{action:X,location:re,delta:he}=q;if(Pn){Pn=!1;return}Fu(it.size===0||he!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Te=ns({currentLocation:x.location,nextLocation:re,historyAction:X});if(Te&&he!=null){Pn=!0,t.history.go(he*-1),ts(Te,{state:"blocked",location:re,proceed(){ts(Te,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),t.history.go(he)},reset(){let be=new Map(x.blockers);be.set(Te,Wc),Et({blockers:be})}});return}return St(X,re)}),n){p6(e,F);let q=()=>g6(e,F);e.addEventListener("pagehide",q),M=()=>e.removeEventListener("pagehide",q)}return x.initialized||St(In.Pop,x.location,{initialHydration:!0}),Q}function tt(){m&&m(),M&&M(),y.clear(),L&&L.abort(),x.fetchers.forEach((q,X)=>tr(X)),x.blockers.forEach((q,X)=>Co(X))}function on(q){return y.add(q),()=>y.delete(q)}function Et(q,X){X===void 0&&(X={}),x=en({},x,q);let re=[],he=[];p.v7_fetcherPersist&&x.fetchers.forEach((Te,be)=>{Te.state==="idle"&&(et.has(be)?he.push(be):re.push(be))}),[...y].forEach(Te=>Te(x,{deletedFetchers:he,unstable_viewTransitionOpts:X.viewTransitionOpts,unstable_flushSync:X.flushSync===!0})),p.v7_fetcherPersist&&(re.forEach(Te=>x.fetchers.delete(Te)),he.forEach(Te=>tr(Te)))}function Jt(q,X,re){var he,Te;let{flushSync:be}=re===void 0?{}:re,Ne=x.actionData!=null&&x.navigation.formMethod!=null&&zi(x.navigation.formMethod)&&x.navigation.state==="loading"&&((he=q.state)==null?void 0:he._isRedirect)!==!0,Ee;X.actionData?Object.keys(X.actionData).length>0?Ee=X.actionData:Ee=null:Ne?Ee=x.actionData:Ee=null;let qe=X.loaderData?Ox(x.loaderData,X.loaderData,X.matches||[],X.errors):x.loaderData,je=x.blockers;je.size>0&&(je=new Map(je),je.forEach((Be,Ot)=>je.set(Ot,Wc)));let fn=k===!0||x.navigation.formMethod!=null&&zi(x.navigation.formMethod)&&((Te=q.state)==null?void 0:Te._isRedirect)!==!0;u&&(a=u,u=void 0),pe||C===In.Pop||(C===In.Push?t.history.push(q,q.state):C===In.Replace&&t.history.replace(q,q.state));let Ut;if(C===In.Pop){let Be=F.get(x.location.pathname);Be&&Be.has(q.pathname)?Ut={currentLocation:x.location,nextLocation:q}:F.has(q.pathname)&&(Ut={currentLocation:q,nextLocation:x.location})}else if(U){let Be=F.get(x.location.pathname);Be?Be.add(q.pathname):(Be=new Set([q.pathname]),F.set(x.location.pathname,Be)),Ut={currentLocation:x.location,nextLocation:q}}Et(en({},X,{actionData:Ee,loaderData:qe,historyAction:C,location:q,initialized:!0,navigation:Ry,revalidation:"idle",restoreScrollPosition:Ls(q,X.matches||x.matches),preventScrollReset:fn,blockers:je}),{viewTransitionOpts:Ut,flushSync:be===!0}),C=In.Pop,k=!1,U=!1,pe=!1,Se=!1,Oe=[],De=[]}async function an(q,X){if(typeof q=="number"){t.history.go(q);return}let re=Z0(x.location,x.matches,c,p.v7_prependBasename,q,p.v7_relativeSplatPath,X==null?void 0:X.fromRouteId,X==null?void 0:X.relative),{path:he,submission:Te,error:be}=Cx(p.v7_normalizeFormMethod,!1,re,X),Ne=x.location,Ee=Gd(x.location,he,X&&X.state);Ee=en({},Ee,t.history.encodeLocation(Ee));let qe=X&&X.replace!=null?X.replace:void 0,je=In.Push;qe===!0?je=In.Replace:qe===!1||Te!=null&&zi(Te.formMethod)&&Te.formAction===x.location.pathname+x.location.search&&(je=In.Replace);let fn=X&&"preventScrollReset"in X?X.preventScrollReset===!0:void 0,Ut=(X&&X.unstable_flushSync)===!0,Be=ns({currentLocation:Ne,nextLocation:Ee,historyAction:je});if(Be){ts(Be,{state:"blocked",location:Ee,proceed(){ts(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),an(q,X)},reset(){let Ot=new Map(x.blockers);Ot.set(Be,Wc),Et({blockers:Ot})}});return}return await St(je,Ee,{submission:Te,pendingError:be,preventScrollReset:fn,replace:X&&X.replace,enableViewTransition:X&&X.unstable_viewTransition,flushSync:Ut})}function pt(){if(st(),Et({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){St(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}St(C||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation})}}async function St(q,X,re){L&&L.abort(),L=null,C=q,pe=(re&&re.startUninterruptedRevalidation)===!0,Po(x.location,x.matches),k=(re&&re.preventScrollReset)===!0,U=(re&&re.enableViewTransition)===!0;let he=u||a,Te=re&&re.overrideNavigation,be=mu(he,X,c),Ne=(re&&re.flushSync)===!0;if(!be){let Be=_i(404,{pathname:X.pathname}),{matches:Ot,route:zt}=Lx(he);Ao(),Jt(X,{matches:Ot,loaderData:{},errors:{[zt.id]:Be}},{flushSync:Ne});return}if(x.initialized&&!Se&&l6(x.location,X)&&!(re&&re.submission&&zi(re.submission.formMethod))){Jt(X,{matches:be},{flushSync:Ne});return}L=new AbortController;let Ee=Jl(t.history,X,L.signal,re&&re.submission),qe;if(re&&re.pendingError)qe=[yd(be).route.id,{type:Qt.error,error:re.pendingError}];else if(re&&re.submission&&zi(re.submission.formMethod)){let Be=await Ai(Ee,X,re.submission,be,{replace:re.replace,flushSync:Ne});if(Be.shortCircuited)return;qe=Be.pendingActionResult,Te=by(X,re.submission),Ne=!1,Ee=Jl(t.history,Ee.url,Ee.signal)}let{shortCircuited:je,loaderData:fn,errors:Ut}=await B(Ee,X,be,Te,re&&re.submission,re&&re.fetcherSubmission,re&&re.replace,re&&re.initialHydration===!0,Ne,qe);je||(L=null,Jt(X,en({matches:be},Dx(qe),{loaderData:fn,errors:Ut})))}async function Ai(q,X,re,he,Te){Te===void 0&&(Te={}),st();let be=h6(X,re);Et({navigation:be},{flushSync:Te.flushSync===!0});let Ne,Ee=t_(he,X);if(!Ee.route.action&&!Ee.route.lazy)Ne={type:Qt.error,error:_i(405,{method:q.method,pathname:X.pathname,routeId:Ee.route.id})};else if(Ne=(await le("action",q,[Ee],he))[0],q.signal.aborted)return{shortCircuited:!0};if(Xa(Ne)){let qe;return Te&&Te.replace!=null?qe=Te.replace:qe=bx(Ne.response.headers.get("Location"),new URL(q.url),c)===x.location.pathname+x.location.search,await de(q,Ne,{submission:re,replace:qe}),{shortCircuited:!0}}if(Ya(Ne))throw _i(400,{type:"defer-action"});if(Si(Ne)){let qe=yd(he,Ee.route.id);return(Te&&Te.replace)!==!0&&(C=In.Push),{pendingActionResult:[qe.route.id,Ne]}}return{pendingActionResult:[Ee.route.id,Ne]}}async function B(q,X,re,he,Te,be,Ne,Ee,qe,je){let fn=he||by(X,Te),Ut=Te||be||Vx(fn),Be=u||a,[Ot,zt]=Ax(t.history,x,re,Ut,X,p.v7_partialHydration&&Ee===!0,p.unstable_skipActionErrorRevalidation,Se,Oe,De,et,We,xe,Be,c,je);if(Ao(ot=>!(re&&re.some(ln=>ln.route.id===ot))||Ot&&Ot.some(ln=>ln.route.id===ot)),ge=++oe,Ot.length===0&&zt.length===0){let ot=ci();return Jt(X,en({matches:re,loaderData:{},errors:je&&Si(je[1])?{[je[0]]:je[1].error}:null},Dx(je),ot?{fetchers:new Map(x.fetchers)}:{}),{flushSync:qe}),{shortCircuited:!0}}if(!pe&&(!p.v7_partialHydration||!Ee)){zt.forEach(ln=>{let Rn=x.fetchers.get(ln.key),Wt=qc(void 0,Rn?Rn.data:void 0);x.fetchers.set(ln.key,Wt)});let ot;je&&!Si(je[1])?ot={[je[0]]:je[1].data}:x.actionData&&(Object.keys(x.actionData).length===0?ot=null:ot=x.actionData),Et(en({navigation:fn},ot!==void 0?{actionData:ot}:{},zt.length>0?{fetchers:new Map(x.fetchers)}:{}),{flushSync:qe})}zt.forEach(ot=>{ee.has(ot.key)&&jn(ot.key),ot.controller&&ee.set(ot.key,ot.controller)});let is=()=>zt.forEach(ot=>jn(ot.key));L&&L.signal.addEventListener("abort",is);let{loaderResults:Rr,fetcherResults:$r}=await Ie(x.matches,re,Ot,zt,q);if(q.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",is),zt.forEach(ot=>ee.delete(ot.key));let Bn=Mx([...Rr,...$r]);if(Bn){if(Bn.idx>=Ot.length){let ot=zt[Bn.idx-Ot.length].key;xe.add(ot)}return await de(q,Bn.result,{replace:Ne}),{shortCircuited:!0}}let{loaderData:bi,errors:pr}=Nx(x,re,Ot,Rr,je,zt,$r,Ge);Ge.forEach((ot,ln)=>{ot.subscribe(Rn=>{(Rn||ot.done)&&Ge.delete(ln)})}),p.v7_partialHydration&&Ee&&x.errors&&Object.entries(x.errors).filter(ot=>{let[ln]=ot;return!Ot.some(Rn=>Rn.route.id===ln)}).forEach(ot=>{let[ln,Rn]=ot;pr=Object.assign(pr||{},{[ln]:Rn})});let ss=ci(),os=Pi(ge),Ms=ss||os||zt.length>0;return en({loaderData:bi,errors:pr},Ms?{fetchers:new Map(x.fetchers)}:{})}function Y(q,X,re,he){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ee.has(q)&&jn(q);let Te=(he&&he.unstable_flushSync)===!0,be=u||a,Ne=Z0(x.location,x.matches,c,p.v7_prependBasename,re,p.v7_relativeSplatPath,X,he==null?void 0:he.relative),Ee=mu(be,Ne,c);if(!Ee){ut(q,X,_i(404,{pathname:Ne}),{flushSync:Te});return}let{path:qe,submission:je,error:fn}=Cx(p.v7_normalizeFormMethod,!0,Ne,he);if(fn){ut(q,X,fn,{flushSync:Te});return}let Ut=t_(Ee,qe);if(k=(he&&he.preventScrollReset)===!0,je&&zi(je.formMethod)){te(q,X,qe,Ut,Ee,Te,je);return}We.set(q,{routeId:X,path:qe}),ve(q,X,qe,Ut,Ee,Te,je)}async function te(q,X,re,he,Te,be,Ne){if(st(),We.delete(q),!he.route.action&&!he.route.lazy){let Wt=_i(405,{method:Ne.formMethod,pathname:re,routeId:X});ut(q,X,Wt,{flushSync:be});return}let Ee=x.fetchers.get(q);Me(q,f6(Ne,Ee),{flushSync:be});let qe=new AbortController,je=Jl(t.history,re,qe.signal,Ne);ee.set(q,qe);let fn=oe,Be=(await le("action",je,[he],Te))[0];if(je.signal.aborted){ee.get(q)===qe&&ee.delete(q);return}if(p.v7_fetcherPersist&&et.has(q)){if(Xa(Be)||Si(Be)){Me(q,jo(void 0));return}}else{if(Xa(Be))if(ee.delete(q),ge>fn){Me(q,jo(void 0));return}else return xe.add(q),Me(q,qc(Ne)),de(je,Be,{fetcherSubmission:Ne});if(Si(Be)){ut(q,X,Be.error);return}}if(Ya(Be))throw _i(400,{type:"defer-action"});let Ot=x.navigation.location||x.location,zt=Jl(t.history,Ot,qe.signal),is=u||a,Rr=x.navigation.state!=="idle"?mu(is,x.navigation.location,c):x.matches;rt(Rr,"Didn't find any matches after fetcher action");let $r=++oe;Ae.set(q,$r);let Bn=qc(Ne,Be.data);x.fetchers.set(q,Bn);let[bi,pr]=Ax(t.history,x,Rr,Ne,Ot,!1,p.unstable_skipActionErrorRevalidation,Se,Oe,De,et,We,xe,is,c,[he.route.id,Be]);pr.filter(Wt=>Wt.key!==q).forEach(Wt=>{let ki=Wt.key,as=x.fetchers.get(ki),Ni=qc(void 0,as?as.data:void 0);x.fetchers.set(ki,Ni),ee.has(ki)&&jn(ki),Wt.controller&&ee.set(ki,Wt.controller)}),Et({fetchers:new Map(x.fetchers)});let ss=()=>pr.forEach(Wt=>jn(Wt.key));qe.signal.addEventListener("abort",ss);let{loaderResults:os,fetcherResults:Ms}=await Ie(x.matches,Rr,bi,pr,zt);if(qe.signal.aborted)return;qe.signal.removeEventListener("abort",ss),Ae.delete(q),ee.delete(q),pr.forEach(Wt=>ee.delete(Wt.key));let ot=Mx([...os,...Ms]);if(ot){if(ot.idx>=bi.length){let Wt=pr[ot.idx-bi.length].key;xe.add(Wt)}return de(zt,ot.result)}let{loaderData:ln,errors:Rn}=Nx(x,x.matches,bi,os,void 0,pr,Ms,Ge);if(x.fetchers.has(q)){let Wt=jo(Be.data);x.fetchers.set(q,Wt)}Pi($r),x.navigation.state==="loading"&&$r>ge?(rt(C,"Expected pending action"),L&&L.abort(),Jt(x.navigation.location,{matches:Rr,loaderData:ln,errors:Rn,fetchers:new Map(x.fetchers)})):(Et({errors:Rn,loaderData:Ox(x.loaderData,ln,Rr,Rn),fetchers:new Map(x.fetchers)}),Se=!1)}async function ve(q,X,re,he,Te,be,Ne){let Ee=x.fetchers.get(q);Me(q,qc(Ne,Ee?Ee.data:void 0),{flushSync:be});let qe=new AbortController,je=Jl(t.history,re,qe.signal);ee.set(q,qe);let fn=oe,Be=(await le("loader",je,[he],Te))[0];if(Ya(Be)&&(Be=await NR(Be,je.signal,!0)||Be),ee.get(q)===qe&&ee.delete(q),!je.signal.aborted){if(et.has(q)){Me(q,jo(void 0));return}if(Xa(Be))if(ge>fn){Me(q,jo(void 0));return}else{xe.add(q),await de(je,Be);return}if(Si(Be)){ut(q,X,Be.error);return}rt(!Ya(Be),"Unhandled fetcher deferred data"),Me(q,jo(Be.data))}}async function de(q,X,re){let{submission:he,fetcherSubmission:Te,replace:be}=re===void 0?{}:re;X.response.headers.has("X-Remix-Revalidate")&&(Se=!0);let Ne=X.response.headers.get("Location");rt(Ne,"Expected a Location header on the redirect Response"),Ne=bx(Ne,new URL(q.url),c);let Ee=Gd(x.location,Ne,{_isRedirect:!0});if(n){let Ot=!1;if(X.response.headers.has("X-Remix-Reload-Document"))Ot=!0;else if(Uw.test(Ne)){const zt=t.history.createURL(Ne);Ot=zt.origin!==e.location.origin||vo(zt.pathname,c)==null}if(Ot){be?e.location.replace(Ne):e.location.assign(Ne);return}}L=null;let qe=be===!0?In.Replace:In.Push,{formMethod:je,formAction:fn,formEncType:Ut}=x.navigation;!he&&!Te&&je&&fn&&Ut&&(he=Vx(x.navigation));let Be=he||Te;if(Qj.has(X.response.status)&&Be&&zi(Be.formMethod))await St(qe,Ee,{submission:en({},Be,{formAction:Ne}),preventScrollReset:k});else{let Ot=by(Ee,he);await St(qe,Ee,{overrideNavigation:Ot,fetcherSubmission:Te,preventScrollReset:k})}}async function le(q,X,re,he){try{let Te=await r6(h,q,X,re,he,s,i);return await Promise.all(Te.map((be,Ne)=>{if(u6(be)){let Ee=be.result;return{type:Qt.redirect,response:o6(Ee,X,re[Ne].route.id,he,c,p.v7_relativeSplatPath)}}return s6(be)}))}catch(Te){return re.map(()=>({type:Qt.error,error:Te}))}}async function Ie(q,X,re,he,Te){let[be,...Ne]=await Promise.all([re.length?le("loader",Te,re,X):[],...he.map(Ee=>{if(Ee.matches&&Ee.match&&Ee.controller){let qe=Jl(t.history,Ee.path,Ee.controller.signal);return le("loader",qe,[Ee.match],Ee.matches).then(je=>je[0])}else return Promise.resolve({type:Qt.error,error:_i(404,{pathname:Ee.path})})})]);return await Promise.all([Fx(q,re,be,be.map(()=>Te.signal),!1,x.loaderData),Fx(q,he.map(Ee=>Ee.match),Ne,he.map(Ee=>Ee.controller?Ee.controller.signal:null),!0)]),{loaderResults:be,fetcherResults:Ne}}function st(){Se=!0,Oe.push(...Ao()),We.forEach((q,X)=>{ee.has(X)&&(De.push(X),jn(X))})}function Me(q,X,re){re===void 0&&(re={}),x.fetchers.set(q,X),Et({fetchers:new Map(x.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function ut(q,X,re,he){he===void 0&&(he={});let Te=yd(x.matches,X);tr(q),Et({errors:{[Te.route.id]:re},fetchers:new Map(x.fetchers)},{flushSync:(he&&he.flushSync)===!0})}function En(q){return p.v7_fetcherPersist&&(lt.set(q,(lt.get(q)||0)+1),et.has(q)&&et.delete(q)),x.fetchers.get(q)||Yj}function tr(q){let X=x.fetchers.get(q);ee.has(q)&&!(X&&X.state==="loading"&&Ae.has(q))&&jn(q),We.delete(q),Ae.delete(q),xe.delete(q),et.delete(q),x.fetchers.delete(q)}function ui(q){if(p.v7_fetcherPersist){let X=(lt.get(q)||0)-1;X<=0?(lt.delete(q),et.add(q)):lt.set(q,X)}else tr(q);Et({fetchers:new Map(x.fetchers)})}function jn(q){let X=ee.get(q);rt(X,"Expected fetch controller: "+q),X.abort(),ee.delete(q)}function Pr(q){for(let X of q){let re=En(X),he=jo(re.data);x.fetchers.set(X,he)}}function ci(){let q=[],X=!1;for(let re of xe){let he=x.fetchers.get(re);rt(he,"Expected fetcher: "+re),he.state==="loading"&&(xe.delete(re),q.push(re),X=!0)}return Pr(q),X}function Pi(q){let X=[];for(let[re,he]of Ae)if(he<q){let Te=x.fetchers.get(re);rt(Te,"Expected fetcher: "+re),Te.state==="loading"&&(jn(re),Ae.delete(re),X.push(re))}return Pr(X),X.length>0}function di(q,X){let re=x.blockers.get(q)||Wc;return it.get(q)!==X&&it.set(q,X),re}function Co(q){x.blockers.delete(q),it.delete(q)}function ts(q,X){let re=x.blockers.get(q)||Wc;rt(re.state==="unblocked"&&X.state==="blocked"||re.state==="blocked"&&X.state==="blocked"||re.state==="blocked"&&X.state==="proceeding"||re.state==="blocked"&&X.state==="unblocked"||re.state==="proceeding"&&X.state==="unblocked","Invalid blocker state transition: "+re.state+" -> "+X.state);let he=new Map(x.blockers);he.set(q,X),Et({blockers:he})}function ns(q){let{currentLocation:X,nextLocation:re,historyAction:he}=q;if(it.size===0)return;it.size>1&&Fu(!1,"A router only supports one blocker at a time");let Te=Array.from(it.entries()),[be,Ne]=Te[Te.length-1],Ee=x.blockers.get(be);if(!(Ee&&Ee.state==="proceeding")&&Ne({currentLocation:X,nextLocation:re,historyAction:he}))return be}function Ao(q){let X=[];return Ge.forEach((re,he)=>{(!q||q(he))&&(re.cancel(),X.push(he),Ge.delete(he))}),X}function Cl(q,X,re){if(A=q,I=X,R=re||null,!N&&x.navigation===Ry){N=!0;let he=Ls(x.location,x.matches);he!=null&&Et({restoreScrollPosition:he})}return()=>{A=null,I=null,R=null}}function rs(q,X){return R&&R(q,X.map(he=>Aj(he,x.loaderData)))||q.key}function Po(q,X){if(A&&I){let re=rs(q,X);A[re]=I()}}function Ls(q,X){if(A){let re=rs(q,X),he=A[re];if(typeof he=="number")return he}return null}function Ri(q){s={},u=X0(q,i,void 0,s)}return Q={get basename(){return c},get future(){return p},get state(){return x},get routes(){return a},get window(){return e},initialize:wn,subscribe:on,enableScrollRestoration:Cl,navigate:an,fetch:Y,revalidate:pt,createHref:q=>t.history.createHref(q),encodeLocation:q=>t.history.encodeLocation(q),getFetcher:En,deleteFetcher:ui,dispose:tt,getBlocker:di,deleteBlocker:Co,_internalFetchControllers:ee,_internalActiveDeferreds:Ge,_internalSetRoutes:Ri},Q}function Zj(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Z0(t,e,n,r,i,s,a,u){let c,h;if(a){c=[];for(let m of e)if(c.push(m),m.route.id===a){h=m;break}}else c=e,h=e[e.length-1];let p=Pm(i||".",Am(c,s),vo(t.pathname,n)||t.pathname,u==="path");return i==null&&(p.search=t.search,p.hash=t.hash),(i==null||i===""||i===".")&&h&&h.route.index&&!jw(p.search)&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(p.pathname=p.pathname==="/"?n:co([n,p.pathname])),ul(p)}function Cx(t,e,n,r){if(!r||!Zj(r))return{path:n};if(r.formMethod&&!d6(r.formMethod))return{path:n,error:_i(405,{method:r.formMethod})};let i=()=>({path:n,error:_i(400,{type:"invalid-body"})}),s=r.formMethod||"get",a=t?s.toUpperCase():s.toLowerCase(),u=bR(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!zi(a))return i();let y=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((A,R)=>{let[I,N]=R;return""+A+I+"="+N+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:y}}}else if(r.formEncType==="application/json"){if(!zi(a))return i();try{let y=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:u,formEncType:r.formEncType,formData:void 0,json:y,text:void 0}}}catch{return i()}}}rt(typeof FormData=="function","FormData is not available in this environment");let c,h;if(r.formData)c=e_(r.formData),h=r.formData;else if(r.body instanceof FormData)c=e_(r.body),h=r.body;else if(r.body instanceof URLSearchParams)c=r.body,h=kx(c);else if(r.body==null)c=new URLSearchParams,h=new FormData;else try{c=new URLSearchParams(r.body),h=kx(c)}catch{return i()}let p={formMethod:a,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(zi(p.formMethod))return{path:n,submission:p};let m=Ta(n);return e&&m.search&&jw(m.search)&&c.append("index",""),m.search="?"+c,{path:ul(m),submission:p}}function e6(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Ax(t,e,n,r,i,s,a,u,c,h,p,m,y,A,R,I){let N=I?Si(I[1])?I[1].error:I[1].data:void 0,S=t.createURL(e.location),E=t.createURL(i),P=I&&Si(I[1])?I[0]:void 0,j=P?e6(n,P):n,K=I?I[1].statusCode:void 0,Q=a&&K&&K>=400,x=j.filter((k,L)=>{let{route:U}=k;if(U.lazy)return!0;if(U.loader==null)return!1;if(s)return typeof U.loader!="function"||U.loader.hydrate?!0:e.loaderData[U.id]===void 0&&(!e.errors||e.errors[U.id]===void 0);if(t6(e.loaderData,e.matches[L],k)||c.some(pe=>pe===k.route.id))return!0;let F=e.matches[L],M=k;return Px(k,en({currentUrl:S,currentParams:F.params,nextUrl:E,nextParams:M.params},r,{actionResult:N,unstable_actionStatus:K,defaultShouldRevalidate:Q?!1:u||S.pathname+S.search===E.pathname+E.search||S.search!==E.search||RR(F,M)}))}),C=[];return m.forEach((k,L)=>{if(s||!n.some(Se=>Se.route.id===k.routeId)||p.has(L))return;let U=mu(A,k.path,R);if(!U){C.push({key:L,routeId:k.routeId,path:k.path,matches:null,match:null,controller:null});return}let F=e.fetchers.get(L),M=t_(U,k.path),pe=!1;y.has(L)?pe=!1:h.includes(L)?pe=!0:F&&F.state!=="idle"&&F.data===void 0?pe=u:pe=Px(M,en({currentUrl:S,currentParams:e.matches[e.matches.length-1].params,nextUrl:E,nextParams:n[n.length-1].params},r,{actionResult:N,unstable_actionStatus:K,defaultShouldRevalidate:Q?!1:u})),pe&&C.push({key:L,routeId:k.routeId,path:k.path,matches:U,match:M,controller:new AbortController})}),[x,C]}function t6(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function RR(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Px(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Rx(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];rt(i,"No route found in manifest");let s={};for(let a in r){let c=i[a]!==void 0&&a!=="hasErrorBoundary";Fu(!c,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!c&&!Ij.has(a)&&(s[a]=r[a])}Object.assign(i,s),Object.assign(i,en({},e(i),{lazy:void 0}))}function n6(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function r6(t,e,n,r,i,s,a,u){let c=r.reduce((m,y)=>m.add(y.route.id),new Set),h=new Set,p=await t({matches:i.map(m=>{let y=c.has(m.route.id);return en({},m,{shouldLoad:y,resolve:R=>(h.add(m.route.id),y?i6(e,n,m,s,a,R,u):Promise.resolve({type:Qt.data,result:void 0}))})}),request:n,params:i[0].params,context:u});return i.forEach(m=>rt(h.has(m.route.id),'`match.resolve()` was not called for route id "'+m.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),p.filter((m,y)=>c.has(i[y].route.id))}async function i6(t,e,n,r,i,s,a){let u,c,h=p=>{let m,y=new Promise((I,N)=>m=N);c=()=>m(),e.signal.addEventListener("abort",c);let A=I=>typeof p!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):p({request:e,params:n.params,context:a},...I!==void 0?[I]:[]),R;return s?R=s(I=>A(I)):R=(async()=>{try{return{type:"data",result:await A()}}catch(I){return{type:"error",result:I}}})(),Promise.race([R,y])};try{let p=n.route[t];if(n.route.lazy)if(p){let m,[y]=await Promise.all([h(p).catch(A=>{m=A}),Rx(n.route,i,r)]);if(m!==void 0)throw m;u=y}else if(await Rx(n.route,i,r),p=n.route[t],p)u=await h(p);else if(t==="action"){let m=new URL(e.url),y=m.pathname+m.search;throw _i(405,{method:e.method,pathname:y,routeId:n.route.id})}else return{type:Qt.data,result:void 0};else if(p)u=await h(p);else{let m=new URL(e.url),y=m.pathname+m.search;throw _i(404,{pathname:y})}rt(u.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(p){return{type:Qt.error,result:p}}finally{c&&e.signal.removeEventListener("abort",c)}return u}async function s6(t){let{result:e,type:n,status:r}=t;if(kR(e)){let a;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?a=null:a=await e.json():a=await e.text()}catch(u){return{type:Qt.error,error:u}}return n===Qt.error?{type:Qt.error,error:new Fw(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:Qt.data,data:a,statusCode:e.status,headers:e.headers}}if(n===Qt.error)return{type:Qt.error,error:e,statusCode:Vw(e)?e.status:r};if(c6(e)){var i,s;return{type:Qt.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:Qt.data,data:e,statusCode:r}}function o6(t,e,n,r,i,s){let a=t.headers.get("Location");if(rt(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Uw.test(a)){let u=r.slice(0,r.findIndex(c=>c.route.id===n)+1);a=Z0(new URL(e.url),u,i,!0,a,s),t.headers.set("Location",a)}return t}function bx(t,e,n){if(Uw.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=vo(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Jl(t,e,n,r){let i=t.createURL(bR(e)).toString(),s={signal:n};if(r&&zi(r.formMethod)){let{formMethod:a,formEncType:u}=r;s.method=a.toUpperCase(),u==="application/json"?(s.headers=new Headers({"Content-Type":u}),s.body=JSON.stringify(r.json)):u==="text/plain"?s.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?s.body=e_(r.formData):s.body=r.formData}return new Request(i,s)}function e_(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function kx(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function a6(t,e,n,r,i,s){let a={},u=null,c,h=!1,p={},m=r&&Si(r[1])?r[1].error:void 0;return n.forEach((y,A)=>{let R=e[A].route.id;if(rt(!Xa(y),"Cannot handle redirect results in processLoaderData"),Si(y)){let I=y.error;m!==void 0&&(I=m,m=void 0),u=u||{};{let N=yd(t,R);u[N.route.id]==null&&(u[N.route.id]=I)}a[R]=void 0,h||(h=!0,c=Vw(y.error)?y.error.status:500),y.headers&&(p[R]=y.headers)}else Ya(y)?(i.set(R,y.deferredData),a[R]=y.deferredData.data,y.statusCode!=null&&y.statusCode!==200&&!h&&(c=y.statusCode),y.headers&&(p[R]=y.headers)):(a[R]=y.data,y.statusCode&&y.statusCode!==200&&!h&&(c=y.statusCode),y.headers&&(p[R]=y.headers))}),m!==void 0&&r&&(u={[r[0]]:m},a[r[0]]=void 0),{loaderData:a,errors:u,statusCode:c||200,loaderHeaders:p}}function Nx(t,e,n,r,i,s,a,u){let{loaderData:c,errors:h}=a6(e,n,r,i,u);for(let p=0;p<s.length;p++){let{key:m,match:y,controller:A}=s[p];rt(a!==void 0&&a[p]!==void 0,"Did not find corresponding fetcher result");let R=a[p];if(!(A&&A.signal.aborted))if(Si(R)){let I=yd(t.matches,y==null?void 0:y.route.id);h&&h[I.route.id]||(h=en({},h,{[I.route.id]:R.error})),t.fetchers.delete(m)}else if(Xa(R))rt(!1,"Unhandled fetcher revalidation redirect");else if(Ya(R))rt(!1,"Unhandled fetcher deferred data");else{let I=jo(R.data);t.fetchers.set(m,I)}}return{loaderData:c,errors:h}}function Ox(t,e,n,r){let i=en({},e);for(let s of n){let a=s.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):t[a]!==void 0&&s.route.loader&&(i[a]=t[a]),r&&r.hasOwnProperty(a))break}return i}function Dx(t){return t?Si(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function yd(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Lx(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function _i(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,a="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(a="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",u='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new Fw(t||500,a,new Error(u),!0)}function Mx(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Xa(n))return{result:n,idx:e}}}function bR(t){let e=typeof t=="string"?Ta(t):t;return ul(en({},e,{hash:""}))}function l6(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function u6(t){return kR(t.result)&&Gj.has(t.result.status)}function Ya(t){return t.type===Qt.deferred}function Si(t){return t.type===Qt.error}function Xa(t){return(t&&t.type)===Qt.redirect}function c6(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function kR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function d6(t){return Kj.has(t.toLowerCase())}function zi(t){return qj.has(t.toLowerCase())}async function Fx(t,e,n,r,i,s){for(let a=0;a<n.length;a++){let u=n[a],c=e[a];if(!c)continue;let h=t.find(m=>m.route.id===c.route.id),p=h!=null&&!RR(h,c)&&(s&&s[c.route.id])!==void 0;if(Ya(u)&&(i||p)){let m=r[a];rt(m,"Expected an AbortSignal for revalidating fetcher deferred result"),await NR(u,m,i).then(y=>{y&&(n[a]=y||n[a])})}}}async function NR(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Qt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Qt.error,error:i}}return{type:Qt.data,data:t.deferredData.data}}}function jw(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function t_(t,e){let n=typeof e=="string"?Ta(e).search:e.search;if(t[t.length-1].route.index&&jw(n||""))return t[t.length-1];let r=CR(t);return r[r.length-1]}function Vx(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:a}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function by(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function h6(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function qc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function f6(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function jo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function p6(t,e){try{let n=t.sessionStorage.getItem(PR);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function g6(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(PR,JSON.stringify(n))}catch(r){Fu(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kg(){return kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kg.apply(this,arguments)}const Eh=W.createContext(null),Bw=W.createContext(null),So=W.createContext(null),$w=W.createContext(null),To=W.createContext({outlet:null,matches:[],isDataRoute:!1}),OR=W.createContext(null);function m6(t,e){let{relative:n}=e===void 0?{}:e;Zu()||rt(!1);let{basename:r,navigator:i}=W.useContext(So),{hash:s,pathname:a,search:u}=Rm(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:co([r,a])),i.createHref({pathname:c,search:u,hash:s})}function Zu(){return W.useContext($w)!=null}function wl(){return Zu()||rt(!1),W.useContext($w).location}function DR(t){W.useContext(So).static||W.useLayoutEffect(t)}function ec(){let{isDataRoute:t}=W.useContext(To);return t?R6():v6()}function v6(){Zu()||rt(!1);let t=W.useContext(Eh),{basename:e,future:n,navigator:r}=W.useContext(So),{matches:i}=W.useContext(To),{pathname:s}=wl(),a=JSON.stringify(Am(i,n.v7_relativeSplatPath)),u=W.useRef(!1);return DR(()=>{u.current=!0}),W.useCallback(function(h,p){if(p===void 0&&(p={}),!u.current)return;if(typeof h=="number"){r.go(h);return}let m=Pm(h,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:co([e,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[e,r,a,s,t])}const y6=W.createContext(null);function _6(t){let e=W.useContext(To).outlet;return e&&W.createElement(y6.Provider,{value:t},e)}function Rm(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=W.useContext(So),{matches:i}=W.useContext(To),{pathname:s}=wl(),a=JSON.stringify(Am(i,r.v7_relativeSplatPath));return W.useMemo(()=>Pm(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function w6(t,e,n,r){Zu()||rt(!1);let{navigator:i}=W.useContext(So),{matches:s}=W.useContext(To),a=s[s.length-1],u=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let h=wl(),p;p=h;let m=p.pathname||"/",y=m;if(c!=="/"){let I=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(I.length).join("/")}let A=mu(t,{pathname:y});return I6(A&&A.map(I=>Object.assign({},I,{params:Object.assign({},u,I.params),pathname:co([c,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?c:co([c,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r)}function E6(){let t=FR(),e=Vw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:i},n):null,null)}const S6=W.createElement(E6,null);class T6 extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?W.createElement(To.Provider,{value:this.props.routeContext},W.createElement(OR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x6(t){let{routeContext:e,match:n,children:r}=t,i=W.useContext(Eh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),W.createElement(To.Provider,{value:e},r)}function I6(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let a=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let p=a.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);p>=0||rt(!1),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:y,errors:A}=n,R=m.route.loader&&y[m.route.id]===void 0&&(!A||A[m.route.id]===void 0);if(m.route.lazy||R){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((p,m,y)=>{let A,R=!1,I=null,N=null;n&&(A=u&&m.route.id?u[m.route.id]:void 0,I=m.route.errorElement||S6,c&&(h<0&&y===0?(b6("route-fallback"),R=!0,N=null):h===y&&(R=!0,N=m.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,y+1)),E=()=>{let P;return A?P=I:R?P=N:m.route.Component?P=W.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=p,W.createElement(x6,{match:m,routeContext:{outlet:p,matches:S,isDataRoute:n!=null},children:P})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?W.createElement(T6,{location:n.location,revalidation:n.revalidation,component:I,error:A,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):E()},null)}var LR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(LR||{}),Ng=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ng||{});function C6(t){let e=W.useContext(Eh);return e||rt(!1),e}function A6(t){let e=W.useContext(Bw);return e||rt(!1),e}function P6(t){let e=W.useContext(To);return e||rt(!1),e}function MR(t){let e=P6(),n=e.matches[e.matches.length-1];return n.route.id||rt(!1),n.route.id}function FR(){var t;let e=W.useContext(OR),n=A6(Ng.UseRouteError),r=MR(Ng.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function R6(){let{router:t}=C6(LR.UseNavigateStable),e=MR(Ng.UseNavigateStable),n=W.useRef(!1);return DR(()=>{n.current=!0}),W.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,kg({fromRouteId:e},s)))},[t,e])}const Ux={};function b6(t,e,n){Ux[t]||(Ux[t]=!0)}function jx(t){let{to:e,replace:n,state:r,relative:i}=t;Zu()||rt(!1);let{future:s,static:a}=W.useContext(So),{matches:u}=W.useContext(To),{pathname:c}=wl(),h=ec(),p=Pm(e,Am(u,s.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(p);return W.useEffect(()=>h(JSON.parse(m),{replace:n,state:r,relative:i}),[h,m,i,n,r]),null}function k6(t){return _6(t.context)}function N6(t){let{basename:e="/",children:n=null,location:r,navigationType:i=In.Pop,navigator:s,static:a=!1,future:u}=t;Zu()&&rt(!1);let c=e.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:c,navigator:s,static:a,future:kg({v7_relativeSplatPath:!1},u)}),[c,u,s,a]);typeof r=="string"&&(r=Ta(r));let{pathname:p="/",search:m="",hash:y="",state:A=null,key:R="default"}=r,I=W.useMemo(()=>{let N=vo(p,c);return N==null?null:{location:{pathname:N,search:m,hash:y,state:A,key:R},navigationType:i}},[c,p,m,y,A,R,i]);return I==null?null:W.createElement(So.Provider,{value:h},W.createElement($w.Provider,{children:n,value:I}))}new Promise(()=>{});function O6(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:W.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:W.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:W.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vu(){return Vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vu.apply(this,arguments)}function VR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function D6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function L6(t,e){return t.button===0&&(!e||e==="_self")&&!D6(t)}const M6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],F6=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],V6="6";try{window.__reactRouterVersion=V6}catch{}function U6(t,e){return Jj({basename:void 0,future:Vu({},void 0,{v7_prependBasename:!0}),history:Sj({window:void 0}),hydrationData:j6(),routes:t,mapRouteProperties:O6,unstable_dataStrategy:void 0,window:void 0}).initialize()}function j6(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Vu({},e,{errors:B6(e.errors)})),e}function B6(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Fw(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const UR=W.createContext({isTransitioning:!1}),$6=W.createContext(new Map),z6="startTransition",Bx=IF[z6],W6="flushSync",$x=q9[W6];function q6(t){Bx?Bx(t):t()}function Hc(t){$x?$x(t):t()}let H6=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function K6(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=W.useState(n.state),[a,u]=W.useState(),[c,h]=W.useState({isTransitioning:!1}),[p,m]=W.useState(),[y,A]=W.useState(),[R,I]=W.useState(),N=W.useRef(new Map),{v7_startTransition:S}=r||{},E=W.useCallback(x=>{S?q6(x):x()},[S]),P=W.useCallback((x,C)=>{let{deletedFetchers:k,unstable_flushSync:L,unstable_viewTransitionOpts:U}=C;k.forEach(M=>N.current.delete(M)),x.fetchers.forEach((M,pe)=>{M.data!==void 0&&N.current.set(pe,M.data)});let F=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!U||F){L?Hc(()=>s(x)):E(()=>s(x));return}if(L){Hc(()=>{y&&(p&&p.resolve(),y.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let M=n.window.document.startViewTransition(()=>{Hc(()=>s(x))});M.finished.finally(()=>{Hc(()=>{m(void 0),A(void 0),u(void 0),h({isTransitioning:!1})})}),Hc(()=>A(M));return}y?(p&&p.resolve(),y.skipTransition(),I({state:x,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(u(x),h({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[n.window,y,p,N,E]);W.useLayoutEffect(()=>n.subscribe(P),[n,P]),W.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new H6)},[c]),W.useEffect(()=>{if(p&&a&&n.window){let x=a,C=p.promise,k=n.window.document.startViewTransition(async()=>{E(()=>s(x)),await C});k.finished.finally(()=>{m(void 0),A(void 0),u(void 0),h({isTransitioning:!1})}),A(k)}},[E,a,p,n.window]),W.useEffect(()=>{p&&a&&i.location.key===a.location.key&&p.resolve()},[p,y,i.location,a]),W.useEffect(()=>{!c.isTransitioning&&R&&(u(R.state),h({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}),I(void 0))},[c.isTransitioning,R]),W.useEffect(()=>{},[]);let j=W.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:x=>n.navigate(x),push:(x,C,k)=>n.navigate(x,{state:C,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(x,C,k)=>n.navigate(x,{replace:!0,state:C,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[n]),K=n.basename||"/",Q=W.useMemo(()=>({router:n,navigator:j,static:!1,basename:K}),[n,j,K]);return W.createElement(W.Fragment,null,W.createElement(Eh.Provider,{value:Q},W.createElement(Bw.Provider,{value:i},W.createElement($6.Provider,{value:N.current},W.createElement(UR.Provider,{value:c},W.createElement(N6,{basename:K,location:i.location,navigationType:i.historyAction,navigator:j,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?W.createElement(G6,{routes:n.routes,future:n.future,state:i}):e))))),null)}function G6(t){let{routes:e,future:n,state:r}=t;return w6(e,void 0,r,n)}const Q6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ei=W.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:u,target:c,to:h,preventScrollReset:p,unstable_viewTransition:m}=e,y=VR(e,M6),{basename:A}=W.useContext(So),R,I=!1;if(typeof h=="string"&&Y6.test(h)&&(R=h,Q6))try{let P=new URL(window.location.href),j=h.startsWith("//")?new URL(P.protocol+h):new URL(h),K=vo(j.pathname,A);j.origin===P.origin&&K!=null?h=K+j.search+j.hash:I=!0}catch{}let N=m6(h,{relative:i}),S=J6(h,{replace:a,state:u,target:c,preventScrollReset:p,relative:i,unstable_viewTransition:m});function E(P){r&&r(P),P.defaultPrevented||S(P)}return W.createElement("a",Vu({},y,{href:R||N,onClick:I||s?r:E,ref:n,target:c}))}),Iu=W.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:u,to:c,unstable_viewTransition:h,children:p}=e,m=VR(e,F6),y=Rm(c,{relative:m.relative}),A=wl(),R=W.useContext(Bw),{navigator:I,basename:N}=W.useContext(So),S=R!=null&&Z6(y)&&h===!0,E=I.encodeLocation?I.encodeLocation(y).pathname:y.pathname,P=A.pathname,j=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;i||(P=P.toLowerCase(),j=j?j.toLowerCase():null,E=E.toLowerCase()),j&&N&&(j=vo(j,N)||j);const K=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let Q=P===E||!a&&P.startsWith(E)&&P.charAt(K)==="/",x=j!=null&&(j===E||!a&&j.startsWith(E)&&j.charAt(E.length)==="/"),C={isActive:Q,isPending:x,isTransitioning:S},k=Q?r:void 0,L;typeof s=="function"?L=s(C):L=[s,Q?"active":null,x?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let U=typeof u=="function"?u(C):u;return W.createElement(ei,Vu({},m,{"aria-current":k,className:L,ref:n,style:U,to:c,unstable_viewTransition:h}),typeof p=="function"?p(C):p)});var n_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(n_||(n_={}));var zx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zx||(zx={}));function X6(t){let e=W.useContext(Eh);return e||rt(!1),e}function J6(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:u}=e===void 0?{}:e,c=ec(),h=wl(),p=Rm(t,{relative:a});return W.useCallback(m=>{if(L6(m,n)){m.preventDefault();let y=r!==void 0?r:ul(h)===ul(p);c(t,{replace:y,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:u})}},[h,c,p,r,i,n,t,s,a,u])}function Z6(t,e){e===void 0&&(e={});let n=W.useContext(UR);n==null&&rt(!1);let{basename:r}=X6(n_.useViewTransitionState),i=Rm(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=vo(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=vo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return J0(i.pathname,a)!=null||J0(i.pathname,s)!=null}function jR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=jR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Jo(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=jR(t))&&(r&&(r+=" "),r+=e);return r}const Qd=t=>typeof t=="number"&&!isNaN(t),nl=t=>typeof t=="string",ni=t=>typeof t=="function",Fp=t=>nl(t)||ni(t)?t:null,r_=t=>W.isValidElement(t)||nl(t)||ni(t)||Qd(t);function e7(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function bm(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(a){let{children:u,position:c,preventExitTransition:h,done:p,nodeRef:m,isIn:y,playToast:A}=a;const R=r?`${e}--${c}`:e,I=r?`${n}--${c}`:n,N=W.useRef(0);return W.useLayoutEffect(()=>{const S=m.current,E=R.split(" "),P=j=>{j.target===m.current&&(A(),S.removeEventListener("animationend",P),S.removeEventListener("animationcancel",P),N.current===0&&j.type!=="animationcancel"&&S.classList.remove(...E))};S.classList.add(...E),S.addEventListener("animationend",P),S.addEventListener("animationcancel",P)},[]),W.useEffect(()=>{const S=m.current,E=()=>{S.removeEventListener("animationend",E),i?e7(S,p,s):p()};y||(h?E():(N.current=1,S.className+=` ${I}`,S.addEventListener("animationend",E)))},[y]),we.createElement(we.Fragment,null,u)}}function Wx(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Tr=new Map;let Yd=[];const i_=new Set,t7=t=>i_.forEach(e=>e(t)),BR=()=>Tr.size>0;function $R(t,e){var n;if(e)return!((n=Tr.get(e))==null||!n.isToastActive(t));let r=!1;return Tr.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function zR(t,e){r_(t)&&(BR()||Yd.push({content:t,options:e}),Tr.forEach(n=>{n.buildToast(t,e)}))}function qx(t,e){Tr.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function n7(t){const{subscribe:e,getSnapshot:n,setProps:r}=W.useRef(function(s){const a=s.containerId||1;return{subscribe(u){const c=function(p,m,y){let A=1,R=0,I=[],N=[],S=[],E=m;const P=new Map,j=new Set,K=()=>{S=Array.from(P.values()),j.forEach(C=>C())},Q=C=>{N=C==null?[]:N.filter(k=>k!==C),K()},x=C=>{const{toastId:k,onOpen:L,updateId:U,children:F}=C.props,M=U==null;C.staleId&&P.delete(C.staleId),P.set(k,C),N=[...N,C.props.toastId].filter(pe=>pe!==C.staleId),K(),y(Wx(C,M?"added":"updated")),M&&ni(L)&&L(W.isValidElement(F)&&F.props)};return{id:p,props:E,observe:C=>(j.add(C),()=>j.delete(C)),toggle:(C,k)=>{P.forEach(L=>{k!=null&&k!==L.props.toastId||ni(L.toggle)&&L.toggle(C)})},removeToast:Q,toasts:P,clearQueue:()=>{R-=I.length,I=[]},buildToast:(C,k)=>{if((xe=>{let{containerId:We,toastId:lt,updateId:et}=xe;const Ge=We?We!==p:p!==1,it=P.has(lt)&&et==null;return Ge||it})(k))return;const{toastId:L,updateId:U,data:F,staleId:M,delay:pe}=k,Se=()=>{Q(L)},Oe=U==null;Oe&&R++;const De={...E,style:E.toastStyle,key:A++,...Object.fromEntries(Object.entries(k).filter(xe=>{let[We,lt]=xe;return lt!=null})),toastId:L,updateId:U,data:F,closeToast:Se,isIn:!1,className:Fp(k.className||E.toastClassName),bodyClassName:Fp(k.bodyClassName||E.bodyClassName),progressClassName:Fp(k.progressClassName||E.progressClassName),autoClose:!k.isLoading&&(ee=k.autoClose,oe=E.autoClose,ee===!1||Qd(ee)&&ee>0?ee:oe),deleteToast(){const xe=P.get(L),{onClose:We,children:lt}=xe.props;ni(We)&&We(W.isValidElement(lt)&&lt.props),y(Wx(xe,"removed")),P.delete(L),R--,R<0&&(R=0),I.length>0?x(I.shift()):K()}};var ee,oe;De.closeButton=E.closeButton,k.closeButton===!1||r_(k.closeButton)?De.closeButton=k.closeButton:k.closeButton===!0&&(De.closeButton=!r_(E.closeButton)||E.closeButton);let ge=C;W.isValidElement(C)&&!nl(C.type)?ge=W.cloneElement(C,{closeToast:Se,toastProps:De,data:F}):ni(C)&&(ge=C({closeToast:Se,toastProps:De,data:F}));const Ae={content:ge,props:De,staleId:M};E.limit&&E.limit>0&&R>E.limit&&Oe?I.push(Ae):Qd(pe)?setTimeout(()=>{x(Ae)},pe):x(Ae)},setProps(C){E=C},setToggle:(C,k)=>{P.get(C).toggle=k},isToastActive:C=>N.some(k=>k===C),getSnapshot:()=>E.newestOnTop?S.reverse():S}}(a,s,t7);Tr.set(a,c);const h=c.observe(u);return Yd.forEach(p=>zR(p.content,p.options)),Yd=[],()=>{h(),Tr.delete(a)}},setProps(u){var c;(c=Tr.get(a))==null||c.setProps(u)},getSnapshot(){var u;return(u=Tr.get(a))==null?void 0:u.getSnapshot()}}}(t)).current;r(t);const i=W.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const a=new Map;return i.forEach(u=>{const{position:c}=u.props;a.has(c)||a.set(c,[]),a.get(c).push(u)}),Array.from(a,u=>s(u[0],u[1]))},isToastActive:$R,count:i==null?void 0:i.length}}function r7(t){const[e,n]=W.useState(!1),[r,i]=W.useState(!1),s=W.useRef(null),a=W.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:c,closeToast:h,onClick:p,closeOnClick:m}=t;var y,A;function R(){n(!0)}function I(){n(!1)}function N(P){const j=s.current;a.canDrag&&j&&(a.didMove=!0,e&&I(),a.delta=t.draggableDirection==="x"?P.clientX-a.start:P.clientY-a.start,a.start!==P.clientX&&(a.canCloseOnClick=!1),j.style.transform=`translate3d(${t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`},0)`,j.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function S(){document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",S);const P=s.current;if(a.canDrag&&a.didMove&&P){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}(A=Tr.get((y={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||A.setToggle(y.id,y.fn),W.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||I(),window.addEventListener("focus",R),window.addEventListener("blur",I),()=>{window.removeEventListener("focus",R),window.removeEventListener("blur",I)}},[t.pauseOnFocusLoss]);const E={onPointerDown:function(P){if(t.draggable===!0||t.draggable===P.pointerType){a.didMove=!1,document.addEventListener("pointermove",N),document.addEventListener("pointerup",S);const j=s.current;a.canCloseOnClick=!0,a.canDrag=!0,j.style.transition="none",t.draggableDirection==="x"?(a.start=P.clientX,a.removalDistance=j.offsetWidth*(t.draggablePercent/100)):(a.start=P.clientY,a.removalDistance=j.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(P){const{top:j,bottom:K,left:Q,right:x}=s.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&t.pauseOnHover&&P.clientX>=Q&&P.clientX<=x&&P.clientY>=j&&P.clientY<=K?I():R()}};return u&&c&&(E.onMouseEnter=I,t.stacked||(E.onMouseLeave=R)),m&&(E.onClick=P=>{p&&p(P),a.canCloseOnClick&&h()}),{playToast:R,pauseToast:I,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:E}}function i7(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:a,style:u,controlledProgress:c,progress:h,rtl:p,isIn:m,theme:y}=t;const A=s||c&&h===0,R={...u,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};c&&(R.transform=`scaleX(${h})`);const I=Jo("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":p}),N=ni(a)?a({rtl:p,type:i,defaultClassName:I}):Jo(I,a),S={[c&&h>=1?"onTransitionEnd":"onAnimationEnd"]:c&&h<1?null:()=>{m&&r()}};return we.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},we.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${i}`}),we.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:N,style:R,...S}))}let s7=1;const WR=()=>""+s7++;function o7(t){return t&&(nl(t.toastId)||Qd(t.toastId))?t.toastId:WR()}function _d(t,e){return zR(t,e),e.toastId}function Og(t,e){return{...e,type:e&&e.type||t,toastId:o7(e)}}function ap(t){return(e,n)=>_d(e,Og(t,n))}function Dt(t,e){return _d(t,Og("default",e))}Dt.loading=(t,e)=>_d(t,Og("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Dt.promise=function(t,e,n){let r,{pending:i,error:s,success:a}=e;i&&(r=nl(i)?Dt.loading(i,n):Dt.loading(i.render,{...n,...i}));const u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(p,m,y)=>{if(m==null)return void Dt.dismiss(r);const A={type:p,...u,...n,data:y},R=nl(m)?{render:m}:m;return r?Dt.update(r,{...A,...R}):Dt(R.render,{...A,...R}),y},h=ni(t)?t():t;return h.then(p=>c("success",a,p)).catch(p=>c("error",s,p)),h},Dt.success=ap("success"),Dt.info=ap("info"),Dt.error=ap("error"),Dt.warning=ap("warning"),Dt.warn=Dt.warning,Dt.dark=(t,e)=>_d(t,Og("default",{theme:"dark",...e})),Dt.dismiss=function(t){(function(e){var n;if(BR()){if(e==null||nl(n=e)||Qd(n))Tr.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=Tr.get(e.containerId);r?r.removeToast(e.id):Tr.forEach(i=>{i.removeToast(e.id)})}}else Yd=Yd.filter(r=>e!=null&&r.options.toastId!==e)})(t)},Dt.clearWaitingQueue=function(t){t===void 0&&(t={}),Tr.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Dt.isActive=$R,Dt.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:a}=i;return(s=Tr.get(a||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:WR()};s.toastId!==t&&(s.staleId=t);const a=s.render||i;delete s.render,_d(a,s)}},Dt.done=t=>{Dt.update(t,{progress:1})},Dt.onChange=function(t){return i_.add(t),()=>{i_.delete(t)}},Dt.play=t=>qx(!0,t),Dt.pause=t=>qx(!1,t);const a7=typeof window<"u"?W.useLayoutEffect:W.useEffect,lp=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return we.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},ky={info:function(t){return we.createElement(lp,{...t},we.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return we.createElement(lp,{...t},we.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return we.createElement(lp,{...t},we.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return we.createElement(lp,{...t},we.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return we.createElement("div",{className:"Toastify__spinner"})}},l7=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=r7(t),{closeButton:a,children:u,autoClose:c,onClick:h,type:p,hideProgressBar:m,closeToast:y,transition:A,position:R,className:I,style:N,bodyClassName:S,bodyStyle:E,progressClassName:P,progressStyle:j,updateId:K,role:Q,progress:x,rtl:C,toastId:k,deleteToast:L,isIn:U,isLoading:F,closeOnClick:M,theme:pe}=t,Se=Jo("Toastify__toast",`Toastify__toast-theme--${pe}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":M}),Oe=ni(I)?I({rtl:C,position:R,type:p,defaultClassName:Se}):Jo(Se,I),De=function(Ae){let{theme:xe,type:We,isLoading:lt,icon:et}=Ae,Ge=null;const it={theme:xe,type:We};return et===!1||(ni(et)?Ge=et({...it,isLoading:lt}):W.isValidElement(et)?Ge=W.cloneElement(et,it):lt?Ge=ky.spinner():(Pn=>Pn in ky)(We)&&(Ge=ky[We](it))),Ge}(t),ee=!!x||!c,oe={closeToast:y,type:p,theme:pe};let ge=null;return a===!1||(ge=ni(a)?a(oe):W.isValidElement(a)?W.cloneElement(a,oe):function(Ae){let{closeToast:xe,theme:We,ariaLabel:lt="close"}=Ae;return we.createElement("button",{className:`Toastify__close-button Toastify__close-button--${We}`,type:"button",onClick:et=>{et.stopPropagation(),xe(et)},"aria-label":lt},we.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},we.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(oe)),we.createElement(A,{isIn:U,done:L,position:R,preventExitTransition:n,nodeRef:r,playToast:s},we.createElement("div",{id:k,onClick:h,"data-in":U,className:Oe,...i,style:N,ref:r},we.createElement("div",{...U&&{role:Q},className:ni(S)?S({type:p}):Jo("Toastify__toast-body",S),style:E},De!=null&&we.createElement("div",{className:Jo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!F})},De),we.createElement("div",null,u)),ge,we.createElement(i7,{...K&&!ee?{key:`pb-${K}`}:{},rtl:C,theme:pe,delay:c,isRunning:e,isIn:U,closeToast:y,hide:m,type:p,style:j,className:P,controlledProgress:ee,progress:x||0})))},km=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},u7=bm(km("bounce",!0)),c7=bm(km("slide",!0));bm(km("zoom"));bm(km("flip"));const d7={position:"top-right",transition:u7,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function h7(t){let e={...d7,...t};const n=t.stacked,[r,i]=W.useState(!0),s=W.useRef(null),{getToastToRender:a,isToastActive:u,count:c}=n7(e),{className:h,style:p,rtl:m,containerId:y}=e;function A(I){const N=Jo("Toastify__toast-container",`Toastify__toast-container--${I}`,{"Toastify__toast-container--rtl":m});return ni(h)?h({position:I,rtl:m,defaultClassName:N}):Jo(N,Fp(h))}function R(){n&&(i(!0),Dt.play())}return a7(()=>{if(n){var I;const N=s.current.querySelectorAll('[data-in="true"]'),S=12,E=(I=e.position)==null?void 0:I.includes("top");let P=0,j=0;Array.from(N).reverse().forEach((K,Q)=>{const x=K;x.classList.add("Toastify__toast--stacked"),Q>0&&(x.dataset.collapsed=`${r}`),x.dataset.pos||(x.dataset.pos=E?"top":"bot");const C=P*(r?.2:1)+(r?0:S*Q);x.style.setProperty("--y",`${E?C:-1*C}px`),x.style.setProperty("--g",`${S}`),x.style.setProperty("--s",""+(1-(r?j:0))),P+=x.offsetHeight,j+=.025})}},[r,c,n]),we.createElement("div",{ref:s,className:"Toastify",id:y,onMouseEnter:()=>{n&&(i(!1),Dt.pause())},onMouseLeave:R},a((I,N)=>{const S=N.length?{...p}:{...p,pointerEvents:"none"};return we.createElement("div",{className:A(I),style:S,key:`container-${I}`},N.map(E=>{let{content:P,props:j}=E;return we.createElement(l7,{...j,stacked:n,collapseAll:R,isIn:u(j.toastId,j.containerId),style:j.style,key:`toast-${j.key}`},P)}))}))}const f7=W.createContext(null),p7=({children:t})=>_.jsx(f7.Provider,{value:null,children:t}),Hi=({text:t,children:e,className:n,custom:r,disabled:i,...s})=>_.jsx("button",{...s,disabled:i,className:`${n} ${r?n+" bg-rose-700 hover:bg-rose-800":`inline-flex items-center px-4 py-0.5 text-base font-medium text-center rounded-lg ${i?"cursor-not-allowed bg-gray-400":"bg-rose-700 hover:bg-rose-800 hover:border-gray-800 hover:ring-2 hover:outline-none hover:ring-rose-600"}  border-4 border-transparent`}`,children:t||e}),qR=({type:t,...e})=>{if(t=="footer-logo")return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"hidden md:block",children:_.jsxs("svg",{width:228,height:227,viewBox:"0 0 228 227",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[_.jsx("g",{filter:"url(#filter0_di_18_8)",clipPath:"url(#clip0_18_8)",children:_.jsx("path",{d:"M105.451 224.537L.863 2.695 50.18 16.893l71.162 156.177h49.84l25.252-124.232h27.21l-27.21 124.232h-25.252l-10.461 51.467h-55.271z",fill:"url(#paint0_linear_18_8)"})}),_.jsxs("defs",{children:[_.jsxs("filter",{id:"filter0_di_18_8",x:.862793,y:.895068,width:226.582,height:225.642,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[_.jsx("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),_.jsx("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),_.jsx("feOffset",{dx:2}),_.jsx("feGaussianBlur",{stdDeviation:.9}),_.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),_.jsx("feColorMatrix",{values:"0 0 0 0 0.745098 0 0 0 0 0.0705882 0 0 0 0 0.235294 0 0 0 1 0"}),_.jsx("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_18_8"}),_.jsx("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_18_8",result:"shape"}),_.jsx("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),_.jsx("feOffset",{dx:2,dy:2}),_.jsx("feGaussianBlur",{stdDeviation:2}),_.jsx("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),_.jsx("feColorMatrix",{values:"0 0 0 0 0.745098 0 0 0 0 0.0705882 0 0 0 0 0.235294 0 0 0 0.25 0"}),_.jsx("feBlend",{in2:"shape",result:"effect2_innerShadow_18_8"})]}),_.jsxs("linearGradient",{id:"paint0_linear_18_8",x1:61.9042,y1:35.3253,x2:106.494,y2:214.055,gradientUnits:"userSpaceOnUse",children:[_.jsx("stop",{offset:.395413,stopColor:"#fff"}),_.jsx("stop",{offset:.746667,stopColor:"#fff"}),_.jsx("stop",{offset:.768278,stopColor:"#fff"})]}),_.jsx("clipPath",{id:"clip0_18_8",children:_.jsx("path",{fill:"#fff",d:"M0 0H228V227H0z"})})]})]})}),_.jsx("div",{className:"block md:hidden",children:_.jsxs("svg",{width:99,height:106,viewBox:"0 0 99 106",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[_.jsx("g",{filter:"url(#filter0_di_17_2)",children:_.jsx("path",{d:"M44.871 103.561L.863 2.695 21.615 9.15l29.943 71.01h20.971l10.626-56.485h11.449L83.154 80.16H72.53l-4.401 23.401H44.87z",fill:"url(#paint0_linear_17_2)"})}),_.jsxs("defs",{children:[_.jsxs("filter",{id:"filter0_di_17_2",x:.862793,y:.895068,width:97.5412,height:104.665,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[_.jsx("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),_.jsx("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),_.jsx("feOffset",{dx:2}),_.jsx("feGaussianBlur",{stdDeviation:.9}),_.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),_.jsx("feColorMatrix",{values:"0 0 0 0 0.745098 0 0 0 0 0.0705882 0 0 0 0 0.235294 0 0 0 1 0"}),_.jsx("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_17_2"}),_.jsx("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_17_2",result:"shape"}),_.jsx("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),_.jsx("feOffset",{dx:2,dy:2}),_.jsx("feGaussianBlur",{stdDeviation:2}),_.jsx("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),_.jsx("feColorMatrix",{values:"0 0 0 0 0.745098 0 0 0 0 0.0705882 0 0 0 0 0.235294 0 0 0 0.25 0"}),_.jsx("feBlend",{in2:"shape",result:"effect2_innerShadow_17_2"})]}),_.jsxs("linearGradient",{id:"paint0_linear_17_2",x1:26.5475,y1:17.5312,x2:48.2413,y2:98.0045,gradientUnits:"userSpaceOnUse",children:[_.jsx("stop",{offset:.395413,stopColor:"#fff"}),_.jsx("stop",{offset:.746667,stopColor:"#fff"}),_.jsx("stop",{offset:.768278,stopColor:"#fff"})]})]})]})})]});if(t=="navbar-logo")return _.jsx("div",{children:_.jsxs("svg",{width:78,height:53,viewBox:"0 0 27 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[_.jsx("path",{d:"M12.685 32.05L.575.05l5.71 2.048 8.24 22.528h5.771l2.924-17.92h3.15l-3.15 17.92h-2.924l-1.211 7.424h-6.4z",fill:"url(#paint0_linear_17_3)"}),_.jsx("defs",{children:_.jsxs("linearGradient",{id:"paint0_linear_17_3",x1:7.64275,y1:4.7571,x2:15.4043,y2:29.7307,gradientUnits:"userSpaceOnUse",children:[_.jsx("stop",{offset:.395413,stopColor:"#fff"}),_.jsx("stop",{offset:.746667,stopColor:"#fff"}),_.jsx("stop",{offset:.768278,stopColor:"#fff"})]})})]})})},g7=()=>_.jsxs("div",{className:"mt-8 px-3 py-5 md:px-10 md:py-3",children:[_.jsx("hr",{}),_.jsxs("div",{className:"pt-9 pb-5 flex flex- items-stretch gap-4 md:px-5 md:gap-28 md:items-start md:flex-row",children:[_.jsx(qR,{type:"footer-logo"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-normal underline underline-offset-2 decoration-double md:decoration-dotted",children:"Power Up Your Life: The Latest in Laptops, Gadgets, and Software"}),_.jsxs("div",{className:"mt-5 flex flex-col gap-4 md:mt-12",children:[_.jsx(Iu,{to:"/about",children:"About"}),_.jsx(Iu,{to:"/login",children:"Login"}),_.jsx(Iu,{to:"/register",children:"Register"})]})]})]}),_.jsxs("div",{className:"mt-8",children:[_.jsxs("div",{className:"inline-flex items-center justify-center gap-1 w-full",children:[_.jsx("div",{children:_.jsx("span",{className:"text-xs font-bold",children:"Powered By"})}),_.jsx("div",{className:"bg-no-repeat bg-contain bg-center w-24 h-10 rounded-xl",style:{backgroundImage:"url('https://lh6.googleusercontent.com/4YxlDkJwbdpqJk7dW0YggqzmSoOWDm-E4_sGqwa18jVKfIzvv9IxTvtkXv9on3JQMV1JvPpvU5R1u5nYGBKwx-PKq_vPr04ada4GYNVet1rx5BWGdLb2Nca4pvWZwvp72A=w976')"}})]}),_.jsxs("p",{className:"text-center text-xs",children:["© Copyright ",new Date().getFullYear()]})]})]}),m7=t=>{switch(t.status){case 404:return{status:404,shortMessage:"404 Not Found | We can't find that page!",longMessage:"Sorry, the page you're looking for does not exist anymore, or we've moved it somewhere else. Try selecting a link from the navigation at the top of the page. "};default:return{...t,shortMessage:t.statusText||"Error Encountered",longMessage:t.data||"There was a problem with this page. Try refreshing the page, if issue persists, contact administrator."}}},Xd=(t,e="currency",n=2,r=2)=>{let i=new Intl.NumberFormat("en-NG",{style:e,currency:"NGN",minimumFractionDigits:n,maximumFractionDigits:r}).format(t);return isNaN(t)?"0":i},ro={product_data:t=>["product_data",t||"all"],cart_data:(t,e)=>["cart_data",t||"no_user",e||"all"],order_data:(t,e)=>["order_data",t||"no_user",e||"all"],amazon_media:t=>["image_gallery_from_amazon",t]},v7=[{name:"Super Laptop 3000",description:"A high-performance laptop with the latest features.",category:"laptop",sku:"LAP12345",price:1500,salePrice:1299.99,available:!0,stock:25,variants:[{color:"Black",size:"15 inch",material:"Aluminum",additionalPrice:0,stock:10},{color:"Silver",size:"13 inch",material:"Aluminum",additionalPrice:-50,stock:15}],weight:1.5,dimensions:{length:35,width:25,height:2,unit:"cm"}},{name:"Smartphone Pro X",description:"A flagship smartphone with cutting-edge technology.",category:"mobile",sku:"MOB67890",price:999.99,salePrice:899.99,available:!0,stock:100,variants:[{color:"Blue",size:"6.5 inch",stock:50},{color:"Black",size:"6.5 inch",stock:50}],weight:.2,dimensions:{length:16,width:7,height:.8,unit:"cm"}},{name:"Wireless Earbuds",description:"Compact and powerful wireless earbuds.",category:"gadgets",sku:"GAD54321",price:199.99,available:!0,stock:200,variants:[{color:"White",stock:100},{color:"Black",stock:100}],weight:.05,dimensions:{length:2,width:2,height:3,unit:"cm"}},{name:"Gaming Laptop XT",description:"A laptop designed for gaming with high-end specifications.",category:"laptop",sku:"LAP09876",price:2e3,available:!1,stock:0,variants:[{color:"Red",size:"17 inch",material:"Carbon Fiber",additionalPrice:200,stock:0}],weight:2.5,dimensions:{length:40,width:28,height:3,unit:"cm"}},{name:"Fitness Tracker",description:"A sleek fitness tracker with multiple health monitoring features.",category:"gadgets",sku:"GAD65432",price:149.99,available:!0,stock:500,variants:[{color:"Black",size:"Standard",stock:300},{color:"Pink",size:"Standard",stock:200}],weight:.1,dimensions:{length:22,width:2,height:.5,unit:"cm"}}],y7=t=>new RegExp("^(?:[a-z]+:)?//","i").test(t),HR=/^[0-9]*$/,s_=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).+$/,Dg=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,_7="no-quicks"+Math.random()*299*Math.random()+" countries randon",w7=[{key:"abia",value:"Abia"},{key:"adamawa",value:"Adamawa"},{key:"akwa_ibom",value:"Akwa Ibom"},{key:"anambra",value:"Anambra"},{key:"bauchi",value:"Bauchi"},{key:"bayelsa",value:"Bayelsa"},{key:"benue",value:"Benue"},{key:"borno",value:"Borno"},{key:"cross_river",value:"Cross River"},{key:"delta",value:"Delta"},{key:"ebonyi",value:"Ebonyi"},{key:"edo",value:"Edo"},{key:"ekiti",value:"Ekiti"},{key:"enugu",value:"Enugu"},{key:"gombe",value:"Gombe"},{key:"imo",value:"Imo"},{key:"jigawa",value:"Jigawa"},{key:"kaduna",value:"Kaduna"},{key:"kano",value:"Kano"},{key:"katsina",value:"Katsina"},{key:"kebbi",value:"Kebbi"},{key:"kogi",value:"Kogi"},{key:"kwara",value:"Kwara"},{key:"lagos",value:"Lagos"},{key:"nasarawa",value:"Nasarawa"},{key:"niger",value:"Niger"},{key:"ogun",value:"Ogun"},{key:"ondo",value:"Ondo"},{key:"osun",value:"Osun"},{key:"oyo",value:"Oyo"},{key:"plateau",value:"Plateau"},{key:"rivers",value:"Rivers"},{key:"sokoto",value:"Sokoto"},{key:"taraba",value:"Taraba"},{key:"yobe",value:"Yobe"},{key:"zamfara",value:"Zamfara"},{key:"fct",value:"Federal Capital Territory"}],zw=(t,e="sign-in")=>{switch(!0){case t.code=="auth/invalid-email":return"Email is an invalid format. Please try another.";case t.code=="auth/user-disabled":return"Your account has been disabled and unable login.";case(t=="Problem sign in"||t.code=="auth/user-not-found"):return e=="sign-in"?"User does not exists in our records. Please crosscheck your credentials.":"No registered user with this email.";case(t.code=="auth/wrong-password"||t.code=="auth/invalid-credential"):return"The provided credentials are incorrect, Retry with a correct credential or reset your password.";case t.code=="auth/email-already-in-use":return"The email address is already in use. Please try another.";case(t=="auth/operation-not-allowed"||t.code=="auth/operation-not-allowed"):return"Failed to sign in due to restriction. Pleast try again later or contact administrator.";case t.code=="auth/weak-password":return"Password is too weak to complete sign up. Try again with a stronger password.";default:return"Failed to complete operation. Pleast try again later, if issue persist, please contact administrator."}};var o_={},Hx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},E7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},GR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,p=s>>2,m=(s&3)<<4|u>>4;let y=(u&15)<<2|h>>6,A=h&63;c||(A=64,a||(y=64)),r.push(n[p],n[m],n[y],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):E7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||m==null)throw new S7;const y=s<<2|u>>4;if(r.push(y),h!==64){const A=u<<4&240|h>>2;if(r.push(A),m!==64){const R=h<<6&192|m;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class S7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T7=function(t){const e=KR(t);return GR.encodeByteArray(e,!0)},Lg=function(t){return T7(t).replace(/\./g,"")},QR=function(t){try{return GR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof o_<"u")return o_;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=()=>x7().__FIREBASE_DEFAULTS__,C7=()=>{if(typeof process>"u"||typeof Hx>"u")return;const t=Hx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},A7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QR(t[1]);return e&&JSON.parse(e)},Nm=()=>{try{return I7()||C7()||A7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},YR=t=>{var e,n;return(n=(e=Nm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},P7=t=>{const e=YR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},XR=()=>{var t;return(t=Nm())===null||t===void 0?void 0:t.config},JR=t=>{var e;return(e=Nm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lg(JSON.stringify(n)),Lg(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(er())}function N7(){var t;const e=(t=Nm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(o_.process)==="[object process]"}catch{return!1}}function O7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function D7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function L7(){const t=er();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function M7(){return!N7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F7(){try{return typeof indexedDB=="object"}catch{return!1}}function V7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7="FirebaseError";class xo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=U7,Object.setPrototypeOf(this,xo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sh.prototype.create)}}class Sh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?j7(s,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new xo(i,u,r)}}function j7(t,e){return t.replace(B7,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const B7=/\{\$([^}]+)}/g;function $7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Kx(s)&&Kx(a)){if(!Mg(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Kx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function td(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function nd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function z7(t,e){const n=new W7(t,e);return n.subscribe.bind(n)}class W7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");q7(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ny),i.error===void 0&&(i.error=Ny),i.complete===void 0&&(i.complete=Ny);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ny(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){return t&&t._delegate?t._delegate:t}class cl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new R7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G7(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K7(t){return t===qa?void 0:t}function G7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new H7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mt||(mt={}));const Y7={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},X7=mt.INFO,J7={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},Z7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=J7[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ww{constructor(e){this.name=e,this._logLevel=X7,this._logHandler=Z7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const eB=(t,e)=>e.some(n=>t instanceof n);let Gx,Qx;function tB(){return Gx||(Gx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nB(){return Qx||(Qx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZR=new WeakMap,a_=new WeakMap,eb=new WeakMap,Oy=new WeakMap,qw=new WeakMap;function rB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(ua(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&ZR.set(n,t)}).catch(()=>{}),qw.set(e,t),e}function iB(t){if(a_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});a_.set(t,e)}let l_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return a_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ua(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sB(t){l_=t(l_)}function oB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dy(this),e,...n);return eb.set(r,e.sort?e.sort():[e]),ua(r)}:nB().includes(t)?function(...e){return t.apply(Dy(this),e),ua(ZR.get(this))}:function(...e){return ua(t.apply(Dy(this),e))}}function aB(t){return typeof t=="function"?oB(t):(t instanceof IDBTransaction&&iB(t),eB(t,tB())?new Proxy(t,l_):t)}function ua(t){if(t instanceof IDBRequest)return rB(t);if(Oy.has(t))return Oy.get(t);const e=aB(t);return e!==t&&(Oy.set(t,e),qw.set(e,t)),e}const Dy=t=>qw.get(t);function lB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),u=ua(a);return r&&a.addEventListener("upgradeneeded",c=>{r(ua(a.result),c.oldVersion,c.newVersion,ua(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const uB=["get","getKey","getAll","getAllKeys","count"],cB=["put","add","delete","clear"],Ly=new Map;function Yx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ly.get(e))return Ly.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uB.includes(n)))return;const s=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&c.done]))[0]};return Ly.set(e,s),s}sB(t=>({...t,get:(e,n,r)=>Yx(e,n)||t.get(e,n,r),has:(e,n)=>!!Yx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const u_="@firebase/app",Xx="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=new Ww("@firebase/app"),fB="@firebase/app-compat",pB="@firebase/analytics-compat",gB="@firebase/analytics",mB="@firebase/app-check-compat",vB="@firebase/app-check",yB="@firebase/auth",_B="@firebase/auth-compat",wB="@firebase/database",EB="@firebase/database-compat",SB="@firebase/functions",TB="@firebase/functions-compat",xB="@firebase/installations",IB="@firebase/installations-compat",CB="@firebase/messaging",AB="@firebase/messaging-compat",PB="@firebase/performance",RB="@firebase/performance-compat",bB="@firebase/remote-config",kB="@firebase/remote-config-compat",NB="@firebase/storage",OB="@firebase/storage-compat",DB="@firebase/firestore",LB="@firebase/vertexai-preview",MB="@firebase/firestore-compat",FB="firebase",VB="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="[DEFAULT]",UB={[u_]:"fire-core",[fB]:"fire-core-compat",[gB]:"fire-analytics",[pB]:"fire-analytics-compat",[vB]:"fire-app-check",[mB]:"fire-app-check-compat",[yB]:"fire-auth",[_B]:"fire-auth-compat",[wB]:"fire-rtdb",[EB]:"fire-rtdb-compat",[SB]:"fire-fn",[TB]:"fire-fn-compat",[xB]:"fire-iid",[IB]:"fire-iid-compat",[CB]:"fire-fcm",[AB]:"fire-fcm-compat",[PB]:"fire-perf",[RB]:"fire-perf-compat",[bB]:"fire-rc",[kB]:"fire-rc-compat",[NB]:"fire-gcs",[OB]:"fire-gcs-compat",[DB]:"fire-fst",[MB]:"fire-fst-compat",[LB]:"fire-vertex","fire-js":"fire-js",[FB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=new Map,jB=new Map,d_=new Map;function Jx(t,e){try{t.container.addComponent(e)}catch(n){dl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Uu(t){const e=t.name;if(d_.has(e))return dl.debug(`There were multiple attempts to register component ${e}.`),!1;d_.set(e,t);for(const n of Fg.values())Jx(n,t);for(const n of jB.values())Jx(n,t);return!0}function Hw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ss(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new Sh("app","Firebase",BB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=VB;function tb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:c_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ca.create("bad-app-name",{appName:String(i)});if(n||(n=XR()),!n)throw ca.create("no-options");const s=Fg.get(i);if(s){if(Mg(n,s.options)&&Mg(r,s.config))return s;throw ca.create("duplicate-app",{appName:i})}const a=new Q7(i);for(const c of d_.values())a.addComponent(c);const u=new $B(n,r,a);return Fg.set(i,u),u}function nb(t=c_){const e=Fg.get(t);if(!e&&t===c_&&XR())return tb();if(!e)throw ca.create("no-app",{appName:t});return e}function da(t,e,n){var r;let i=(r=UB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dl.warn(u.join(" "));return}Uu(new cl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB="firebase-heartbeat-database",WB=1,Jd="firebase-heartbeat-store";let My=null;function rb(){return My||(My=lB(zB,WB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jd)}catch(n){console.warn(n)}}}}).catch(t=>{throw ca.create("idb-open",{originalErrorMessage:t.message})})),My}async function qB(t){try{const n=(await rb()).transaction(Jd),r=await n.objectStore(Jd).get(ib(t));return await n.done,r}catch(e){if(e instanceof xo)dl.warn(e.message);else{const n=ca.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dl.warn(n.message)}}}async function Zx(t,e){try{const r=(await rb()).transaction(Jd,"readwrite");await r.objectStore(Jd).put(e,ib(t)),await r.done}catch(n){if(n instanceof xo)dl.warn(n.message);else{const r=ca.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});dl.warn(r.message)}}}function ib(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=1024,KB=30*24*60*60*1e3;class GB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=eI();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=KB}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=eI(),{heartbeatsToSend:r,unsentEntries:i}=QB(this._heartbeatsCache.heartbeats),s=Lg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function eI(){return new Date().toISOString().substring(0,10)}function QB(t,e=HB){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),tI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class YB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F7()?V7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function tI(t){return Lg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(t){Uu(new cl("platform-logger",e=>new dB(e),"PRIVATE")),Uu(new cl("heartbeat",e=>new GB(e),"PRIVATE")),da(u_,Xx,t),da(u_,Xx,"esm2017"),da("fire-js","")}XB("");var JB="firebase",ZB="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */da(JB,ZB,"app");function sb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const e8=sb,ob=new Sh("auth","Firebase",sb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=new Ww("@firebase/auth");function t8(t,...e){Vg.logLevel<=mt.WARN&&Vg.warn(`Auth (${tc}): ${t}`,...e)}function Vp(t,...e){Vg.logLevel<=mt.ERROR&&Vg.error(`Auth (${tc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,...e){throw Kw(t,...e)}function Cs(t,...e){return Kw(t,...e)}function ab(t,e,n){const r=Object.assign(Object.assign({},e8()),{[e]:n});return new Sh("auth","Firebase",r).create(e,{appName:t.name})}function ho(t){return ab(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ob.create(t,...e)}function He(t,e,...n){if(!t)throw Kw(e,...n)}function io(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vp(e),new Error(e)}function yo(t,e){t||io(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function n8(){return nI()==="http:"||nI()==="https:"}function nI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(n8()||O7()||"connection"in navigator)?navigator.onLine:!0}function i8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.shortDelay=e,this.longDelay=n,yo(n>e,"Short delay should be less than long delay!"),this.isMobile=k7()||D7()}get(){return r8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t,e){yo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;io("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;io("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;io("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=new xh(3e4,6e4);function Io(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Os(t,e,n,r,i={}){return ub(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const u=Th(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),lb.fetch()(cb(t,t.config.apiHost,n,u),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function ub(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},s8),e);try{const i=new l8(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw up(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const u=s.ok?a.errorMessage:a.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw up(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw up(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw up(t,"user-disabled",a);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw ab(t,p,h);Ji(t,p)}}catch(i){if(i instanceof xo)throw i;Ji(t,"network-request-failed",{message:String(i)})}}async function Ih(t,e,n,r,i={}){const s=await Os(t,e,n,r,i);return"mfaPendingCredential"in s&&Ji(t,"multi-factor-auth-required",{_serverResponse:s}),s}function cb(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Gw(t.config,i):`${t.config.apiScheme}://${i}`}function a8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class l8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cs(this.auth,"network-request-failed")),o8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function up(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cs(t,e,r);return i.customData._tokenResponse=n,i}function rI(t){return t!==void 0&&t.enterprise!==void 0}class u8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return a8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function c8(t,e){return Os(t,"GET","/v2/recaptchaConfig",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d8(t,e){return Os(t,"POST","/v1/accounts:delete",e)}async function db(t,e){return Os(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function h8(t,e=!1){const n=_n(t),r=await n.getIdToken(e),i=Qw(r);He(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:wd(Fy(i.auth_time)),issuedAtTime:wd(Fy(i.iat)),expirationTime:wd(Fy(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Fy(t){return Number(t)*1e3}function Qw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vp("JWT malformed, contained fewer than 3 sections"),null;try{const i=QR(n);return i?JSON.parse(i):(Vp("Failed to decode base64 JWT payload"),null)}catch(i){return Vp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function iI(t){const e=Qw(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xo&&f8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function f8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wd(this.lastLoginAt),this.creationTime=wd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ju(t,db(n,{idToken:r}));He(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?hb(s.providerUserInfo):[],u=m8(t.providerData,a),c=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),p=c?h:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new f_(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function g8(t){const e=_n(t);await Zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function m8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hb(t){return t.map(e=>{var{providerId:n}=e,r=F_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v8(t,e){const n=await ub(t,{},async()=>{const r=Th({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=cb(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",lb.fetch()(a,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function y8(t,e){return Os(t,"POST","/v2/accounts:revokeToken",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=iI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await v8(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Cu;return r&&(He(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(He(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(He(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cu,this.toJSON())}_performRefresh(){return io("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class so{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=F_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new p8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new f_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ju(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return h8(this,e)}reload(){return g8(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new so(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ss(this.auth.app))return Promise.reject(ho(this.auth));const e=await this.getIdToken();return await ju(this,d8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,u,c,h,p;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,A=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,R=(a=n.photoURL)!==null&&a!==void 0?a:void 0,I=(u=n.tenantId)!==null&&u!==void 0?u:void 0,N=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,S=(h=n.createdAt)!==null&&h!==void 0?h:void 0,E=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:P,emailVerified:j,isAnonymous:K,providerData:Q,stsTokenManager:x}=n;He(P&&x,e,"internal-error");const C=Cu.fromJSON(this.name,x);He(typeof P=="string",e,"internal-error"),Uo(m,e.name),Uo(y,e.name),He(typeof j=="boolean",e,"internal-error"),He(typeof K=="boolean",e,"internal-error"),Uo(A,e.name),Uo(R,e.name),Uo(I,e.name),Uo(N,e.name),Uo(S,e.name),Uo(E,e.name);const k=new so({uid:P,auth:e,email:y,emailVerified:j,displayName:m,isAnonymous:K,photoURL:R,phoneNumber:A,tenantId:I,stsTokenManager:C,createdAt:S,lastLoginAt:E});return Q&&Array.isArray(Q)&&(k.providerData=Q.map(L=>Object.assign({},L))),N&&(k._redirectEventId=N),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new Cu;i.updateFromServerResponse(n);const s=new so({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Zd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];He(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?hb(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Cu;u.updateFromIdToken(r);const c=new so({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new f_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new Map;function oo(t){yo(t instanceof Function,"Expected a class definition");let e=sI.get(t);return e?(yo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fb.type="NONE";const oI=fb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(t,e,n){return`firebase:${t}:${e}:${n}`}class Au{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Up(this.userKey,i.apiKey,s),this.fullPersistenceKey=Up("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?so._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Au(oo(oI),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||oo(oI);const a=Up(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const p=await h._get(a);if(p){const m=so._fromJSON(e,p);h!==s&&(u=m),s=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Au(s,e,r):(s=c[0],u&&await s._set(a,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new Au(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yb(e))return"Blackberry";if(_b(e))return"Webos";if(Yw(e))return"Safari";if((e.includes("chrome/")||gb(e))&&!e.includes("edge/"))return"Chrome";if(vb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function pb(t=er()){return/firefox\//i.test(t)}function Yw(t=er()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gb(t=er()){return/crios\//i.test(t)}function mb(t=er()){return/iemobile/i.test(t)}function vb(t=er()){return/android/i.test(t)}function yb(t=er()){return/blackberry/i.test(t)}function _b(t=er()){return/webos/i.test(t)}function Om(t=er()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _8(t=er()){var e;return Om(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function w8(){return L7()&&document.documentMode===10}function wb(t=er()){return Om(t)||vb(t)||_b(t)||yb(t)||/windows phone/i.test(t)||mb(t)}function E8(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t,e=[]){let n;switch(t){case"Browser":n=aI(er());break;case"Worker":n=`${aI(er())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,u)=>{try{const c=e(s);a(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T8(t,e={}){return Os(t,"GET","/v2/passwordPolicy",Io(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=6;class I8{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:x8,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lI(this),this.idTokenSubscription=new lI(this),this.beforeStateQueue=new S8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ob,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=oo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Au.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await db(this,{idToken:e}),r=await so._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ss(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=i8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ss(this.app))return Promise.reject(ho(this));const n=e?_n(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ss(this.app)?Promise.reject(ho(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ss(this.app)?Promise.reject(ho(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await T8(this),n=new I8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await y8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&oo(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await Au.create(this,[oo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(u,this,"internal-error"),u.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Eb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&t8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function xa(t){return _n(t)}class lI{constructor(e){this.auth=e,this.observer=null,this.addObserver=z7(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function A8(t){Dm=t}function Sb(t){return Dm.loadJS(t)}function P8(){return Dm.recaptchaEnterpriseScript}function R8(){return Dm.gapiScript}function b8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const k8="recaptcha-enterprise",N8="NO_RECAPTCHA";class O8{constructor(e){this.type=k8,this.auth=xa(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,u)=>{c8(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new u8(c);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,a(h.siteKey)}}).catch(c=>{u(c)})})}function i(s,a,u){const c=window.grecaptcha;rI(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(h=>{a(h)}).catch(()=>{a(N8)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(u=>{if(!n&&rI(window.grecaptcha))i(u,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=P8();c.length!==0&&(c+=u),Sb(c).then(()=>{i(u,s,a)}).catch(h=>{a(h)})}}).catch(u=>{a(u)})})}}async function uI(t,e,n,r=!1){const i=new O8(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function p_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await uI(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await uI(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(t,e){const n=Hw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Mg(s,e??{}))return i;Ji(i,"already-initialized")}return n.initialize({options:e})}function L8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(oo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function M8(t,e,n){const r=xa(t);He(r._canInitEmulator,r,"emulator-config-failed"),He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Tb(e),{host:a,port:u}=F8(e),c=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),V8()}function Tb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function F8(t){const e=Tb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:cI(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:cI(a)}}}function cI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function V8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return io("not implemented")}_getIdTokenResponse(e){return io("not implemented")}_linkToIdToken(e,n){return io("not implemented")}_getReauthenticationResolver(e){return io("not implemented")}}async function U8(t,e){return Os(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j8(t,e){return Ih(t,"POST","/v1/accounts:signInWithPassword",Io(t,e))}async function xb(t,e){return Os(t,"POST","/v1/accounts:sendOobCode",Io(t,e))}async function B8(t,e){return xb(t,e)}async function $8(t,e){return xb(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(t,e){return Ih(t,"POST","/v1/accounts:signInWithEmailLink",Io(t,e))}async function W8(t,e){return Ih(t,"POST","/v1/accounts:signInWithEmailLink",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends Xw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new eh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new eh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return p_(e,n,"signInWithPassword",j8);case"emailLink":return z8(e,{email:this._email,oobCode:this._password});default:Ji(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return p_(e,r,"signUpPassword",U8);case"emailLink":return W8(e,{idToken:n,email:this._email,oobCode:this._password});default:Ji(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t,e){return Ih(t,"POST","/v1/accounts:signInWithIdp",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8="http://localhost";class hl extends Xw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=F_(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new hl(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Pu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pu(e,n)}buildRequest(){const e={requestUri:q8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Th(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function K8(t){const e=td(nd(t)).link,n=e?td(nd(e)).deep_link_id:null,r=td(nd(t)).deep_link_id;return(r?td(nd(r)).link:null)||r||n||e||t}class Jw{constructor(e){var n,r,i,s,a,u;const c=td(nd(e)),h=(n=c.apiKey)!==null&&n!==void 0?n:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,m=H8((i=c.mode)!==null&&i!==void 0?i:null);He(h&&p&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=p,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=K8(e);try{return new Jw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.providerId=El.PROVIDER_ID}static credential(e,n){return eh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Jw.parseLink(n);return He(r,"argument-error"),eh._fromEmailAndCode(e,r.code,r.tenantId)}}El.PROVIDER_ID="password";El.EMAIL_PASSWORD_SIGN_IN_METHOD="password";El.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends Ib{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends Ch{constructor(){super("facebook.com")}static credential(e){return hl._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ho.credential(e.oauthAccessToken)}catch{return null}}}Ho.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ho.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends Ch{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hl._fromParams({providerId:Ko.PROVIDER_ID,signInMethod:Ko.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ko.credentialFromTaggedObject(e)}static credentialFromError(e){return Ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ko.credential(n,r)}catch{return null}}}Ko.GOOGLE_SIGN_IN_METHOD="google.com";Ko.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Ch{constructor(){super("github.com")}static credential(e){return hl._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Go.credential(e.oauthAccessToken)}catch{return null}}}Go.GITHUB_SIGN_IN_METHOD="github.com";Go.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends Ch{constructor(){super("twitter.com")}static credential(e,n){return hl._fromParams({providerId:Qo.PROVIDER_ID,signInMethod:Qo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qo.credentialFromTaggedObject(e)}static credentialFromError(e){return Qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qo.credential(n,r)}catch{return null}}}Qo.TWITTER_SIGN_IN_METHOD="twitter.com";Qo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G8(t,e){return Ih(t,"POST","/v1/accounts:signUp",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await so._fromIdTokenResponse(e,r,i),a=dI(r);return new ma({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=dI(r);return new ma({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function dI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q8(t){var e;if(Ss(t.app))return Promise.reject(ho(t));const n=xa(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ma({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await G8(n,{returnSecureToken:!0}),i=await ma._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends xo{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ug.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ug(e,n,r,i)}}function Cb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ug._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}async function Ab(t,e,n=!1){const r=await ju(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ma._forOperation(t,"link",r)}async function X8(t,e,n){await Zd(e);const r=Y8(e.providerData);He(r.has(n)===t,e.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J8(t,e,n=!1){const{auth:r}=t;if(Ss(r.app))return Promise.reject(ho(r));const i="reauthenticate";try{const s=await ju(t,Cb(r,i,e,t),n);He(s.idToken,r,"internal-error");const a=Qw(s.idToken);He(a,r,"internal-error");const{sub:u}=a;return He(t.uid===u,r,"user-mismatch"),ma._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ji(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pb(t,e,n=!1){if(Ss(t.app))return Promise.reject(ho(t));const r="signIn",i=await Cb(t,r,e),s=await ma._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Z8(t,e){return Pb(xa(t),e)}async function e$(t,e){const n=_n(t);return await X8(!1,n,e.providerId),Ab(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t$(t){const e=xa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function n$(t,e,n){const r=xa(t);await p_(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",$8)}function r$(t,e,n){return Ss(t.app)?Promise.reject(ho(t)):Z8(_n(t),El.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&t$(t),r})}async function i$(t,e){const n=_n(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:s}=await B8(n.auth,i);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s$(t,e){return Os(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o$(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=_n(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await ju(r,s$(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const u=r.providerData.find(({providerId:c})=>c==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function a$(t,e,n,r){return _n(t).onIdTokenChanged(e,n,r)}function l$(t,e,n){return _n(t).beforeAuthStateChanged(e,n)}function hI(t,e,n,r){return _n(t).onAuthStateChanged(e,n,r)}function u$(t){return _n(t).signOut()}const jg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jg,"1"),this.storage.removeItem(jg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c$(){const t=er();return Yw(t)||Om(t)}const d$=1e3,h$=10;class bb extends Rb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=c$()&&E8(),this.fallbackToPolling=wb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);w8()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,h$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},d$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bb.type="LOCAL";const f$=bb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb extends Rb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kb.type="SESSION";const Nb=kb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Lm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async h=>h(n.origin,s)),c=await p$(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const h=Zw("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(y.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(){return window}function m$(t){As().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(){return typeof As().WorkerGlobalScope<"u"&&typeof As().importScripts=="function"}async function v$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function y$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _$(){return Ob()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="firebaseLocalStorageDb",w$=1,Bg="firebaseLocalStorage",Lb="fbase_key";class Ah{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mm(t,e){return t.transaction([Bg],e?"readwrite":"readonly").objectStore(Bg)}function E$(){const t=indexedDB.deleteDatabase(Db);return new Ah(t).toPromise()}function g_(){const t=indexedDB.open(Db,w$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bg,{keyPath:Lb})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bg)?e(r):(r.close(),await E$(),e(await g_()))})})}async function fI(t,e,n){const r=Mm(t,!0).put({[Lb]:e,value:n});return new Ah(r).toPromise()}async function S$(t,e){const n=Mm(t,!1).get(e),r=await new Ah(n).toPromise();return r===void 0?null:r.value}function pI(t,e){const n=Mm(t,!0).delete(e);return new Ah(n).toPromise()}const T$=800,x$=3;class Mb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await g_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>x$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ob()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lm._getInstance(_$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await v$(),!this.activeServiceWorker)return;this.sender=new g$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||y$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await g_();return await fI(e,jg,"1"),await pI(e,jg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>S$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Mm(i,!1).getAll();return new Ah(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mb.type="LOCAL";const I$=Mb;new xh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(t,e){return e?oo(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE extends Xw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function A$(t){return Pb(t.auth,new eE(t),t.bypassAuthState)}function P$(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),J8(n,new eE(t),t.bypassAuthState)}async function R$(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),Ab(n,new eE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return A$;case"linkViaPopup":case"linkViaRedirect":return R$;case"reauthViaPopup":case"reauthViaRedirect":return P$;default:Ji(this.auth,"internal-error")}}resolve(e){yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$=new xh(2e3,1e4);class vu extends Fb{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,vu.currentPopupAction&&vu.currentPopupAction.cancel(),vu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){yo(this.filter.length===1,"Popup operations only handle one event");const e=Zw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,b$.get())};e()}}vu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$="pendingRedirect",jp=new Map;class N$ extends Fb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jp.get(this.auth._key());if(!e){try{const r=await O$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jp.set(this.auth._key(),e)}return this.bypassAuthState||jp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function O$(t,e){const n=M$(e),r=L$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function D$(t,e){jp.set(t._key(),e)}function L$(t){return oo(t._redirectPersistence)}function M$(t){return Up(k$,t.config.apiKey,t.name)}async function F$(t,e,n=!1){if(Ss(t.app))return Promise.reject(ho(t));const r=xa(t),i=C$(r,e),a=await new N$(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=10*60*1e3;class U${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Vb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=V$&&this.cachedEventUids.clear(),this.cachedEventUids.has(gI(e))}saveEventToCache(e){this.cachedEventUids.add(gI(e)),this.lastProcessedEventTime=Date.now()}}function gI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Vb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function j$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B$(t,e={}){return Os(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z$=/^https?/;async function W$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await B$(t);for(const n of e)try{if(q$(n))return}catch{}Ji(t,"unauthorized-domain")}function q$(t){const e=h_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!z$.test(n))return!1;if($$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$=new xh(3e4,6e4);function mI(){const t=As().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function K$(t){return new Promise((e,n)=>{var r,i,s;function a(){mI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mI(),n(Cs(t,"network-request-failed"))},timeout:H$.get()})}if(!((i=(r=As().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=As().gapi)===null||s===void 0)&&s.load)a();else{const u=b8("iframefcb");return As()[u]=()=>{gapi.load?a():n(Cs(t,"network-request-failed"))},Sb(`${R8()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Bp=null,e})}let Bp=null;function G$(t){return Bp=Bp||K$(t),Bp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$=new xh(5e3,15e3),Y$="__/auth/iframe",X$="emulator/auth/iframe",J$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ez(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gw(e,X$):`https://${t.config.authDomain}/${Y$}`,r={apiKey:e.apiKey,appName:t.name,v:tc},i=Z$.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Th(r).slice(1)}`}async function tz(t){const e=await G$(t),n=As().gapi;return He(n,t,"internal-error"),e.open({where:document.body,url:ez(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Cs(t,"network-request-failed"),u=As().setTimeout(()=>{s(a)},Q$.get());function c(){As().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rz=500,iz=600,sz="_blank",oz="http://localhost";class vI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function az(t,e,n,r=rz,i=iz){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},nz),{width:r.toString(),height:i.toString(),top:s,left:a}),h=er().toLowerCase();n&&(u=gb(h)?sz:n),pb(h)&&(e=e||oz,c.scrollbars="yes");const p=Object.entries(c).reduce((y,[A,R])=>`${y}${A}=${R},`,"");if(_8(h)&&u!=="_self")return lz(e||"",u),new vI(null);const m=window.open(e||"",u,p);He(m,t,"popup-blocked");try{m.focus()}catch{}return new vI(m)}function lz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz="__/auth/handler",cz="emulator/auth/handler",dz=encodeURIComponent("fac");async function yI(t,e,n,r,i,s){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:tc,eventId:i};if(e instanceof Ib){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",$7(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))a[p]=m}if(e instanceof Ch){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await t._getAppCheckToken(),h=c?`#${dz}=${encodeURIComponent(c)}`:"";return`${hz(t)}?${Th(u).slice(1)}${h}`}function hz({config:t}){return t.emulator?Gw(t,cz):`https://${t.authDomain}/${uz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="webStorageSupport";class fz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nb,this._completeRedirectFn=F$,this._overrideRedirectResult=D$}async _openPopup(e,n,r,i){var s;yo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await yI(e,n,r,h_(),i);return az(e,a,Zw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await yI(e,n,r,h_(),i);return m$(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(yo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await tz(e),r=new U$(e);return n.register("authEvent",i=>(He(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vy,{type:Vy},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Vy];a!==void 0&&n(!!a),Ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=W$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wb()||Yw()||Om()}}const pz=fz;var _I="@firebase/auth",wI="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vz(t){Uu(new cl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;He(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Eb(t)},h=new C8(r,i,s,c);return L8(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Uu(new cl("auth-internal",e=>{const n=xa(e.getProvider("auth").getImmediate());return(r=>new gz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),da(_I,wI,mz(t)),da(_I,wI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=5*60,_z=JR("authIdTokenMaxAge")||yz;let EI=null;const wz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_z)return;const i=n==null?void 0:n.token;EI!==i&&(EI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ez(t=nb()){const e=Hw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=D8(t,{popupRedirectResolver:pz,persistence:[I$,f$,Nb]}),r=JR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=wz(s.toString());l$(n,a,()=>a(n.currentUser)),a$(n,u=>a(u))}}const i=YR("auth");return i&&M8(n,`http://${i}`),n}function Sz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}A8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Cs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Sz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vz("Browser");var SI={},TI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof SI<"u"?SI:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rl,Ub;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,C){function k(){}k.prototype=C.prototype,x.D=C.prototype,x.prototype=new k,x.prototype.constructor=x,x.C=function(L,U,F){for(var M=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)M[pe-2]=arguments[pe];return C.prototype[U].apply(L,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,C,k){k||(k=0);var L=Array(16);if(typeof C=="string")for(var U=0;16>U;++U)L[U]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(U=0;16>U;++U)L[U]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=x.g[0],k=x.g[1],U=x.g[2];var F=x.g[3],M=C+(F^k&(U^F))+L[0]+3614090360&4294967295;C=k+(M<<7&4294967295|M>>>25),M=F+(U^C&(k^U))+L[1]+3905402710&4294967295,F=C+(M<<12&4294967295|M>>>20),M=U+(k^F&(C^k))+L[2]+606105819&4294967295,U=F+(M<<17&4294967295|M>>>15),M=k+(C^U&(F^C))+L[3]+3250441966&4294967295,k=U+(M<<22&4294967295|M>>>10),M=C+(F^k&(U^F))+L[4]+4118548399&4294967295,C=k+(M<<7&4294967295|M>>>25),M=F+(U^C&(k^U))+L[5]+1200080426&4294967295,F=C+(M<<12&4294967295|M>>>20),M=U+(k^F&(C^k))+L[6]+2821735955&4294967295,U=F+(M<<17&4294967295|M>>>15),M=k+(C^U&(F^C))+L[7]+4249261313&4294967295,k=U+(M<<22&4294967295|M>>>10),M=C+(F^k&(U^F))+L[8]+1770035416&4294967295,C=k+(M<<7&4294967295|M>>>25),M=F+(U^C&(k^U))+L[9]+2336552879&4294967295,F=C+(M<<12&4294967295|M>>>20),M=U+(k^F&(C^k))+L[10]+4294925233&4294967295,U=F+(M<<17&4294967295|M>>>15),M=k+(C^U&(F^C))+L[11]+2304563134&4294967295,k=U+(M<<22&4294967295|M>>>10),M=C+(F^k&(U^F))+L[12]+1804603682&4294967295,C=k+(M<<7&4294967295|M>>>25),M=F+(U^C&(k^U))+L[13]+4254626195&4294967295,F=C+(M<<12&4294967295|M>>>20),M=U+(k^F&(C^k))+L[14]+2792965006&4294967295,U=F+(M<<17&4294967295|M>>>15),M=k+(C^U&(F^C))+L[15]+1236535329&4294967295,k=U+(M<<22&4294967295|M>>>10),M=C+(U^F&(k^U))+L[1]+4129170786&4294967295,C=k+(M<<5&4294967295|M>>>27),M=F+(k^U&(C^k))+L[6]+3225465664&4294967295,F=C+(M<<9&4294967295|M>>>23),M=U+(C^k&(F^C))+L[11]+643717713&4294967295,U=F+(M<<14&4294967295|M>>>18),M=k+(F^C&(U^F))+L[0]+3921069994&4294967295,k=U+(M<<20&4294967295|M>>>12),M=C+(U^F&(k^U))+L[5]+3593408605&4294967295,C=k+(M<<5&4294967295|M>>>27),M=F+(k^U&(C^k))+L[10]+38016083&4294967295,F=C+(M<<9&4294967295|M>>>23),M=U+(C^k&(F^C))+L[15]+3634488961&4294967295,U=F+(M<<14&4294967295|M>>>18),M=k+(F^C&(U^F))+L[4]+3889429448&4294967295,k=U+(M<<20&4294967295|M>>>12),M=C+(U^F&(k^U))+L[9]+568446438&4294967295,C=k+(M<<5&4294967295|M>>>27),M=F+(k^U&(C^k))+L[14]+3275163606&4294967295,F=C+(M<<9&4294967295|M>>>23),M=U+(C^k&(F^C))+L[3]+4107603335&4294967295,U=F+(M<<14&4294967295|M>>>18),M=k+(F^C&(U^F))+L[8]+1163531501&4294967295,k=U+(M<<20&4294967295|M>>>12),M=C+(U^F&(k^U))+L[13]+2850285829&4294967295,C=k+(M<<5&4294967295|M>>>27),M=F+(k^U&(C^k))+L[2]+4243563512&4294967295,F=C+(M<<9&4294967295|M>>>23),M=U+(C^k&(F^C))+L[7]+1735328473&4294967295,U=F+(M<<14&4294967295|M>>>18),M=k+(F^C&(U^F))+L[12]+2368359562&4294967295,k=U+(M<<20&4294967295|M>>>12),M=C+(k^U^F)+L[5]+4294588738&4294967295,C=k+(M<<4&4294967295|M>>>28),M=F+(C^k^U)+L[8]+2272392833&4294967295,F=C+(M<<11&4294967295|M>>>21),M=U+(F^C^k)+L[11]+1839030562&4294967295,U=F+(M<<16&4294967295|M>>>16),M=k+(U^F^C)+L[14]+4259657740&4294967295,k=U+(M<<23&4294967295|M>>>9),M=C+(k^U^F)+L[1]+2763975236&4294967295,C=k+(M<<4&4294967295|M>>>28),M=F+(C^k^U)+L[4]+1272893353&4294967295,F=C+(M<<11&4294967295|M>>>21),M=U+(F^C^k)+L[7]+4139469664&4294967295,U=F+(M<<16&4294967295|M>>>16),M=k+(U^F^C)+L[10]+3200236656&4294967295,k=U+(M<<23&4294967295|M>>>9),M=C+(k^U^F)+L[13]+681279174&4294967295,C=k+(M<<4&4294967295|M>>>28),M=F+(C^k^U)+L[0]+3936430074&4294967295,F=C+(M<<11&4294967295|M>>>21),M=U+(F^C^k)+L[3]+3572445317&4294967295,U=F+(M<<16&4294967295|M>>>16),M=k+(U^F^C)+L[6]+76029189&4294967295,k=U+(M<<23&4294967295|M>>>9),M=C+(k^U^F)+L[9]+3654602809&4294967295,C=k+(M<<4&4294967295|M>>>28),M=F+(C^k^U)+L[12]+3873151461&4294967295,F=C+(M<<11&4294967295|M>>>21),M=U+(F^C^k)+L[15]+530742520&4294967295,U=F+(M<<16&4294967295|M>>>16),M=k+(U^F^C)+L[2]+3299628645&4294967295,k=U+(M<<23&4294967295|M>>>9),M=C+(U^(k|~F))+L[0]+4096336452&4294967295,C=k+(M<<6&4294967295|M>>>26),M=F+(k^(C|~U))+L[7]+1126891415&4294967295,F=C+(M<<10&4294967295|M>>>22),M=U+(C^(F|~k))+L[14]+2878612391&4294967295,U=F+(M<<15&4294967295|M>>>17),M=k+(F^(U|~C))+L[5]+4237533241&4294967295,k=U+(M<<21&4294967295|M>>>11),M=C+(U^(k|~F))+L[12]+1700485571&4294967295,C=k+(M<<6&4294967295|M>>>26),M=F+(k^(C|~U))+L[3]+2399980690&4294967295,F=C+(M<<10&4294967295|M>>>22),M=U+(C^(F|~k))+L[10]+4293915773&4294967295,U=F+(M<<15&4294967295|M>>>17),M=k+(F^(U|~C))+L[1]+2240044497&4294967295,k=U+(M<<21&4294967295|M>>>11),M=C+(U^(k|~F))+L[8]+1873313359&4294967295,C=k+(M<<6&4294967295|M>>>26),M=F+(k^(C|~U))+L[15]+4264355552&4294967295,F=C+(M<<10&4294967295|M>>>22),M=U+(C^(F|~k))+L[6]+2734768916&4294967295,U=F+(M<<15&4294967295|M>>>17),M=k+(F^(U|~C))+L[13]+1309151649&4294967295,k=U+(M<<21&4294967295|M>>>11),M=C+(U^(k|~F))+L[4]+4149444226&4294967295,C=k+(M<<6&4294967295|M>>>26),M=F+(k^(C|~U))+L[11]+3174756917&4294967295,F=C+(M<<10&4294967295|M>>>22),M=U+(C^(F|~k))+L[2]+718787259&4294967295,U=F+(M<<15&4294967295|M>>>17),M=k+(F^(U|~C))+L[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(U+(M<<21&4294967295|M>>>11))&4294967295,x.g[2]=x.g[2]+U&4294967295,x.g[3]=x.g[3]+F&4294967295}r.prototype.u=function(x,C){C===void 0&&(C=x.length);for(var k=C-this.blockSize,L=this.B,U=this.h,F=0;F<C;){if(U==0)for(;F<=k;)i(this,x,F),F+=this.blockSize;if(typeof x=="string"){for(;F<C;)if(L[U++]=x.charCodeAt(F++),U==this.blockSize){i(this,L),U=0;break}}else for(;F<C;)if(L[U++]=x[F++],U==this.blockSize){i(this,L),U=0;break}}this.h=U,this.o+=C},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;var k=8*this.o;for(C=x.length-8;C<x.length;++C)x[C]=k&255,k/=256;for(this.u(x),x=Array(16),C=k=0;4>C;++C)for(var L=0;32>L;L+=8)x[k++]=this.g[C]>>>L&255;return x};function s(x,C){var k=u;return Object.prototype.hasOwnProperty.call(k,x)?k[x]:k[x]=C(x)}function a(x,C){this.h=C;for(var k=[],L=!0,U=x.length-1;0<=U;U--){var F=x[U]|0;L&&F==C||(k[U]=F,L=!1)}this.g=k}var u={};function c(x){return-128<=x&&128>x?s(x,function(C){return new a([C|0],0>C?-1:0)}):new a([x|0],0>x?-1:0)}function h(x){if(isNaN(x)||!isFinite(x))return m;if(0>x)return N(h(-x));for(var C=[],k=1,L=0;x>=k;L++)C[L]=x/k|0,k*=4294967296;return new a(C,0)}function p(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return N(p(x.substring(1),C));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=h(Math.pow(C,8)),L=m,U=0;U<x.length;U+=8){var F=Math.min(8,x.length-U),M=parseInt(x.substring(U,U+F),C);8>F?(F=h(Math.pow(C,F)),L=L.j(F).add(h(M))):(L=L.j(k),L=L.add(h(M)))}return L}var m=c(0),y=c(1),A=c(16777216);t=a.prototype,t.m=function(){if(I(this))return-N(this).m();for(var x=0,C=1,k=0;k<this.g.length;k++){var L=this.i(k);x+=(0<=L?L:4294967296+L)*C,C*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(R(this))return"0";if(I(this))return"-"+N(this).toString(x);for(var C=h(Math.pow(x,6)),k=this,L="";;){var U=j(k,C).g;k=S(k,U.j(C));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(x);if(k=U,R(k))return F+L;for(;6>F.length;)F="0"+F;L=F+L}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function R(x){if(x.h!=0)return!1;for(var C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function I(x){return x.h==-1}t.l=function(x){return x=S(this,x),I(x)?-1:R(x)?0:1};function N(x){for(var C=x.g.length,k=[],L=0;L<C;L++)k[L]=~x.g[L];return new a(k,~x.h).add(y)}t.abs=function(){return I(this)?N(this):this},t.add=function(x){for(var C=Math.max(this.g.length,x.g.length),k=[],L=0,U=0;U<=C;U++){var F=L+(this.i(U)&65535)+(x.i(U)&65535),M=(F>>>16)+(this.i(U)>>>16)+(x.i(U)>>>16);L=M>>>16,F&=65535,M&=65535,k[U]=M<<16|F}return new a(k,k[k.length-1]&-2147483648?-1:0)};function S(x,C){return x.add(N(C))}t.j=function(x){if(R(this)||R(x))return m;if(I(this))return I(x)?N(this).j(N(x)):N(N(this).j(x));if(I(x))return N(this.j(N(x)));if(0>this.l(A)&&0>x.l(A))return h(this.m()*x.m());for(var C=this.g.length+x.g.length,k=[],L=0;L<2*C;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var U=0;U<x.g.length;U++){var F=this.i(L)>>>16,M=this.i(L)&65535,pe=x.i(U)>>>16,Se=x.i(U)&65535;k[2*L+2*U]+=M*Se,E(k,2*L+2*U),k[2*L+2*U+1]+=F*Se,E(k,2*L+2*U+1),k[2*L+2*U+1]+=M*pe,E(k,2*L+2*U+1),k[2*L+2*U+2]+=F*pe,E(k,2*L+2*U+2)}for(L=0;L<C;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=C;L<2*C;L++)k[L]=0;return new a(k,0)};function E(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function P(x,C){this.g=x,this.h=C}function j(x,C){if(R(C))throw Error("division by zero");if(R(x))return new P(m,m);if(I(x))return C=j(N(x),C),new P(N(C.g),N(C.h));if(I(C))return C=j(x,N(C)),new P(N(C.g),C.h);if(30<x.g.length){if(I(x)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var k=y,L=C;0>=L.l(x);)k=K(k),L=K(L);var U=Q(k,1),F=Q(L,1);for(L=Q(L,2),k=Q(k,2);!R(L);){var M=F.add(L);0>=M.l(x)&&(U=U.add(k),F=M),L=Q(L,1),k=Q(k,1)}return C=S(x,U.j(C)),new P(U,C)}for(U=m;0<=x.l(C);){for(k=Math.max(1,Math.floor(x.m()/C.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),F=h(k),M=F.j(C);I(M)||0<M.l(x);)k-=L,F=h(k),M=F.j(C);R(F)&&(F=y),U=U.add(F),x=S(x,M)}return new P(U,x)}t.A=function(x){return j(this,x).h},t.and=function(x){for(var C=Math.max(this.g.length,x.g.length),k=[],L=0;L<C;L++)k[L]=this.i(L)&x.i(L);return new a(k,this.h&x.h)},t.or=function(x){for(var C=Math.max(this.g.length,x.g.length),k=[],L=0;L<C;L++)k[L]=this.i(L)|x.i(L);return new a(k,this.h|x.h)},t.xor=function(x){for(var C=Math.max(this.g.length,x.g.length),k=[],L=0;L<C;L++)k[L]=this.i(L)^x.i(L);return new a(k,this.h^x.h)};function K(x){for(var C=x.g.length+1,k=[],L=0;L<C;L++)k[L]=x.i(L)<<1|x.i(L-1)>>>31;return new a(k,x.h)}function Q(x,C){var k=C>>5;C%=32;for(var L=x.g.length-k,U=[],F=0;F<L;F++)U[F]=0<C?x.i(F+k)>>>C|x.i(F+k+1)<<32-C:x.i(F+k);return new a(U,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ub=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=p,rl=a}).apply(typeof TI<"u"?TI:typeof self<"u"?self:typeof window<"u"?window:{});var xI={},cp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof xI<"u"?xI:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jb,Bb,rd,$b,$p,m_,zb,Wb,qb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,w){return d==Array.prototype||d==Object.prototype||(d[g]=w.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof cp=="object"&&cp];for(var g=0;g<d.length;++g){var w=d[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(d,g){if(g)e:{var w=r;d=d.split(".");for(var O=0;O<d.length-1;O++){var G=d[O];if(!(G in w))break e;w=w[G]}d=d[d.length-1],O=w[d],g=g(O),g!=O&&g!=null&&e(w,d,{configurable:!0,writable:!0,value:g})}}function s(d,g){d instanceof String&&(d+="");var w=0,O=!1,G={next:function(){if(!O&&w<d.length){var Z=w++;return{value:g(Z,d[Z]),done:!1}}return O=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(d){return d||function(){return s(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function c(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function h(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function p(d,g,w){return d.call.apply(d.bind,arguments)}function m(d,g,w){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,O),d.apply(g,G)}}return function(){return d.apply(g,arguments)}}function y(d,g,w){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,y.apply(null,arguments)}function A(d,g){var w=Array.prototype.slice.call(arguments,1);return function(){var O=w.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function R(d,g){function w(){}w.prototype=g.prototype,d.aa=g.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(O,G,Z){for(var me=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)me[xt-2]=arguments[xt];return g.prototype[G].apply(O,me)}}function I(d){const g=d.length;if(0<g){const w=Array(g);for(let O=0;O<g;O++)w[O]=d[O];return w}return[]}function N(d,g){for(let w=1;w<arguments.length;w++){const O=arguments[w];if(c(O)){const G=d.length||0,Z=O.length||0;d.length=G+Z;for(let me=0;me<Z;me++)d[G+me]=O[me]}else d.push(O)}}class S{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function E(d){return/^[\s\xa0]*$/.test(d)}function P(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function j(d){return j[" "](d),d}j[" "]=function(){};var K=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function Q(d,g,w){for(const O in d)g.call(w,d[O],O,d)}function x(d,g){for(const w in d)g.call(void 0,d[w],w,d)}function C(d){const g={};for(const w in d)g[w]=d[w];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,g){let w,O;for(let G=1;G<arguments.length;G++){O=arguments[G];for(w in O)d[w]=O[w];for(let Z=0;Z<k.length;Z++)w=k[Z],Object.prototype.hasOwnProperty.call(O,w)&&(d[w]=O[w])}}function U(d){var g=1;d=d.split(":");const w=[];for(;0<g&&d.length;)w.push(d.shift()),g--;return d.length&&w.push(d.join(":")),w}function F(d){u.setTimeout(()=>{throw d},0)}function M(){var d=oe;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class pe{constructor(){this.h=this.g=null}add(g,w){const O=Se.get();O.set(g,w),this.h?this.h.next=O:this.g=O,this.h=O}}var Se=new S(()=>new Oe,d=>d.reset());class Oe{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let De,ee=!1,oe=new pe,ge=()=>{const d=u.Promise.resolve(void 0);De=()=>{d.then(Ae)}};var Ae=()=>{for(var d;d=M();){try{d.h.call(d.g)}catch(w){F(w)}var g=Se;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}ee=!1};function xe(){this.s=this.s,this.C=this.C}xe.prototype.s=!1,xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function We(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}We.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};u.addEventListener("test",w,g),u.removeEventListener("test",w,g)}catch{}return d}();function et(d,g){if(We.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(K){e:{try{j(g.nodeName);var G=!0;break e}catch{}G=!1}G||(g=null)}}else w=="mouseover"?g=d.fromElement:w=="mouseout"&&(g=d.toElement);this.relatedTarget=g,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ge[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&et.aa.h.call(this)}}R(et,We);var Ge={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var it="closure_listenable_"+(1e6*Math.random()|0),Pn=0;function wn(d,g,w,O,G){this.listener=d,this.proxy=null,this.src=g,this.type=w,this.capture=!!O,this.ha=G,this.key=++Pn,this.da=this.fa=!1}function tt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function on(d){this.src=d,this.g={},this.h=0}on.prototype.add=function(d,g,w,O,G){var Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);var me=Jt(d,g,O,G);return-1<me?(g=d[me],w||(g.fa=!1)):(g=new wn(g,this.src,Z,!!O,G),g.fa=w,d.push(g)),g};function Et(d,g){var w=g.type;if(w in d.g){var O=d.g[w],G=Array.prototype.indexOf.call(O,g,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(O,G,1),Z&&(tt(g),d.g[w].length==0&&(delete d.g[w],d.h--))}}function Jt(d,g,w,O){for(var G=0;G<d.length;++G){var Z=d[G];if(!Z.da&&Z.listener==g&&Z.capture==!!w&&Z.ha==O)return G}return-1}var an="closure_lm_"+(1e6*Math.random()|0),pt={};function St(d,g,w,O,G){if(Array.isArray(g)){for(var Z=0;Z<g.length;Z++)St(d,g[Z],w,O,G);return null}return w=st(w),d&&d[it]?d.K(g,w,h(O)?!!O.capture:!!O,G):Ai(d,g,w,!1,O,G)}function Ai(d,g,w,O,G,Z){if(!g)throw Error("Invalid event type");var me=h(G)?!!G.capture:!!G,xt=le(d);if(xt||(d[an]=xt=new on(d)),w=xt.add(g,w,O,me,Z),w.proxy)return w;if(O=B(),w.proxy=O,O.src=d,O.listener=w,d.addEventListener)lt||(G=me),G===void 0&&(G=!1),d.addEventListener(g.toString(),O,G);else if(d.attachEvent)d.attachEvent(ve(g.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return w}function B(){function d(w){return g.call(d.src,d.listener,w)}const g=de;return d}function Y(d,g,w,O,G){if(Array.isArray(g))for(var Z=0;Z<g.length;Z++)Y(d,g[Z],w,O,G);else O=h(O)?!!O.capture:!!O,w=st(w),d&&d[it]?(d=d.i,g=String(g).toString(),g in d.g&&(Z=d.g[g],w=Jt(Z,w,O,G),-1<w&&(tt(Z[w]),Array.prototype.splice.call(Z,w,1),Z.length==0&&(delete d.g[g],d.h--)))):d&&(d=le(d))&&(g=d.g[g.toString()],d=-1,g&&(d=Jt(g,w,O,G)),(w=-1<d?g[d]:null)&&te(w))}function te(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[it])Et(g.i,d);else{var w=d.type,O=d.proxy;g.removeEventListener?g.removeEventListener(w,O,d.capture):g.detachEvent?g.detachEvent(ve(w),O):g.addListener&&g.removeListener&&g.removeListener(O),(w=le(g))?(Et(w,d),w.h==0&&(w.src=null,g[an]=null)):tt(d)}}}function ve(d){return d in pt?pt[d]:pt[d]="on"+d}function de(d,g){if(d.da)d=!0;else{g=new et(g,this);var w=d.listener,O=d.ha||d.src;d.fa&&te(d),d=w.call(O,g)}return d}function le(d){return d=d[an],d instanceof on?d:null}var Ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function st(d){return typeof d=="function"?d:(d[Ie]||(d[Ie]=function(g){return d.handleEvent(g)}),d[Ie])}function Me(){xe.call(this),this.i=new on(this),this.M=this,this.F=null}R(Me,xe),Me.prototype[it]=!0,Me.prototype.removeEventListener=function(d,g,w,O){Y(this,d,g,w,O)};function ut(d,g){var w,O=d.F;if(O)for(w=[];O;O=O.F)w.push(O);if(d=d.M,O=g.type||g,typeof g=="string")g=new We(g,d);else if(g instanceof We)g.target=g.target||d;else{var G=g;g=new We(O,d),L(g,G)}if(G=!0,w)for(var Z=w.length-1;0<=Z;Z--){var me=g.g=w[Z];G=En(me,O,!0,g)&&G}if(me=g.g=d,G=En(me,O,!0,g)&&G,G=En(me,O,!1,g)&&G,w)for(Z=0;Z<w.length;Z++)me=g.g=w[Z],G=En(me,O,!1,g)&&G}Me.prototype.N=function(){if(Me.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var w=d.g[g],O=0;O<w.length;O++)tt(w[O]);delete d.g[g],d.h--}}this.F=null},Me.prototype.K=function(d,g,w,O){return this.i.add(String(d),g,!1,w,O)},Me.prototype.L=function(d,g,w,O){return this.i.add(String(d),g,!0,w,O)};function En(d,g,w,O){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var G=!0,Z=0;Z<g.length;++Z){var me=g[Z];if(me&&!me.da&&me.capture==w){var xt=me.listener,pn=me.ha||me.src;me.fa&&Et(d.i,me),G=xt.call(pn,O)!==!1&&G}}return G&&!O.defaultPrevented}function tr(d,g,w){if(typeof d=="function")w&&(d=y(d,w));else if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:u.setTimeout(d,g||0)}function ui(d){d.g=tr(()=>{d.g=null,d.i&&(d.i=!1,ui(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class jn extends xe{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ui(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(d){xe.call(this),this.h=d,this.g={}}R(Pr,xe);var ci=[];function Pi(d){Q(d.g,function(g,w){this.g.hasOwnProperty(w)&&te(g)},d),d.g={}}Pr.prototype.N=function(){Pr.aa.N.call(this),Pi(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var di=u.JSON.stringify,Co=u.JSON.parse,ts=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function ns(){}ns.prototype.h=null;function Ao(d){return d.h||(d.h=d.i())}function Cl(){}var rs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Po(){We.call(this,"d")}R(Po,We);function Ls(){We.call(this,"c")}R(Ls,We);var Ri={},q=null;function X(){return q=q||new Me}Ri.La="serverreachability";function re(d){We.call(this,Ri.La,d)}R(re,We);function he(d){const g=X();ut(g,new re(g))}Ri.STAT_EVENT="statevent";function Te(d,g){We.call(this,Ri.STAT_EVENT,d),this.stat=g}R(Te,We);function be(d){const g=X();ut(g,new Te(g,d))}Ri.Ma="timingevent";function Ne(d,g){We.call(this,Ri.Ma,d),this.size=g}R(Ne,We);function Ee(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},g)}function qe(){this.g=!0}qe.prototype.xa=function(){this.g=!1};function je(d,g,w,O,G,Z){d.info(function(){if(d.g)if(Z)for(var me="",xt=Z.split("&"),pn=0;pn<xt.length;pn++){var yt=xt[pn].split("=");if(1<yt.length){var kn=yt[0];yt=yt[1];var Pt=kn.split("_");me=2<=Pt.length&&Pt[1]=="type"?me+(kn+"="+yt+"&"):me+(kn+"=redacted&")}}else me=null;else me=Z;return"XMLHTTP REQ ("+O+") [attempt "+G+"]: "+g+`
`+w+`
`+me})}function fn(d,g,w,O,G,Z,me){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+G+"]: "+g+`
`+w+`
`+Z+" "+me})}function Ut(d,g,w,O){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ot(d,w)+(O?" "+O:"")})}function Be(d,g){d.info(function(){return"TIMEOUT: "+g})}qe.prototype.info=function(){};function Ot(d,g){if(!d.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var O=w[d];if(!(2>O.length)){var G=O[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var me=1;me<G.length;me++)G[me]=""}}}}return di(w)}catch{return g}}var zt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},is={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rr;function $r(){}R($r,ns),$r.prototype.g=function(){return new XMLHttpRequest},$r.prototype.i=function(){return{}},Rr=new $r;function Bn(d,g,w,O){this.j=d,this.i=g,this.l=w,this.R=O||1,this.U=new Pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bi}function bi(){this.i=null,this.g="",this.h=!1}var pr={},ss={};function os(d,g,w){d.L=1,d.v=Pa(Oi(g)),d.m=w,d.P=!0,Ms(d,null)}function Ms(d,g){d.F=Date.now(),Rn(d),d.A=Oi(d.v);var w=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),Hh(w.i,"t",O),d.C=0,w=d.j.J,d.h=new bi,d.g=Ml(d.j,w?g:null,!d.m),0<d.O&&(d.M=new jn(y(d.Y,d,d.g),d.O)),g=d.U,w=d.g,O=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(ci[0]=G.toString()),G=ci);for(var Z=0;Z<G.length;Z++){var me=St(w,G[Z],O||g.handleEvent,!1,g.h||g);if(!me)break;g.g[me.key]=me}g=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),he(),je(d.i,d.u,d.A,d.l,d.R,d.m)}Bn.prototype.ca=function(d){d=d.target;const g=this.M;g&&zr(d)==3?g.j():this.Y(d)},Bn.prototype.Y=function(d){try{if(d==this.g)e:{const Pt=zr(this.g);var g=this.g.Ba();const ds=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||cs(this.g)))){this.J||Pt!=4||g==7||(g==8||0>=ds?he(3):he(2)),ki(this);var w=this.g.Z();this.X=w;t:if(ot(this)){var O=cs(this.g);d="";var G=O.length,Z=zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ni(this),as(this);var me="";break t}this.h.i=new u.TextDecoder}for(g=0;g<G;g++)this.h.h=!0,d+=this.h.i.decode(O[g],{stream:!(Z&&g==G-1)});O.length=0,this.h.g+=d,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=w==200,fn(this.i,this.u,this.A,this.l,this.R,Pt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var xt,pn=this.g;if((xt=pn.g?pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(xt)){var yt=xt;break t}}yt=null}if(w=yt)Ut(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Al(this,w);else{this.o=!1,this.s=3,be(12),Ni(this),as(this);break e}}if(this.P){w=!0;let Hn;for(;!this.J&&this.C<me.length;)if(Hn=ln(this,me),Hn==ss){Pt==4&&(this.s=4,be(14),w=!1),Ut(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==pr){this.s=4,be(15),Ut(this.i,this.l,me,"[Invalid Chunk]"),w=!1;break}else Ut(this.i,this.l,Hn,null),Al(this,Hn);if(ot(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||me.length!=0||this.h.h||(this.s=1,be(16),w=!1),this.o=this.o&&w,!w)Ut(this.i,this.l,me,"[Invalid Chunked Response]"),Ni(this),as(this);else if(0<me.length&&!this.W){this.W=!0;var kn=this.j;kn.g==this&&kn.ba&&!kn.M&&(kn.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),Ol(kn),kn.M=!0,be(11))}}else Ut(this.i,this.l,me,null),Al(this,me);Pt==4&&Ni(this),this.o&&!this.J&&(Pt==4?Dl(this.j,this):(this.o=!1,Rn(this)))}else Yh(this.g),w==400&&0<me.indexOf("Unknown SID")?(this.s=3,be(12)):(this.s=0,be(13)),Ni(this),as(this)}}}catch{}finally{}};function ot(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ln(d,g){var w=d.C,O=g.indexOf(`
`,w);return O==-1?ss:(w=Number(g.substring(w,O)),isNaN(w)?pr:(O+=1,O+w>g.length?ss:(g=g.slice(O,O+w),d.C=O+w,g)))}Bn.prototype.cancel=function(){this.J=!0,Ni(this)};function Rn(d){d.S=Date.now()+d.I,Wt(d,d.I)}function Wt(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ee(y(d.ba,d),g)}function ki(d){d.B&&(u.clearTimeout(d.B),d.B=null)}Bn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Be(this.i,this.A),this.L!=2&&(he(),be(17)),Ni(this),this.s=2,as(this)):Wt(this,this.S-d)};function as(d){d.j.G==0||d.J||Dl(d.j,d)}function Ni(d){ki(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,Pi(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function Al(d,g){try{var w=d.j;if(w.G!=0&&(w.g==d||ac(w.h,d))){if(!d.K&&ac(w.h,d)&&w.G==3){try{var O=w.Da.g.parse(g)}catch{O=null}if(Array.isArray(O)&&O.length==3){var G=O;if(G[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)Bs(w),ka(w);else break e;_c(w),be(18)}}else w.za=G[1],0<w.za-w.T&&37500>G[2]&&w.F&&w.v==0&&!w.C&&(w.C=Ee(y(w.Za,w),6e3));if(1>=Vh(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else nr(w,11)}else if((d.K||w.g==d)&&Bs(w),!E(g))for(G=w.Da.g.parse(g),g=0;g<G.length;g++){let yt=G[g];if(w.T=yt[0],yt=yt[1],w.G==2)if(yt[0]=="c"){w.K=yt[1],w.ia=yt[2];const kn=yt[3];kn!=null&&(w.la=kn,w.j.info("VER="+w.la));const Pt=yt[4];Pt!=null&&(w.Aa=Pt,w.j.info("SVER="+w.Aa));const ds=yt[5];ds!=null&&typeof ds=="number"&&0<ds&&(O=1.5*ds,w.L=O,w.j.info("backChannelRequestTimeoutMs_="+O)),O=w;const Hn=d.g;if(Hn){const Da=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Da){var Z=O.h;Z.g||Da.indexOf("spdy")==-1&&Da.indexOf("quic")==-1&&Da.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(lc(Z,Z.h),Z.h=null))}if(O.D){const Vl=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vl&&(O.ya=Vl,Lt(O.I,O.D,Vl))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),O=w;var me=d;if(O.qa=Zh(O,O.J?O.ia:null,O.W),me.K){uc(O.h,me);var xt=me,pn=O.L;pn&&(xt.I=pn),xt.B&&(ki(xt),Rn(xt)),O.g=me}else mr(O);0<w.i.length&&Na(w)}else yt[0]!="stop"&&yt[0]!="close"||nr(w,7);else w.G==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?nr(w,7):Nl(w):yt[0]!="noop"&&w.l&&w.l.ta(yt),w.v=0)}}he(4)}catch{}}var Mh=class{constructor(d,g){this.g=d,this.map=g}};function oc(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fh(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Vh(d){return d.h?1:d.g?d.g.size:0}function ac(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function lc(d,g){d.g?d.g.add(g):d.h=g}function uc(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}oc.prototype.cancel=function(){if(this.i=cc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function cc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const w of d.g.values())g=g.concat(w.D);return g}return I(d.i)}function Uh(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var g=[],w=d.length,O=0;O<w;O++)g.push(d[O]);return g}g=[],w=0;for(O in d)g[w++]=d[O];return g}function dc(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var g=[];d=d.length;for(var w=0;w<d;w++)g.push(w);return g}g=[],w=0;for(const O in d)g[w++]=O;return g}}}function jh(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var w=dc(d),O=Uh(d),G=O.length,Z=0;Z<G;Z++)g.call(void 0,O[Z],w&&w[Z],d)}var hc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pl(d,g){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var O=d[w].indexOf("="),G=null;if(0<=O){var Z=d[w].substring(0,O);G=d[w].substring(O+1)}else Z=d[w];g(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function ls(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ls){this.h=d.h,Ca(this,d.j),this.o=d.o,this.g=d.g,Aa(this,d.s),this.l=d.l;var g=d.i,w=new bo;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),Rl(this,w),this.m=d.m}else d&&(g=String(d).match(hc))?(this.h=!1,Ca(this,g[1]||"",!0),this.o=Fs(g[2]||""),this.g=Fs(g[3]||"",!0),Aa(this,g[4]),this.l=Fs(g[5]||"",!0),Rl(this,g[6]||"",!0),this.m=Fs(g[7]||"")):(this.h=!1,this.i=new bo(null,this.h))}ls.prototype.toString=function(){var d=[],g=this.j;g&&d.push(Vs(g,fc,!0),":");var w=this.g;return(w||g=="file")&&(d.push("//"),(g=this.o)&&d.push(Vs(g,fc,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(Vs(w,w.charAt(0)=="/"?ev:Bh,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",Vs(w,zh)),d.join("")};function Oi(d){return new ls(d)}function Ca(d,g,w){d.j=w?Fs(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function Aa(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function Rl(d,g,w){g instanceof bo?(d.i=g,tv(d.i,d.h)):(w||(g=Vs(g,$h)),d.i=new bo(g,d.h))}function Lt(d,g,w){d.i.set(g,w)}function Pa(d){return Lt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Fs(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Vs(d,g,w){return typeof d=="string"?(d=encodeURI(d).replace(g,Ro),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Ro(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var fc=/[#\/\?@]/g,Bh=/[#\?:]/g,ev=/[#\?]/g,$h=/[#\?@]/g,zh=/#/g;function bo(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function Di(d){d.g||(d.g=new Map,d.h=0,d.i&&Pl(d.i,function(g,w){d.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}t=bo.prototype,t.add=function(d,g){Di(this),this.i=null,d=Us(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(g),this.h+=1,this};function Wh(d,g){Di(d),g=Us(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function qh(d,g){return Di(d),g=Us(d,g),d.g.has(g)}t.forEach=function(d,g){Di(this),this.g.forEach(function(w,O){w.forEach(function(G){d.call(g,G,O,this)},this)},this)},t.na=function(){Di(this);const d=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let O=0;O<g.length;O++){const G=d[O];for(let Z=0;Z<G.length;Z++)w.push(g[O])}return w},t.V=function(d){Di(this);let g=[];if(typeof d=="string")qh(this,d)&&(g=g.concat(this.g.get(Us(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)g=g.concat(d[w])}return g},t.set=function(d,g){return Di(this),this.i=null,d=Us(this,d),qh(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function Hh(d,g,w){Wh(d,g),0<w.length&&(d.i=null,d.g.set(Us(d,g),I(w)),d.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var O=g[w];const Z=encodeURIComponent(String(O)),me=this.V(O);for(O=0;O<me.length;O++){var G=Z;me[O]!==""&&(G+="="+encodeURIComponent(String(me[O]))),d.push(G)}}return this.i=d.join("&")};function Us(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function tv(d,g){g&&!d.j&&(Di(d),d.i=null,d.g.forEach(function(w,O){var G=O.toLowerCase();O!=G&&(Wh(this,O),Hh(this,G,w))},d)),d.j=g}function nv(d,g){const w=new qe;if(u.Image){const O=new Image;O.onload=A(us,w,"TestLoadImage: loaded",!0,g,O),O.onerror=A(us,w,"TestLoadImage: error",!1,g,O),O.onabort=A(us,w,"TestLoadImage: abort",!1,g,O),O.ontimeout=A(us,w,"TestLoadImage: timeout",!1,g,O),u.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else g(!1)}function rv(d,g){const w=new qe,O=new AbortController,G=setTimeout(()=>{O.abort(),us(w,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:O.signal}).then(Z=>{clearTimeout(G),Z.ok?us(w,"TestPingServer: ok",!0,g):us(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(G),us(w,"TestPingServer: error",!1,g)})}function us(d,g,w,O,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),O(w)}catch{}}function pc(){this.g=new ts}function iv(d,g,w){const O=w||"";try{jh(d,function(G,Z){let me=G;h(G)&&(me=di(G)),g.push(O+Z+"="+encodeURIComponent(me))})}catch(G){throw g.push(O+"type="+encodeURIComponent("_badmap")),G}}function Ra(d){this.l=d.Ub||null,this.j=d.eb||!1}R(Ra,ns),Ra.prototype.g=function(){return new bl(this.l,this.j)},Ra.prototype.i=function(d){return function(){return d}}({});function bl(d,g){Me.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(bl,Me),t=bl.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,Tt(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||u).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ba(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Tt(this)),this.g&&(this.readyState=3,Tt(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kh(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kh(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?ba(this):Tt(this),this.readyState==3&&Kh(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,ba(this))},t.Qa=function(d){this.g&&(this.response=d,ba(this))},t.ga=function(){this.g&&ba(this)};function ba(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Tt(d)}t.setRequestHeader=function(d,g){this.u.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=g.next();return d.join(`\r
`)};function Tt(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function bt(d){let g="";return Q(d,function(w,O){g+=O,g+=":",g+=w,g+=`\r
`}),g}function gc(d,g,w){e:{for(O in w){var O=!1;break e}O=!0}O||(w=bt(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):Lt(d,g,w))}function Kt(d){Me.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Kt,Me);var sv=/^https?$/i,ov=["POST","PUT"];t=Kt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,g,w,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rr.g(),this.v=this.o?Ao(this.o):Ao(Rr),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(Z){Gh(this,Z);return}if(d=w||"",w=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var G in O)w.set(G,O[G]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const Z of O.keys())w.set(Z,O.get(Z));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(w.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ov,g,void 0))||O||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,me]of w)this.g.setRequestHeader(Z,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sn(this),this.u=!0,this.g.send(d),this.u=!1}catch(Z){Gh(this,Z)}};function Gh(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,Qh(d),kl(d)}function Qh(d){d.A||(d.A=!0,ut(d,"complete"),ut(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ut(this,"complete"),ut(this,"abort"),kl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kl(this,!0)),Kt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?mc(this):this.bb())},t.bb=function(){mc(this)};function mc(d){if(d.h&&typeof a<"u"&&(!d.v[1]||zr(d)!=4||d.Z()!=2)){if(d.u&&zr(d)==4)tr(d.Ea,0,d);else if(ut(d,"readystatechange"),zr(d)==4){d.h=!1;try{const me=d.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var O;if(O=me===0){var G=String(d.D).match(hc)[1]||null;!G&&u.self&&u.self.location&&(G=u.self.location.protocol.slice(0,-1)),O=!sv.test(G?G.toLowerCase():"")}w=O}if(w)ut(d,"complete"),ut(d,"success");else{d.m=6;try{var Z=2<zr(d)?d.g.statusText:""}catch{Z=""}d.l=Z+" ["+d.Z()+"]",Qh(d)}}finally{kl(d)}}}}function kl(d,g){if(d.g){Sn(d);const w=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||ut(d,"ready");try{w.onreadystatechange=O}catch{}}}function Sn(d){d.I&&(u.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function zr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),Co(g)}};function cs(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Yh(d){const g={};d=(d.g&&2<=zr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(E(d[O]))continue;var w=U(d[O]);const G=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Z=g[G]||[];g[G]=Z,Z.push(w)}x(g,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function js(d,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||g}function gr(d){this.Aa=0,this.i=[],this.j=new qe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=js("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=js("baseRetryDelayMs",5e3,d),this.cb=js("retryDelaySeedMs",1e4,d),this.Wa=js("forwardChannelMaxRetries",2,d),this.wa=js("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new oc(d&&d.concurrentRequestLimit),this.Da=new pc,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=gr.prototype,t.la=8,t.G=1,t.connect=function(d,g,w,O){be(0),this.W=d,this.H=g||{},w&&O!==void 0&&(this.H.OSID=w,this.H.OAID=O),this.F=this.X,this.I=Zh(this,null,this.W),Na(this)};function Nl(d){if(vc(d),d.G==3){var g=d.U++,w=Oi(d.I);if(Lt(w,"SID",d.K),Lt(w,"RID",g),Lt(w,"TYPE","terminate"),bn(d,w),g=new Bn(d,d.j,g),g.L=2,g.v=Pa(Oi(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&u.Image&&(new Image().src=g.v,w=!0),w||(g.g=Ml(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Rn(g)}Ll(d)}function ka(d){d.g&&(Ol(d),d.g.cancel(),d.g=null)}function vc(d){ka(d),d.u&&(u.clearTimeout(d.u),d.u=null),Bs(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function Na(d){if(!Fh(d.h)&&!d.s){d.s=!0;var g=d.Ga;De||ge(),ee||(De(),ee=!0),oe.add(g,d),d.B=0}}function Xh(d,g){return Vh(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ee(y(d.Ga,d,g),Mt(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new Bn(this,this.j,d);let Z=this.o;if(this.S&&(Z?(Z=C(Z),L(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var O=this.i[w];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(g+=O,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=Jh(this,G,g),w=Oi(this.I),Lt(w,"RID",d),Lt(w,"CVER",22),this.D&&Lt(w,"X-HTTP-Session-Id",this.D),bn(this,w),Z&&(this.O?g="headers="+encodeURIComponent(String(bt(Z)))+"&"+g:this.m&&gc(w,this.m,Z)),lc(this.h,G),this.Ua&&Lt(w,"TYPE","init"),this.P?(Lt(w,"$req",g),Lt(w,"SID","null"),G.T=!0,os(G,w,null)):os(G,w,g),this.G=2}}else this.G==3&&(d?yc(this,d):this.i.length==0||Fh(this.h)||yc(this))};function yc(d,g){var w;g?w=g.l:w=d.U++;const O=Oi(d.I);Lt(O,"SID",d.K),Lt(O,"RID",w),Lt(O,"AID",d.T),bn(d,O),d.m&&d.o&&gc(O,d.m,d.o),w=new Bn(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),g&&(d.i=g.D.concat(d.i)),g=Jh(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),lc(d.h,w),os(w,O,g)}function bn(d,g){d.H&&Q(d.H,function(w,O){Lt(g,O,w)}),d.l&&jh({},function(w,O){Lt(g,O,w)})}function Jh(d,g,w){w=Math.min(d.i.length,w);var O=d.l?y(d.l.Na,d.l,d):null;e:{var G=d.i;let Z=-1;for(;;){const me=["count="+w];Z==-1?0<w?(Z=G[0].g,me.push("ofs="+Z)):Z=0:me.push("ofs="+Z);let xt=!0;for(let pn=0;pn<w;pn++){let yt=G[pn].g;const kn=G[pn].map;if(yt-=Z,0>yt)Z=Math.max(0,G[pn].g-100),xt=!1;else try{iv(kn,me,"req"+yt+"_")}catch{O&&O(kn)}}if(xt){O=me.join("&");break e}}}return d=d.i.splice(0,w),g.D=d,O}function mr(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;De||ge(),ee||(De(),ee=!0),oe.add(g,d),d.v=0}}function _c(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ee(y(d.Fa,d),Mt(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Li(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ee(y(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,be(10),ka(this),Li(this))};function Ol(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function Li(d){d.g=new Bn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=Oi(d.qa);Lt(g,"RID","rpc"),Lt(g,"SID",d.K),Lt(g,"AID",d.T),Lt(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&Lt(g,"TO",d.ja),Lt(g,"TYPE","xmlhttp"),bn(d,g),d.m&&d.o&&gc(g,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=Pa(Oi(g)),w.m=null,w.P=!0,Ms(w,d)}t.Za=function(){this.C!=null&&(this.C=null,ka(this),_c(this),be(19))};function Bs(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function Dl(d,g){var w=null;if(d.g==g){Bs(d),Ol(d),d.g=null;var O=2}else if(ac(d.h,g))w=g.D,uc(d.h,g),O=1;else return;if(d.G!=0){if(g.o)if(O==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var G=d.B;O=X(),ut(O,new Ne(O,w)),Na(d)}else mr(d);else if(G=g.s,G==3||G==0&&0<g.X||!(O==1&&Xh(d,g)||O==2&&_c(d)))switch(w&&0<w.length&&(g=d.h,g.i=g.i.concat(w)),G){case 1:nr(d,5);break;case 4:nr(d,10);break;case 3:nr(d,6);break;default:nr(d,2)}}}function Mt(d,g){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*g}function nr(d,g){if(d.j.info("Error code "+g),g==2){var w=y(d.fb,d),O=d.Xa;const G=!O;O=new ls(O||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ca(O,"https"),Pa(O),G?nv(O.toString(),w):rv(O.toString(),w)}else be(2);d.G=0,d.l&&d.l.sa(g),Ll(d),vc(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Ll(d){if(d.G=0,d.ka=[],d.l){const g=cc(d.h);(g.length!=0||d.i.length!=0)&&(N(d.ka,g),N(d.ka,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.ra()}}function Zh(d,g,w){var O=w instanceof ls?Oi(w):new ls(w);if(O.g!="")g&&(O.g=g+"."+O.g),Aa(O,O.s);else{var G=u.location;O=G.protocol,g=g?g+"."+G.hostname:G.hostname,G=+G.port;var Z=new ls(null);O&&Ca(Z,O),g&&(Z.g=g),G&&Aa(Z,G),w&&(Z.l=w),O=Z}return w=d.D,g=d.ya,w&&g&&Lt(O,w,g),Lt(O,"VER",d.la),bn(d,O),O}function Ml(d,g,w){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new Kt(new Ra({eb:w})):new Kt(d.pa),g.Ha(d.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ef(){}t=ef.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fl(){}Fl.prototype.g=function(d,g){return new vr(d,g)};function vr(d,g){Me.call(this),this.g=new gr(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!E(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!E(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new Wr(this)}R(vr,Me),vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){Nl(this.g)},vr.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=di(d),d=w);g.i.push(new Mh(g.Ya++,d)),g.G==3&&Na(g)},vr.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,vr.aa.N.call(this)};function wc(d){Po.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const w in g){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}R(wc,Po);function Oa(){Ls.call(this),this.status=1}R(Oa,Ls);function Wr(d){this.g=d}R(Wr,ef),Wr.prototype.ua=function(){ut(this.g,"a")},Wr.prototype.ta=function(d){ut(this.g,new wc(d))},Wr.prototype.sa=function(d){ut(this.g,new Oa)},Wr.prototype.ra=function(){ut(this.g,"b")},Fl.prototype.createWebChannel=Fl.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,qb=function(){return new Fl},Wb=function(){return X()},zb=Ri,m_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zt.NO_ERROR=0,zt.TIMEOUT=8,zt.HTTP_ERROR=6,$p=zt,is.COMPLETE="complete",$b=is,Cl.EventType=rs,rs.OPEN="a",rs.CLOSE="b",rs.ERROR="c",rs.MESSAGE="d",Me.prototype.listen=Me.prototype.K,rd=Cl,Bb=Ra,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,jb=Kt}).apply(typeof cp<"u"?cp:typeof self<"u"?self:typeof window<"u"?window:{});const II="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid"),ur.MOCK_USER=new ur("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=new Ww("@firebase/firestore");function Kc(){return fl.logLevel}function Re(t,...e){if(fl.logLevel<=mt.DEBUG){const n=e.map(tE);fl.debug(`Firestore (${nc}): ${t}`,...n)}}function _o(t,...e){if(fl.logLevel<=mt.ERROR){const n=e.map(tE);fl.error(`Firestore (${nc}): ${t}`,...n)}}function Bu(t,...e){if(fl.logLevel<=mt.WARN){const n=e.map(tE);fl.warn(`Firestore (${nc}): ${t}`,...n)}}function tE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t="Unexpected state"){const e=`FIRESTORE (${nc}) INTERNAL ASSERTION FAILED: `+t;throw _o(e),new Error(e)}function $t(t,e){t||Ke()}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends xo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ur.UNAUTHENTICATED))}shutdown(){}}class xz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Iz{constructor(e){this.t=e,this.currentUser=ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new ha;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ha,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ha)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string"),new Hb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $t(e===null||typeof e=="string"),new ur(e)}}class Cz{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ur.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Az{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Cz(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pz{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rz{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Re("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($t(typeof n.token=="string"),this.R=n.token,new Pz(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=bz(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function At(t,e){return t<e?-1:t>e?1:0}function $u(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Le(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Le(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Le(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vn.fromMillis(Date.now())}static fromDate(e){return Vn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Vn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?At(this.nanoseconds,e.nanoseconds):At(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new Vn(0,0))}static max(){return new Ye(new Vn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ke(),r===void 0?r=e.length-n:r>e.length-n&&Ke(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return th.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof th?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xt extends th{construct(e,n,r){return new Xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Xt(n)}static emptyPath(){return new Xt([])}}const kz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends th{construct(e,n,r){return new Yn(e,n,r)}static isValidIdentifier(e){return kz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Le(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Le(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Le(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(s(),i++)}if(s(),a)throw new Le(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yn(n)}static emptyPath(){return new Yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Xt.fromString(e))}static fromName(e){return new Ve(Xt.fromString(e).popFirst(5))}static empty(){return new Ve(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Xt(e.slice()))}}function Nz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ye.fromTimestamp(r===1e9?new Vn(n+1,0):new Vn(n,r));return new va(i,Ve.empty(),e)}function Oz(t){return new va(t.readTime,t.key,-1)}class va{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new va(Ye.min(),Ve.empty(),-1)}static max(){return new va(Ye.max(),Ve.empty(),-1)}}function Dz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(t.documentKey,e.documentKey),n!==0?n:At(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==Lz)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.reject(n)}static resolve(e){return new ce((n,r)=>{n(e)})}static reject(e){return new ce((n,r)=>{r(e)})}static waitFor(e){return new ce((n,r)=>{let i=0,s=0,a=!1;e.forEach(u=>{++i,u.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next(i=>i?ce.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ce((r,i)=>{const s=e.length,a=new Array(s);let u=0;for(let c=0;c<s;c++){const h=c;n(e[h]).next(p=>{a[h]=p,++u,u===s&&r(a)},p=>i(p))}})}static doWhile(e,n){return new ce((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Fz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}nE.oe=-1;function Fm(t){return t==null}function $g(t){return t===0&&1/t==-1/0}function Vz(t){return typeof t=="number"&&Number.isInteger(t)&&!$g(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n){this.comparator=e,this.root=n||Qn.EMPTY}insert(e,n){return new sn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dp(this.root,e,this.comparator,!1)}getReverseIterator(){return new dp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dp(this.root,e,this.comparator,!0)}}class dp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Qn.RED,this.left=i??Qn.EMPTY,this.right=s??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Qn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Qn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const e=this.left.check();if(e!==this.right.check())throw Ke();return e+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.comparator=e,this.data=new sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AI(this.data.getIterator())}getIteratorFrom(e){return new AI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jn(this.comparator);return n.data=e,n}}class AI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.fields=e,e.sort(Yn.comparator)}static empty(){return new ri([])}unionWith(e){let n=new Jn(Yn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ri(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $u(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Qb("Invalid base64 string: "+s):s}}(e);return new fr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new fr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return At(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fr.EMPTY_BYTE_STRING=new fr("");const Uz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(t){if($t(!!t),typeof t=="string"){let e=0;const n=Uz.exec(t);if($t(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Cn(t.seconds),nanos:Cn(t.nanos)}}function Cn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pl(t){return typeof t=="string"?fr.fromBase64String(t):fr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function iE(t){const e=t.mapValue.fields.__previous_value__;return rE(e)?iE(e):e}function nh(t){const e=ya(t.mapValue.fields.__local_write_time__.timestampValue);return new Vn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e,n,r,i,s,a,u,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h}}class rh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new rh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof rh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rE(t)?4:Bz(t)?9007199254740991:10:Ke()}function ks(t,e){if(t===e)return!0;const n=gl(t);if(n!==gl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nh(t).isEqual(nh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=ya(i.timestampValue),u=ya(s.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return pl(i.bytesValue).isEqual(pl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Cn(i.geoPointValue.latitude)===Cn(s.geoPointValue.latitude)&&Cn(i.geoPointValue.longitude)===Cn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Cn(i.integerValue)===Cn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Cn(i.doubleValue),u=Cn(s.doubleValue);return a===u?$g(a)===$g(u):isNaN(a)&&isNaN(u)}return!1}(t,e);case 9:return $u(t.arrayValue.values||[],e.arrayValue.values||[],ks);case 10:return function(i,s){const a=i.mapValue.fields||{},u=s.mapValue.fields||{};if(CI(a)!==CI(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!ks(a[c],u[c])))return!1;return!0}(t,e);default:return Ke()}}function ih(t,e){return(t.values||[]).find(n=>ks(n,e))!==void 0}function zu(t,e){if(t===e)return 0;const n=gl(t),r=gl(e);if(n!==r)return At(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return At(t.booleanValue,e.booleanValue);case 2:return function(s,a){const u=Cn(s.integerValue||s.doubleValue),c=Cn(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return PI(t.timestampValue,e.timestampValue);case 4:return PI(nh(t),nh(e));case 5:return At(t.stringValue,e.stringValue);case 6:return function(s,a){const u=pl(s),c=pl(a);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const u=s.split("/"),c=a.split("/");for(let h=0;h<u.length&&h<c.length;h++){const p=At(u[h],c[h]);if(p!==0)return p}return At(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const u=At(Cn(s.latitude),Cn(a.latitude));return u!==0?u:At(Cn(s.longitude),Cn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,a){const u=s.values||[],c=a.values||[];for(let h=0;h<u.length&&h<c.length;++h){const p=zu(u[h],c[h]);if(p)return p}return At(u.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,a){if(s===hp.mapValue&&a===hp.mapValue)return 0;if(s===hp.mapValue)return 1;if(a===hp.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),h=a.fields||{},p=Object.keys(h);c.sort(),p.sort();for(let m=0;m<c.length&&m<p.length;++m){const y=At(c[m],p[m]);if(y!==0)return y;const A=zu(u[c[m]],h[p[m]]);if(A!==0)return A}return At(c.length,p.length)}(t.mapValue,e.mapValue);default:throw Ke()}}function PI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return At(t,e);const n=ya(t),r=ya(e),i=At(n.seconds,r.seconds);return i!==0?i:At(n.nanos,r.nanos)}function Wu(t){return v_(t)}function v_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ya(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return pl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=v_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${v_(n.fields[a])}`;return i+"}"}(t.mapValue):Ke()}function y_(t){return!!t&&"integerValue"in t}function sE(t){return!!t&&"arrayValue"in t}function RI(t){return!!t&&"nullValue"in t}function bI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zp(t){return!!t&&"mapValue"in t}function Ed(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Sl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ed(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ed(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Bz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.value=e}static empty(){return new Fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ed(n)}setAll(e){let n=Yn.emptyPath(),r={},i=[];e.forEach((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}a?r[u.lastSegment()]=Ed(a):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());zp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ks(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Sl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Fr(Ed(this.value))}}function Yb(t){const e=[];return Sl(t.fields,(n,r)=>{const i=new Yn([n]);if(zp(r)){const s=Yb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new ri(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n,r,i,s,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new dr(e,0,Ye.min(),Ye.min(),Ye.min(),Fr.empty(),0)}static newFoundDocument(e,n,r,i){return new dr(e,1,n,Ye.min(),r,i,0)}static newNoDocument(e,n){return new dr(e,2,n,Ye.min(),Ye.min(),Fr.empty(),0)}static newUnknownDocument(e,n){return new dr(e,3,n,Ye.min(),Ye.min(),Fr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n){this.position=e,this.inclusive=n}}function kI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Ve.comparator(Ve.fromName(a.referenceValue),n.key):r=zu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function NI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ks(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n="asc"){this.field=e,this.dir=n}}function $z(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{}class Mn extends Xb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Wz(e,n,r):n==="array-contains"?new Kz(e,r):n==="in"?new Gz(e,r):n==="not-in"?new Qz(e,r):n==="array-contains-any"?new Yz(e,r):new Mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qz(e,r):new Hz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(zu(n,this.value)):n!==null&&gl(this.value)===gl(n)&&this.matchesComparison(zu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ns extends Xb{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ns(e,n)}matches(e){return Jb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Jb(t){return t.op==="and"}function Zb(t){return zz(t)&&Jb(t)}function zz(t){for(const e of t.filters)if(e instanceof Ns)return!1;return!0}function __(t){if(t instanceof Mn)return t.field.canonicalString()+t.op.toString()+Wu(t.value);if(Zb(t))return t.filters.map(e=>__(e)).join(",");{const e=t.filters.map(n=>__(n)).join(",");return`${t.op}(${e})`}}function ek(t,e){return t instanceof Mn?function(r,i){return i instanceof Mn&&r.op===i.op&&r.field.isEqual(i.field)&&ks(r.value,i.value)}(t,e):t instanceof Ns?function(r,i){return i instanceof Ns&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,u)=>s&&ek(a,i.filters[u]),!0):!1}(t,e):void Ke()}function tk(t){return t instanceof Mn?function(n){return`${n.field.canonicalString()} ${n.op} ${Wu(n.value)}`}(t):t instanceof Ns?function(n){return n.op.toString()+" {"+n.getFilters().map(tk).join(" ,")+"}"}(t):"Filter"}class Wz extends Mn{constructor(e,n,r){super(e,n,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class qz extends Mn{constructor(e,n){super(e,"in",n),this.keys=nk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Hz extends Mn{constructor(e,n){super(e,"not-in",n),this.keys=nk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ve.fromName(r.referenceValue))}class Kz extends Mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sE(n)&&ih(n.arrayValue,this.value)}}class Gz extends Mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ih(this.value.arrayValue,n)}}class Qz extends Mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ih(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ih(this.value.arrayValue,n)}}class Yz extends Mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ih(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e,n=null,r=[],i=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=u,this.ue=null}}function OI(t,e=null,n=[],r=[],i=null,s=null,a=null){return new Xz(t,e,n,r,i,s,a)}function oE(t){const e=Je(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>__(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Fm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wu(r)).join(",")),e.ue=n}return e.ue}function aE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$z(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ek(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!NI(t.startAt,e.startAt)&&NI(t.endAt,e.endAt)}function w_(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n=null,r=[],i=[],s=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Jz(t,e,n,r,i,s,a,u){return new Vm(t,e,n,r,i,s,a,u)}function Um(t){return new Vm(t)}function DI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Zz(t){return t.collectionGroup!==null}function Sd(t){const e=Je(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new Jn(Yn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wg(s,r))}),n.has(Yn.keyField().canonicalString())||e.ce.push(new Wg(Yn.keyField(),r))}return e.ce}function Ps(t){const e=Je(t);return e.le||(e.le=eW(e,Sd(t))),e.le}function eW(t,e){if(t.limitType==="F")return OI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wg(i.field,s)});const n=t.endAt?new zg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zg(t.startAt.position,t.startAt.inclusive):null;return OI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function E_(t,e,n){return new Vm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jm(t,e){return aE(Ps(t),Ps(e))&&t.limitType===e.limitType}function rk(t){return`${oE(Ps(t))}|lt:${t.limitType}`}function tu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>tk(i)).join(", ")}]`),Fm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Wu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Wu(i)).join(",")),`Target(${r})`}(Ps(t))}; limitType=${t.limitType})`}function Bm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ve.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Sd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,u,c){const h=kI(a,u,c);return a.inclusive?h<=0:h<0}(r.startAt,Sd(r),i)||r.endAt&&!function(a,u,c){const h=kI(a,u,c);return a.inclusive?h>=0:h>0}(r.endAt,Sd(r),i))}(t,e)}function tW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ik(t){return(e,n)=>{let r=!1;for(const i of Sd(t)){const s=nW(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function nW(t,e,n){const r=t.field.isKeyField()?Ve.comparator(e.key,n.key):function(s,a,u){const c=a.data.field(s),h=u.data.field(s);return c!==null&&h!==null?zu(c,h):Ke()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Gb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW=new sn(Ve.comparator);function wo(){return rW}const sk=new sn(Ve.comparator);function id(...t){let e=sk;for(const n of t)e=e.insert(n.key,n);return e}function ok(t){let e=sk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ja(){return Td()}function ak(){return Td()}function Td(){return new rc(t=>t.toString(),(t,e)=>t.isEqual(e))}const iW=new sn(Ve.comparator),sW=new Jn(Ve.comparator);function ft(...t){let e=sW;for(const n of t)e=e.add(n);return e}const oW=new Jn(At);function aW(){return oW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$g(e)?"-0":e}}function uk(t){return{integerValue:""+t}}function lW(t,e){return Vz(e)?uk(e):lk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(){this._=void 0}}function uW(t,e,n){return t instanceof qg?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&rE(s)&&(s=iE(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof sh?dk(t,e):t instanceof oh?hk(t,e):function(i,s){const a=ck(i,s),u=LI(a)+LI(i.Pe);return y_(a)&&y_(i.Pe)?uk(u):lk(i.serializer,u)}(t,e)}function cW(t,e,n){return t instanceof sh?dk(t,e):t instanceof oh?hk(t,e):n}function ck(t,e){return t instanceof Hg?function(r){return y_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class qg extends $m{}class sh extends $m{constructor(e){super(),this.elements=e}}function dk(t,e){const n=fk(e);for(const r of t.elements)n.some(i=>ks(i,r))||n.push(r);return{arrayValue:{values:n}}}class oh extends $m{constructor(e){super(),this.elements=e}}function hk(t,e){let n=fk(e);for(const r of t.elements)n=n.filter(i=>!ks(i,r));return{arrayValue:{values:n}}}class Hg extends $m{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function LI(t){return Cn(t.integerValue||t.doubleValue)}function fk(t){return sE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function dW(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof sh&&i instanceof sh||r instanceof oh&&i instanceof oh?$u(r.elements,i.elements,ks):r instanceof Hg&&i instanceof Hg?ks(r.Pe,i.Pe):r instanceof qg&&i instanceof qg}(t.transform,e.transform)}class hW{constructor(e,n){this.version=e,this.transformResults=n}}class Qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qi}static exists(e){return new Qi(void 0,e)}static updateTime(e){return new Qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zm{}function pk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mk(t.key,Qi.none()):new bh(t.key,t.data,Qi.none());{const n=t.data,r=Fr.empty();let i=new Jn(Yn.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Ia(t.key,r,new ri(i.toArray()),Qi.none())}}function fW(t,e,n){t instanceof bh?function(i,s,a){const u=i.value.clone(),c=FI(i.fieldTransforms,s,a.transformResults);u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Ia?function(i,s,a){if(!Wp(i.precondition,s))return void s.convertToUnknownDocument(a.version);const u=FI(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(gk(i)),c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function xd(t,e,n,r){return t instanceof bh?function(s,a,u,c){if(!Wp(s.precondition,a))return u;const h=s.value.clone(),p=VI(s.fieldTransforms,c,a);return h.setAll(p),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ia?function(s,a,u,c){if(!Wp(s.precondition,a))return u;const h=VI(s.fieldTransforms,c,a),p=a.data;return p.setAll(gk(s)),p.setAll(h),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,a,u){return Wp(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(t,e,n)}function pW(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ck(r.transform,i||null);s!=null&&(n===null&&(n=Fr.empty()),n.set(r.field,s))}return n||null}function MI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$u(r,i,(s,a)=>dW(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bh extends zm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ia extends zm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function gk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function FI(t,e,n){const r=new Map;$t(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,u=e.data.field(s.field);r.set(s.field,cW(a,u,n[i]))}return r}function VI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,uW(s,a,e))}return r}class mk extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gW extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&fW(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ak();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=n.has(i.key)?null:u;const c=pk(a,u);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ft())}isEqual(e){return this.batchId===e.batchId&&$u(this.mutations,e.mutations,(n,r)=>MI(n,r))&&$u(this.baseMutations,e.baseMutations,(n,r)=>MI(n,r))}}class lE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$t(e.mutations.length===r.length);let i=function(){return iW}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new lE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn,_t;function _W(t){switch(t){default:return Ke();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function vk(t){if(t===void 0)return _o("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Tn.OK:return ue.OK;case Tn.CANCELLED:return ue.CANCELLED;case Tn.UNKNOWN:return ue.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return ue.INTERNAL;case Tn.UNAVAILABLE:return ue.UNAVAILABLE;case Tn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Tn.NOT_FOUND:return ue.NOT_FOUND;case Tn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Tn.ABORTED:return ue.ABORTED;case Tn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Tn.DATA_LOSS:return ue.DATA_LOSS;default:return Ke()}}(_t=Tn||(Tn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW=new rl([4294967295,4294967295],0);function UI(t){const e=wW().encode(t),n=new Ub;return n.update(e),new Uint8Array(n.digest())}function jI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new rl([n,r],0),new rl([i,s],0)]}class uE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sd(`Invalid padding: ${n}`);if(r<0)throw new sd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=rl.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(rl.fromNumber(r)));return i.compare(EW)===1&&(i=new rl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=UI(e),[r,i]=jI(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new uE(s,i,n);return r.forEach(u=>a.insert(u)),a}insert(e){if(this.Ie===0)return;const n=UI(e),[r,i]=jI(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,kh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wm(Ye.min(),i,new sn(At),wo(),ft())}}class kh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new kh(r,n,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class yk{constructor(e,n){this.targetId=e,this.me=n}}class _k{constructor(e,n,r=fr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class BI{constructor(){this.fe=0,this.ge=zI(),this.pe=fr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ft(),n=ft(),r=ft();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ke()}}),new kh(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=zI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$t(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class SW{constructor(e){this.Le=e,this.Be=new Map,this.ke=wo(),this.qe=$I(),this.Qe=new sn(At)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ke()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(w_(s))if(r===0){const a=new Ve(s.path);this.Ue(n,a,dr.newNoDocument(a,Ye.min()))}else $t(r===1);else{const a=this.Ye(n);if(a!==r){const u=this.Ze(e),c=u?this.Xe(u,e,a):1;if(c!==0){this.je(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,u;try{a=pl(r).toUint8Array()}catch(c){if(c instanceof Qb)return Bu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new uE(a,i,s)}catch(c){return Bu(c instanceof sd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const u=this.Je(a);if(u){if(s.current&&w_(u.target)){const c=new Ve(u.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,dr.newNoDocument(c,e))}s.be&&(n.set(a,s.Ce()),s.ve())}});let r=ft();this.qe.forEach((s,a)=>{let u=!0;a.forEachWhile(c=>{const h=this.Je(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new Wm(e,n,this.Qe,this.ke,r);return this.ke=wo(),this.qe=$I(),this.Qe=new sn(At),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new BI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Jn(At),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new BI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function $I(){return new sn(Ve.comparator)}function zI(){return new sn(Ve.comparator)}const TW={asc:"ASCENDING",desc:"DESCENDING"},xW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IW={and:"AND",or:"OR"};class CW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function S_(t,e){return t.useProto3Json||Fm(e)?e:{value:e}}function Kg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AW(t,e){return Kg(t,e.toTimestamp())}function Rs(t){return $t(!!t),Ye.fromTimestamp(function(n){const r=ya(n);return new Vn(r.seconds,r.nanos)}(t))}function cE(t,e){return T_(t,e).canonicalString()}function T_(t,e){const n=function(i){return new Xt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Ek(t){const e=Xt.fromString(t);return $t(Ck(e)),e}function x_(t,e){return cE(t.databaseId,e.path)}function Uy(t,e){const n=Ek(e);if(n.get(1)!==t.databaseId.projectId)throw new Le(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Le(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve(Tk(n))}function Sk(t,e){return cE(t.databaseId,e)}function PW(t){const e=Ek(t);return e.length===4?Xt.emptyPath():Tk(e)}function I_(t){return new Xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Tk(t){return $t(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function WI(t,e,n){return{name:x_(t,e),fields:n.value.mapValue.fields}}function RW(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,p){return h.useProto3Json?($t(p===void 0||typeof p=="string"),fr.fromBase64String(p||"")):($t(p===void 0||p instanceof Buffer||p instanceof Uint8Array),fr.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(h){const p=h.code===void 0?ue.UNKNOWN:vk(h.code);return new Le(p,h.message||"")}(a);n=new _k(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Uy(t,r.document.name),s=Rs(r.document.updateTime),a=r.document.createTime?Rs(r.document.createTime):Ye.min(),u=new Fr({mapValue:{fields:r.document.fields}}),c=dr.newFoundDocument(i,s,a,u),h=r.targetIds||[],p=r.removedTargetIds||[];n=new qp(h,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Uy(t,r.document),s=r.readTime?Rs(r.readTime):Ye.min(),a=dr.newNoDocument(i,s),u=r.removedTargetIds||[];n=new qp([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Uy(t,r.document),s=r.removedTargetIds||[];n=new qp([],s,i,null)}else{if(!("filter"in e))return Ke();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new yW(i,s),u=r.targetId;n=new yk(u,a)}}return n}function bW(t,e){let n;if(e instanceof bh)n={update:WI(t,e.key,e.value)};else if(e instanceof mk)n={delete:x_(t,e.key)};else if(e instanceof Ia)n={update:WI(t,e.key,e.data),updateMask:UW(e.fieldMask)};else{if(!(e instanceof gW))return Ke();n={verify:x_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const u=a.transform;if(u instanceof qg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof sh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof oh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Hg)return{fieldPath:a.field.canonicalString(),increment:u.Pe};throw Ke()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:AW(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ke()}(t,e.precondition)),n}function kW(t,e){return t&&t.length>0?($t(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?Rs(i.updateTime):Rs(s);return a.isEqual(Ye.min())&&(a=Rs(s)),new hW(a,i.transformResults||[])}(n,e))):[]}function NW(t,e){return{documents:[Sk(t,e.path)]}}function OW(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Sk(t,i);const s=function(h){if(h.length!==0)return Ik(Ns.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(p=>function(y){return{field:nu(y.field),direction:MW(y.dir)}}(p))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=S_(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function DW(t){let e=PW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$t(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(m){const y=xk(m);return y instanceof Ns&&Zb(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(y=>function(R){return new Wg(ru(R.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(y))}(n.orderBy));let u=null;n.limit&&(u=function(m){let y;return y=typeof m=="object"?m.value:m,Fm(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(m){const y=!!m.before,A=m.values||[];return new zg(A,y)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const y=!m.before,A=m.values||[];return new zg(A,y)}(n.endAt)),Jz(e,i,a,s,u,"F",c,h)}function LW(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ru(n.unaryFilter.field);return Mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ru(n.unaryFilter.field);return Mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ru(n.unaryFilter.field);return Mn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ru(n.unaryFilter.field);return Mn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}}(t):t.fieldFilter!==void 0?function(n){return Mn.create(ru(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ns.create(n.compositeFilter.filters.map(r=>xk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ke()}}(n.compositeFilter.op))}(t):Ke()}function MW(t){return TW[t]}function FW(t){return xW[t]}function VW(t){return IW[t]}function nu(t){return{fieldPath:t.canonicalString()}}function ru(t){return Yn.fromServerFormat(t.fieldPath)}function Ik(t){return t instanceof Mn?function(n){if(n.op==="=="){if(bI(n.value))return{unaryFilter:{field:nu(n.field),op:"IS_NAN"}};if(RI(n.value))return{unaryFilter:{field:nu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bI(n.value))return{unaryFilter:{field:nu(n.field),op:"IS_NOT_NAN"}};if(RI(n.value))return{unaryFilter:{field:nu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nu(n.field),op:FW(n.op),value:n.value}}}(t):t instanceof Ns?function(n){const r=n.getFilters().map(i=>Ik(i));return r.length===1?r[0]:{compositeFilter:{op:VW(n.op),filters:r}}}(t):Ke()}function UW(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ck(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n,r,i,s=Ye.min(),a=Ye.min(),u=fr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Zo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e){this.ct=e}}function BW(t){const e=DW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?E_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(){this._n=new zW}addToCollectionParentIndex(e,n){return this._n.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(va.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(va.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class zW{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jn(Xt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jn(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new qu(0)}static Ln(){return new qu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(){this.changes=new rc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&xd(r.mutation,i,ri.empty(),Vn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ft()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ft()){const i=Ja();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=id();return s.forEach((u,c)=>{a=a.insert(u,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Ja();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ft()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,u)=>{n.set(a,u)})})}computeViews(e,n,r,i){let s=wo();const a=Td(),u=function(){return Td()}();return n.forEach((c,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Ia)?s=s.insert(h.key,h):p!==void 0?(a.set(h.key,p.mutation.getFieldMask()),xd(p.mutation,h,p.mutation.getFieldMask(),Vn.now())):a.set(h.key,ri.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,p)=>a.set(h,p)),n.forEach((h,p)=>{var m;return u.set(h,new qW(p,(m=a.get(h))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Td();let i=new sn((a,u)=>a-u),s=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const u of a)u.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let p=r.get(c)||ri.empty();p=u.applyToLocalView(h,p),r.set(c,p);const m=(i.get(u.batchId)||ft()).add(c);i=i.insert(u.batchId,m)})}).next(()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,p=c.value,m=ak();p.forEach(y=>{if(!s.has(y)){const A=pk(n.get(y),r.get(y));A!==null&&m.set(y,A),s=s.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,m))}return ce.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Ve.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Zz(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ce.resolve(Ja());let u=-1,c=s;return a.next(h=>ce.forEach(h,(p,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),s.get(p)?ce.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{c=c.insert(p,y)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,ft())).next(p=>({batchId:u,changes:ok(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next(r=>{let i=id();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=id();return this.indexManager.getCollectionParents(e,s).next(u=>ce.forEach(u,c=>{const h=function(m,y){return new Vm(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((m,y)=>{a=a.insert(m,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((c,h)=>{const p=h.getKey();a.get(p)===null&&(a=a.insert(p,dr.newInvalidDocument(p)))});let u=id();return a.forEach((c,h)=>{const p=s.get(c);p!==void 0&&xd(p.mutation,h,ri.empty(),Vn.now()),Bm(n,h)&&(u=u.insert(c,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return ce.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Rs(i.createTime)}}(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:BW(i.bundledQuery),readTime:Rs(i.readTime)}}(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(){this.overlays=new sn(Ve.comparator),this.hr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ja();return ce.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const i=Ja(),s=n.length+1,a=new Ve(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new sn((h,p)=>h-p);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=Ja(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=Ja(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,p)=>u.set(h,p)),!(u.size()>=i)););return ce.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new vW(n,r));let s=this.hr.get(n);s===void 0&&(s=ft(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.Pr=new Jn(zn.Ir),this.Tr=new Jn(zn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new zn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new zn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Ve(new Xt([])),r=new zn(n,e),i=new zn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],a=>{this.Ar(a),s.push(a.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Ve(new Xt([])),r=new zn(n,e),i=new zn(n,e+1);let s=ft();return this.Tr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new zn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Ve.comparator(e.key,n.key)||At(e.pr,n.pr)}static Er(e,n){return At(e.pr,n.pr)||Ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Jn(zn.Ir)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new mW(s,n,r,i);this.mutationQueue.push(a);for(const u of i)this.wr=this.wr.add(new zn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ce.resolve(a)}lookupMutationBatch(e,n){return ce.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zn(n,0),i=new zn(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],a=>{const u=this.Sr(a.pr);s.push(u)}),ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jn(At);return n.forEach(i=>{const s=new zn(i,0),a=new zn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,a],u=>{r=r.add(u.pr)})}),ce.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ve.isDocumentKey(s)||(s=s.child(""));const a=new zn(new Ve(s),0);let u=new Jn(At);return this.wr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(c.pr)),!0)},a),ce.resolve(this.Dr(u))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){$t(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return ce.forEach(n.mutations,i=>{const s=new zn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new zn(n,0),i=this.wr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(e){this.vr=e,this.docs=function(){return new sn(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(n))}getEntries(e,n){let r=wo();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():dr.newInvalidDocument(i))}),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=wo();const a=n.path,u=new Ve(a.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||Dz(Oz(p),r)<=0||(i.has(p.key)||Bm(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ce.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ke()}Fr(e,n){return ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new XW(this)}getSize(e){return ce.resolve(this.size)}}class XW extends WW{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),ce.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(e){this.persistence=e,this.Mr=new rc(n=>oE(n),aE),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.Or=0,this.Nr=new dE,this.targetCount=0,this.Lr=qu.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),ce.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new qu(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.qn(n),ce.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Mr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),ce.waitFor(s).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),ce.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(e,n){this.Br={},this.overlays={},this.kr=new nE(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new JW(this),this.indexManager=new $W,this.remoteDocumentCache=function(i){return new YW(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new jW(n),this.$r=new KW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new QW(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Re("MemoryPersistence","Starting transaction:",e);const i=new eq(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return ce.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class eq extends Mz{constructor(e){super(),this.currentSequenceNumber=e}}class hE{constructor(e){this.persistence=e,this.zr=new dE,this.jr=null}static Hr(e){return new hE(e)}get Jr(){if(this.jr)return this.jr;throw Ke()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),ce.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Jr,r=>{const i=Ve.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Ye.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return ce.or([()=>ce.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ft(),i=ft();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new fE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return M7()?8:Fz(er())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new tq;return this.Ji(e,n,a).next(u=>{if(s.result=u,this.Ui)return this.Yi(e,n,a,u.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Kc()<=mt.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",tu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ce.resolve()):(Kc()<=mt.DEBUG&&Re("QueryEngine","Query:",tu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Kc()<=mt.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",tu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ps(n))):ce.resolve())}ji(e,n){if(DI(n))return ce.resolve(null);let r=Ps(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=E_(n,null,"F"),r=Ps(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=ft(...s);return this.zi.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.Zi(n,u);return this.Xi(n,h,a,c.readTime)?this.ji(e,E_(n,null,"F")):this.es(e,h,n,c)}))})))}Hi(e,n,r,i){return DI(n)||i.isEqual(Ye.min())?ce.resolve(null):this.zi.getDocuments(e,r).next(s=>{const a=this.Zi(n,s);return this.Xi(n,a,r,i)?ce.resolve(null):(Kc()<=mt.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tu(n)),this.es(e,a,n,Nz(i,-1)).next(u=>u))})}Zi(e,n){let r=new Jn(ik(e));return n.forEach((i,s)=>{Bm(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Kc()<=mt.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",tu(n)),this.zi.getDocumentsMatchingQuery(e,n,va.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new sn(At),this.rs=new rc(s=>oE(s),aE),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HW(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function iq(t,e,n,r){return new rq(t,e,n,r)}async function Ak(t,e){const n=Je(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],u=[];let c=ft();for(const h of i){a.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}for(const h of s){u.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next(h=>({us:h,removedBatchIds:a,addedBatchIds:u}))})})}function sq(t,e){const n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(u,c,h,p){const m=h.batch,y=m.keys();let A=ce.resolve();return y.forEach(R=>{A=A.next(()=>p.getEntry(c,R)).next(I=>{const N=h.docVersions.get(R);$t(N!==null),I.version.compareTo(N)<0&&(m.applyToRemoteDocument(I,h),I.isValidDocument()&&(I.setReadTime(h.commitVersion),p.addEntry(I)))})}),A.next(()=>u.mutationQueue.removeMutationBatch(c,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=ft();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(c=c.add(u.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Pk(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function oq(t,e){const n=Je(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const u=[];e.targetChanges.forEach((p,m)=>{const y=i.get(m);if(!y)return;u.push(n.Qr.removeMatchingKeys(s,p.removedDocuments,m).next(()=>n.Qr.addMatchingKeys(s,p.addedDocuments,m)));let A=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?A=A.withResumeToken(fr.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):p.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(p.resumeToken,r)),i=i.insert(m,A),function(I,N,S){return I.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(y,A,p)&&u.push(n.Qr.updateTargetData(s,A))});let c=wo(),h=ft();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),u.push(aq(s,a,e.documentUpdates).next(p=>{c=p.cs,h=p.ls})),!r.isEqual(Ye.min())){const p=n.Qr.getLastRemoteSnapshotVersion(s).next(m=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(p)}return ce.waitFor(u).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(n.ns=i,s))}function aq(t,e,n){let r=ft(),i=ft();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=wo();return n.forEach((u,c)=>{const h=s.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Ye.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):Re("LocalStore","Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)}),{cs:a,ls:i}})}function lq(t,e){const n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uq(t,e){const n=Je(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,ce.resolve(i)):n.Qr.allocateTargetId(r).next(a=>(i=new Zo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function C_(t,e,n){const r=Je(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Rh(a))throw a;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function qI(t,e,n){const r=Je(t);let i=Ye.min(),s=ft();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,h,p){const m=Je(c),y=m.rs.get(p);return y!==void 0?ce.resolve(m.ns.get(y)):m.Qr.getTargetData(h,p)}(r,a,Ps(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,u.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?i:Ye.min(),n?s:ft())).next(u=>(cq(r,tW(e),u),{documents:u,hs:s})))}function cq(t,e,n){let r=t.ss.get(e)||Ye.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class HI{constructor(){this.activeTargetIds=aW()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dq{constructor(){this.no=new HI,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new HI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fp=null;function jy(){return fp===null?fp=function(){return 268435456+Math.round(2147483648*Math.random())}():fp++,"0x"+fp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="WebChannelConnection";class gq extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,a){const u=jy(),c=this.vo(n,r.toUriEncodedString());Re("RestConnection",`Sending RPC '${n}' ${u}:`,c,i);const h={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(h,s,a),this.Mo(n,c,h,i).then(p=>(Re("RestConnection",`Received RPC '${n}' ${u}: `,p),p),p=>{throw Bu("RestConnection",`RPC '${n}' ${u} failed with error: `,p,"url: ",c,"request:",i),p})}xo(n,r,i,s,a,u){return this.Co(n,r,i,s,a)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}vo(n,r){const i=fq[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=jy();return new Promise((a,u)=>{const c=new jb;c.setWithCredentials(!0),c.listenOnce($b.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case $p.NO_ERROR:const p=c.getResponseJson();Re(ar,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case $p.TIMEOUT:Re(ar,`RPC '${e}' ${s} timed out`),u(new Le(ue.DEADLINE_EXCEEDED,"Request time out"));break;case $p.HTTP_ERROR:const m=c.getStatus();if(Re(ar,`RPC '${e}' ${s} failed with status:`,m,"response text:",c.getResponseText()),m>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const A=y==null?void 0:y.error;if(A&&A.status&&A.message){const R=function(N){const S=N.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(S)>=0?S:ue.UNKNOWN}(A.status);u(new Le(R,A.message))}else u(new Le(ue.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Le(ue.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Re(ar,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);Re(ar,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)})}Oo(e,n,r){const i=jy(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=qb(),u=Wb(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.xmlHttpFactory=new Bb({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=s.join("");Re(ar,`Creating RPC '${e}' stream ${i}: ${p}`,c);const m=a.createWebChannel(p,c);let y=!1,A=!1;const R=new pq({lo:N=>{A?Re(ar,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(y||(Re(ar,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),Re(ar,`RPC '${e}' stream ${i} sending:`,N),m.send(N))},ho:()=>m.close()}),I=(N,S,E)=>{N.listen(S,P=>{try{E(P)}catch(j){setTimeout(()=>{throw j},0)}})};return I(m,rd.EventType.OPEN,()=>{A||(Re(ar,`RPC '${e}' stream ${i} transport opened.`),R.mo())}),I(m,rd.EventType.CLOSE,()=>{A||(A=!0,Re(ar,`RPC '${e}' stream ${i} transport closed`),R.po())}),I(m,rd.EventType.ERROR,N=>{A||(A=!0,Bu(ar,`RPC '${e}' stream ${i} transport errored:`,N),R.po(new Le(ue.UNAVAILABLE,"The operation could not be completed")))}),I(m,rd.EventType.MESSAGE,N=>{var S;if(!A){const E=N.data[0];$t(!!E);const P=E,j=P.error||((S=P[0])===null||S===void 0?void 0:S.error);if(j){Re(ar,`RPC '${e}' stream ${i} received error:`,j);const K=j.status;let Q=function(k){const L=Tn[k];if(L!==void 0)return vk(L)}(K),x=j.message;Q===void 0&&(Q=ue.INTERNAL,x="Unknown error status: "+K+" with message "+j.message),A=!0,R.po(new Le(Q,x)),m.close()}else Re(ar,`RPC '${e}' stream ${i} received:`,E),R.yo(E)}}),I(u,zb.STAT_EVENT,N=>{N.stat===m_.PROXY?Re(ar,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===m_.NOPROXY&&Re(ar,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.fo()},0),R}}function By(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t){return new CW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n,r,i,s,a,u,c){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Rk(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(_o(n.toString()),_o("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new Le(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mq extends bk{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=RW(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ye.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ye.min():a.readTime?Rs(a.readTime):Ye.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=I_(this.serializer),n.addTarget=function(s,a){let u;const c=a.target;if(u=w_(c)?{documents:NW(s,c)}:{query:OW(s,c)._t},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=wk(s,a.resumeToken);const h=S_(s,a.expectedCount);h!==null&&(u.expectedCount=h)}else if(a.snapshotVersion.compareTo(Ye.min())>0){u.readTime=Kg(s,a.snapshotVersion.toTimestamp());const h=S_(s,a.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=LW(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=I_(this.serializer),n.removeTarget=e,this.i_(n)}}class vq extends bk{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if($t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=kW(e.writeResults,e.commitTime),r=Rs(e.commitTime);return this.listener.A_(r,n)}return $t(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=I_(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bW(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Le(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,T_(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Le(ue.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.xo(e,T_(n,r),i,a,u,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Le(ue.UNKNOWN,a.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class _q{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(_o(n),this.y_=!1):Re("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(a=>{r.enqueueAndForget(async()=>{Tl(this)&&(Re("RemoteStore","Restarting streams for network reachability change."),await async function(c){const h=Je(c);h.M_.add(4),await Nh(h),h.N_.set("Unknown"),h.M_.delete(4),await Hm(h)}(this))})}),this.N_=new _q(r,i)}}async function Hm(t){if(Tl(t))for(const e of t.x_)await e(!0)}async function Nh(t){for(const e of t.x_)await e(!1)}function kk(t,e){const n=Je(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),vE(n)?mE(n):ic(n).Xo()&&gE(n,e))}function pE(t,e){const n=Je(t),r=ic(n);n.F_.delete(e),r.Xo()&&Nk(n,e),n.F_.size===0&&(r.Xo()?r.n_():Tl(n)&&n.N_.set("Unknown"))}function gE(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ic(t).P_(e)}function Nk(t,e){t.L_.xe(e),ic(t).I_(e)}function mE(t){t.L_=new SW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ic(t).start(),t.N_.w_()}function vE(t){return Tl(t)&&!ic(t).Zo()&&t.F_.size>0}function Tl(t){return Je(t).M_.size===0}function Ok(t){t.L_=void 0}async function Eq(t){t.N_.set("Online")}async function Sq(t){t.F_.forEach((e,n)=>{gE(t,e)})}async function Tq(t,e){Ok(t),vE(t)?(t.N_.D_(e),mE(t)):t.N_.set("Unknown")}async function xq(t,e,n){if(t.N_.set("Online"),e instanceof _k&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const u of s.targetIds)i.F_.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.F_.delete(u),i.L_.removeTarget(u))}(t,e)}catch(r){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gg(t,r)}else if(e instanceof qp?t.L_.Ke(e):e instanceof yk?t.L_.He(e):t.L_.We(e),!n.isEqual(Ye.min()))try{const r=await Pk(t.localStore);n.compareTo(r)>=0&&await function(s,a){const u=s.L_.rt(a);return u.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const p=s.F_.get(h);p&&s.F_.set(h,p.withResumeToken(c.resumeToken,a))}}),u.targetMismatches.forEach((c,h)=>{const p=s.F_.get(c);if(!p)return;s.F_.set(c,p.withResumeToken(fr.EMPTY_BYTE_STRING,p.snapshotVersion)),Nk(s,c);const m=new Zo(p.target,c,h,p.sequenceNumber);gE(s,m)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){Re("RemoteStore","Failed to raise snapshot:",r),await Gg(t,r)}}async function Gg(t,e,n){if(!Rh(e))throw e;t.M_.add(1),await Nh(t),t.N_.set("Offline"),n||(n=()=>Pk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Re("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Hm(t)})}function Dk(t,e){return e().catch(n=>Gg(t,n,e))}async function Km(t){const e=Je(t),n=_a(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Iq(e);)try{const i=await lq(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,Cq(e,i)}catch(i){await Gg(e,i)}Lk(e)&&Mk(e)}function Iq(t){return Tl(t)&&t.v_.length<10}function Cq(t,e){t.v_.push(e);const n=_a(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function Lk(t){return Tl(t)&&!_a(t).Zo()&&t.v_.length>0}function Mk(t){_a(t).start()}async function Aq(t){_a(t).V_()}async function Pq(t){const e=_a(t);for(const n of t.v_)e.d_(n.mutations)}async function Rq(t,e,n){const r=t.v_.shift(),i=lE.from(r,e,n);await Dk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Km(t)}async function bq(t,e){e&&_a(t).E_&&await async function(r,i){if(function(a){return _W(a)&&a!==ue.ABORTED}(i.code)){const s=r.v_.shift();_a(r).t_(),await Dk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Km(r)}}(t,e),Lk(t)&&Mk(t)}async function GI(t,e){const n=Je(t);n.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const r=Tl(n);n.M_.add(3),await Nh(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Hm(n)}async function kq(t,e){const n=Je(t);e?(n.M_.delete(2),await Hm(n)):e||(n.M_.add(2),await Nh(n),n.N_.set("Unknown"))}function ic(t){return t.B_||(t.B_=function(n,r,i){const s=Je(n);return s.f_(),new mq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Eq.bind(null,t),To:Sq.bind(null,t),Ao:Tq.bind(null,t),h_:xq.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),vE(t)?mE(t):t.N_.set("Unknown")):(await t.B_.stop(),Ok(t))})),t.B_}function _a(t){return t.k_||(t.k_=function(n,r,i){const s=Je(n);return s.f_(),new vq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:Aq.bind(null,t),Ao:bq.bind(null,t),R_:Pq.bind(null,t),A_:Rq.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Km(t)):(await t.k_.stop(),t.v_.length>0&&(Re("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,u=new yE(e,n,a,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _E(t,e){if(_o("AsyncQueue",`${e}: ${t}`),Rh(t))return new Le(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ve.comparator(n.key,r.key):(n,r)=>Ve.comparator(n.key,r.key),this.keyedMap=id(),this.sortedSet=new sn(this.comparator)}static emptySet(e){return new Ru(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ru)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ru;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.q_=new sn(Ve.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Ke():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Hu{constructor(e,n,r,i,s,a,u,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(u=>{a.push({type:0,doc:u})}),new Hu(e,n,Ru.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Oq{constructor(){this.queries=new rc(e=>rk(e),jm),this.onlineState="Unknown",this.z_=new Set}}async function Fk(t,e){const n=Je(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new Nq,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const u=_E(a,`Initialization of query '${tu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&wE(n)}async function Vk(t,e){const n=Je(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.U_.indexOf(e);a>=0&&(s.U_.splice(a,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Dq(t,e){const n=Je(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const u of a.U_)u.H_(i)&&(r=!0);a.K_=i}}r&&wE(n)}function Lq(t,e,n){const r=Je(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function wE(t){t.z_.forEach(e=>{e.next()})}var A_,YI;(YI=A_||(A_={})).J_="default",YI.Cache="cache";class Uk{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==A_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.key=e}}class Bk{constructor(e){this.key=e}}class Mq{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ft(),this.mutatedKeys=ft(),this.Ia=ik(e),this.Ta=new Ru(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new QI,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const y=i.get(p),A=Bm(this.query,m)?m:null,R=!!y&&this.mutatedKeys.has(y.key),I=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let N=!1;y&&A?y.data.isEqual(A.data)?R!==I&&(r.track({type:3,doc:A}),N=!0):this.Ra(y,A)||(r.track({type:2,doc:A}),N=!0,(c&&this.Ia(A,c)>0||h&&this.Ia(A,h)<0)&&(u=!0)):!y&&A?(r.track({type:0,doc:A}),N=!0):y&&!A&&(r.track({type:1,doc:y}),N=!0,(c||h)&&(u=!0)),N&&(A?(a=a.add(A),s=I?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ta:a,Aa:r,Xi:u,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const a=e.Aa.Q_();a.sort((p,m)=>function(A,R){const I=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return I(A)-I(R)}(p.type,m.type)||this.Ia(p.doc,m.doc)),this.Va(r),i=i!=null&&i;const u=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,h=c!==this.ha;return this.ha=c,a.length!==0||h?{snapshot:new Hu(this.query,e.Ta,s,a,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:u}:{fa:u}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new QI,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ft(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Bk(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new jk(r))}),n}pa(e){this.la=e.hs,this.Pa=ft();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Hu.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class Fq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Vq{constructor(e){this.key=e,this.wa=!1}}class Uq{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Sa={},this.ba=new rc(u=>rk(u),jm),this.Da=new Map,this.Ca=new Set,this.va=new sn(Ve.comparator),this.Fa=new Map,this.Ma=new dE,this.xa={},this.Oa=new Map,this.Na=qu.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function jq(t,e,n=!0){const r=Kk(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await $k(r,e,n,!0),i}async function Bq(t,e){const n=Kk(t);await $k(n,e,!0,!1)}async function $k(t,e,n,r){const i=await uq(t.localStore,Ps(e)),s=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let u;return r&&(u=await $q(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&kk(t.remoteStore,i),u}async function $q(t,e,n,r,i){t.Ba=(m,y,A)=>async function(I,N,S,E){let P=N.view.da(S);P.Xi&&(P=await qI(I.localStore,N.query,!1).then(({documents:x})=>N.view.da(x,P)));const j=E&&E.targetChanges.get(N.targetId),K=E&&E.targetMismatches.get(N.targetId)!=null,Q=N.view.applyChanges(P,I.isPrimaryClient,j,K);return JI(I,N.targetId,Q.fa),Q.snapshot}(t,m,y,A);const s=await qI(t.localStore,e,!0),a=new Mq(e,s.hs),u=a.da(s.documents),c=kh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=a.applyChanges(u,t.isPrimaryClient,c);JI(t,n,h.fa);const p=new Fq(e,n,a);return t.ba.set(e,p),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),h.snapshot}async function zq(t,e,n){const r=Je(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(a=>!jm(a,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await C_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&pE(r.remoteStore,i.targetId),P_(r,i.targetId)}).catch(Ph)):(P_(r,i.targetId),await C_(r.localStore,i.targetId,!0))}async function Wq(t,e){const n=Je(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pE(n.remoteStore,r.targetId))}async function qq(t,e,n){const r=Jq(t);try{const i=await function(a,u){const c=Je(a),h=Vn.now(),p=u.reduce((A,R)=>A.add(R.key),ft());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",A=>{let R=wo(),I=ft();return c.os.getEntries(A,p).next(N=>{R=N,R.forEach((S,E)=>{E.isValidDocument()||(I=I.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(A,R)).next(N=>{m=N;const S=[];for(const E of u){const P=pW(E,m.get(E.key).overlayedDocument);P!=null&&S.push(new Ia(E.key,P,Yb(P.value.mapValue),Qi.exists(!0)))}return c.mutationQueue.addMutationBatch(A,h,S,u)}).next(N=>{y=N;const S=N.applyToLocalDocumentSet(m,I);return c.documentOverlayCache.saveOverlays(A,N.batchId,S)})}).then(()=>({batchId:y.batchId,changes:ok(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,c){let h=a.xa[a.currentUser.toKey()];h||(h=new sn(At)),h=h.insert(u,c),a.xa[a.currentUser.toKey()]=h}(r,i.batchId,n),await Oh(r,i.changes),await Km(r.remoteStore)}catch(i){const s=_E(i,"Failed to persist write");n.reject(s)}}async function zk(t,e){const n=Je(t);try{const r=await oq(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Fa.get(s);a&&($t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.wa=!0:i.modifiedDocuments.size>0?$t(a.wa):i.removedDocuments.size>0&&($t(a.wa),a.wa=!1))}),await Oh(n,r,e)}catch(r){await Ph(r)}}function XI(t,e,n){const r=Je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,a)=>{const u=a.view.j_(e);u.snapshot&&i.push(u.snapshot)}),function(a,u){const c=Je(a);c.onlineState=u;let h=!1;c.queries.forEach((p,m)=>{for(const y of m.U_)y.j_(u)&&(h=!0)}),h&&wE(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Hq(t,e,n){const r=Je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let a=new sn(Ve.comparator);a=a.insert(s,dr.newNoDocument(s,Ye.min()));const u=ft().add(s),c=new Wm(Ye.min(),new Map,new sn(At),a,u);await zk(r,c),r.va=r.va.remove(s),r.Fa.delete(e),EE(r)}else await C_(r.localStore,e,!1).then(()=>P_(r,e,n)).catch(Ph)}async function Kq(t,e){const n=Je(t),r=e.batch.batchId;try{const i=await sq(n.localStore,e);qk(n,r,null),Wk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Oh(n,i)}catch(i){await Ph(i)}}async function Gq(t,e,n){const r=Je(t);try{const i=await function(a,u){const c=Je(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return c.mutationQueue.lookupMutationBatch(h,u).next(m=>($t(m!==null),p=m.keys(),c.mutationQueue.removeMutationBatch(h,m))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,p,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>c.localDocuments.getDocuments(h,p))})}(r.localStore,e);qk(r,e,n),Wk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Oh(r,i)}catch(i){await Ph(i)}}function Wk(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function qk(t,e,n){const r=Je(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function P_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||Hk(t,r)})}function Hk(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(pE(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),EE(t))}function JI(t,e,n){for(const r of n)r instanceof jk?(t.Ma.addReference(r.key,e),Qq(t,r)):r instanceof Bk?(Re("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||Hk(t,r.key)):Ke()}function Qq(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Re("SyncEngine","New document in limbo: "+n),t.Ca.add(r),EE(t))}function EE(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new Ve(Xt.fromString(e)),r=t.Na.next();t.Fa.set(r,new Vq(n)),t.va=t.va.insert(n,r),kk(t.remoteStore,new Zo(Ps(Um(n.path)),r,"TargetPurposeLimboResolution",nE.oe))}}async function Oh(t,e,n){const r=Je(t),i=[],s=[],a=[];r.ba.isEmpty()||(r.ba.forEach((u,c)=>{a.push(r.Ba(c,e,n).then(h=>{if((h||n)&&r.isPrimaryClient){const p=h&&!h.fromCache;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(h){i.push(h);const p=fE.Ki(c.targetId,h);s.push(p)}}))}),await Promise.all(a),r.Sa.h_(i),await async function(c,h){const p=Je(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>ce.forEach(h,y=>ce.forEach(y.qi,A=>p.persistence.referenceDelegate.addReference(m,y.targetId,A)).next(()=>ce.forEach(y.Qi,A=>p.persistence.referenceDelegate.removeReference(m,y.targetId,A)))))}catch(m){if(!Rh(m))throw m;Re("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const A=p.ns.get(y),R=A.snapshotVersion,I=A.withLastLimboFreeSnapshotVersion(R);p.ns=p.ns.insert(y,I)}}}(r.localStore,s))}async function Yq(t,e){const n=Je(t);if(!n.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const r=await Ak(n.localStore,e);n.currentUser=e,function(s,a){s.Oa.forEach(u=>{u.forEach(c=>{c.reject(new Le(ue.CANCELLED,a))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Oh(n,r.us)}}function Xq(t,e){const n=Je(t),r=n.Fa.get(e);if(r&&r.wa)return ft().add(r.key);{let i=ft();const s=n.Da.get(e);if(!s)return i;for(const a of s){const u=n.ba.get(a);i=i.unionWith(u.view.Ea)}return i}}function Kk(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hq.bind(null,e),e.Sa.h_=Dq.bind(null,e.eventManager),e.Sa.ka=Lq.bind(null,e.eventManager),e}function Jq(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Kq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gq.bind(null,e),e}class ZI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=qm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return iq(this.persistence,new nq,e.initialUser,this.serializer)}createPersistence(e){return new ZW(hE.Hr,this.serializer)}createSharedClientState(e){return new dq}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Zq{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>XI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yq.bind(null,this.syncEngine),await kq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Oq}()}createDatastore(e){const n=qm(e.databaseInfo.databaseId),r=function(s){return new gq(s)}(e.databaseInfo);return function(s,a,u,c){return new yq(s,a,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,u){return new wq(r,i,s,a,u)}(this.localStore,this.datastore,e.asyncQueue,n=>XI(this.syncEngine,n,0),function(){return KI.D()?new KI:new hq}())}createSyncEngine(e,n){return function(i,s,a,u,c,h,p){const m=new Uq(i,s,a,u,c,h);return p&&(m.La=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Je(r);Re("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Nh(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):_o("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ur.UNAUTHENTICATED,this.clientId=Kb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Re("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Re("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_E(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $y(t,e){t.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Ak(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function eC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nH(t);Re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>GI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>GI(e.remoteStore,i)),t._onlineComponents=e}function tH(t){return t.name==="FirebaseError"?t.code===ue.FAILED_PRECONDITION||t.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function nH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re("FirestoreClient","Using user provided OfflineComponentProvider");try{await $y(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!tH(n))throw n;Bu("Error using user provided cache. Falling back to memory cache: "+n),await $y(t,new ZI)}}else Re("FirestoreClient","Using default OfflineComponentProvider"),await $y(t,new ZI);return t._offlineComponents}async function Qk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re("FirestoreClient","Using user provided OnlineComponentProvider"),await eC(t,t._uninitializedComponentsProvider._online)):(Re("FirestoreClient","Using default OnlineComponentProvider"),await eC(t,new Zq))),t._onlineComponents}function rH(t){return Qk(t).then(e=>e.syncEngine)}async function R_(t){const e=await Qk(t),n=e.eventManager;return n.onListen=jq.bind(null,e.syncEngine),n.onUnlisten=zq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Bq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Wq.bind(null,e.syncEngine),n}function iH(t,e,n={}){const r=new ha;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,u,c,h){const p=new Gk({next:y=>{a.enqueueAndForget(()=>Vk(s,m));const A=y.docs.has(u);!A&&y.fromCache?h.reject(new Le(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&y.fromCache&&c&&c.source==="server"?h.reject(new Le(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),m=new Uk(Um(u.path),p,{includeMetadataChanges:!0,ra:!0});return Fk(s,m)}(await R_(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t,e,n){if(!n)throw new Le(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sH(t,e,n,r){if(e===!0&&r===!0)throw new Le(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nC(t){if(!Ve.isDocumentKey(t))throw new Le(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rC(t){if(Ve.isDocumentKey(t))throw new Le(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function SE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke()}function Yi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=SE(t);throw new Le(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Le(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Le(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Le(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Le(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Le(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Le(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Le(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Tz;switch(r.type){case"firstParty":return new Az(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Le(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tC.get(n);r&&(Re("ComponentProvider","Removing Datastore"),tC.delete(n),r.terminate())}(this),Promise.resolve()}}function oH(t,e,n,r={}){var i;const s=(t=Yi(t,Gm))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Bu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=ur.MOCK_USER;else{u=b7(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Le(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ur(h)}t._authCredentials=new xz(new Hb(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qm(this.firestore,e,this._query)}}class Ir{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ir(this.firestore,e,this._key)}}class fa extends Qm{constructor(e,n,r){super(e,n,Um(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ir(this.firestore,null,new Ve(e))}withConverter(e){return new fa(this.firestore,e,this._path)}}function Zi(t,e,...n){if(t=_n(t),Xk("collection","path",e),t instanceof Gm){const r=Xt.fromString(e,...n);return rC(r),new fa(t,null,r)}{if(!(t instanceof Ir||t instanceof fa))throw new Le(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return rC(r),new fa(t.firestore,null,r)}}function Ds(t,e,...n){if(t=_n(t),arguments.length===1&&(e=Kb.newId()),Xk("doc","path",e),t instanceof Gm){const r=Xt.fromString(e,...n);return nC(r),new Ir(t,null,new Ve(r))}{if(!(t instanceof Ir||t instanceof fa))throw new Le(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return nC(r),new Ir(t.firestore,t instanceof fa?t.converter:null,new Ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Rk(this,"async_queue_retry"),this.hu=()=>{const n=By();n&&Re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=By();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=By();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new ha;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Rh(e))throw e;Re("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(r);throw _o("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=yE.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&Ke()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function sC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ml extends Gm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new aH}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Jk(this),this._firestoreClient.terminate()}}function lH(t,e){const n=typeof t=="object"?t:nb(),r=typeof t=="string"?t:"(default)",i=Hw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=P7("firestore");s&&oH(i,...s)}return i}function TE(t){return t._firestoreClient||Jk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Jk(t){var e,n,r;const i=t._freezeSettings(),s=function(u,c,h,p){return new jz(u,c,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Yk(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new eH(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ku(fr.fromBase64String(e))}catch(n){throw new Le(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ku(fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Le(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Le(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Le(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return At(this._lat,e._lat)||At(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH=/^__.*__$/;class cH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ia(e,this.data,this.fieldMask,n,this.fieldTransforms):new bh(e,this.data,n,this.fieldTransforms)}}class Zk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ia(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function e2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class CE{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new CE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Qg(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(e2(this.fu)&&uH.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class dH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qm(e)}Fu(e,n,r,i=!1){return new CE({fu:e,methodName:n,vu:r,path:Yn.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AE(t){const e=t._freezeSettings(),n=qm(t._databaseId);return new dH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function t2(t,e,n,r,i,s={}){const a=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);PE("Data must be an object, but it was:",a,r);const u=n2(r,a);let c,h;if(s.merge)c=new ri(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const y=b_(e,m,n);if(!a.contains(y))throw new Le(ue.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);i2(p,y)||p.push(y)}c=new ri(p),h=a.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,h=a.fieldTransforms;return new cH(new Fr(u),c,h)}class Xm extends xE{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xm}}function hH(t,e,n,r){const i=t.Fu(1,e,n);PE("Data must be an object, but it was:",i,r);const s=[],a=Fr.empty();Sl(r,(c,h)=>{const p=RE(e,c,n);h=_n(h);const m=i.Su(p);if(h instanceof Xm)s.push(p);else{const y=Jm(h,m);y!=null&&(s.push(p),a.set(p,y))}});const u=new ri(s);return new Zk(a,u,i.fieldTransforms)}function fH(t,e,n,r,i,s){const a=t.Fu(1,e,n),u=[b_(e,r,n)],c=[i];if(s.length%2!=0)throw new Le(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)u.push(b_(e,s[y])),c.push(s[y+1]);const h=[],p=Fr.empty();for(let y=u.length-1;y>=0;--y)if(!i2(h,u[y])){const A=u[y];let R=c[y];R=_n(R);const I=a.Su(A);if(R instanceof Xm)h.push(A);else{const N=Jm(R,I);N!=null&&(h.push(A),p.set(A,N))}}const m=new ri(h);return new Zk(p,m,a.fieldTransforms)}function Jm(t,e){if(r2(t=_n(t)))return PE("Unsupported field value:",e,t),n2(t,e);if(t instanceof xE)return function(r,i){if(!e2(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const u of r){let c=Jm(u,i.bu(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=_n(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lW(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Vn.fromDate(r);return{timestampValue:Kg(i.serializer,s)}}if(r instanceof Vn){const s=new Vn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kg(i.serializer,s)}}if(r instanceof IE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ku)return{bytesValue:wk(i.serializer,r._byteString)};if(r instanceof Ir){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Du(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cE(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${SE(r)}`)}(t,e)}function n2(t,e){const n={};return Gb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sl(t,(r,i)=>{const s=Jm(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function r2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vn||t instanceof IE||t instanceof Ku||t instanceof Ir||t instanceof xE)}function PE(t,e,n){if(!r2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=SE(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function b_(t,e,n){if((e=_n(e))instanceof Ym)return e._internalPath;if(typeof e=="string")return RE(t,e);throw Qg("Field path arguments must be of type string or ",t,!1,void 0,n)}const pH=new RegExp("[~\\*/\\[\\]]");function RE(t,e,n){if(e.search(pH)>=0)throw Qg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ym(...e.split("."))._internalPath}catch{throw Qg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qg(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Le(ue.INVALID_ARGUMENT,u+t+c)}function i2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ir(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(o2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gH extends s2{data(){return super.data()}}function o2(t,e){return typeof e=="string"?RE(t,e):e instanceof Ym?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Le(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vH{convertValue(e,n="none"){switch(gl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ke()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Sl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new IE(Cn(e.latitude),Cn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=iE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nh(e));default:return null}}convertTimestamp(e){const n=ya(e);return new Vn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xt.fromString(e);$t(Ck(r));const i=new rh(r.get(1),r.get(3)),s=new Ve(r.popFirst(5));return i.isEqual(n)||_o(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class l2 extends s2{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(o2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hp extends l2{data(e={}){return super.data(e)}}class yH{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new od(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hp(this._firestore,this._userDataWriter,r.key,r,new od(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Le(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>{const c=new Hp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new od(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const c=new Hp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new od(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),p=a.indexOf(u.doc.key)),{type:_H(u.type),doc:c,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _H(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(t){t=Yi(t,Ir);const e=Yi(t.firestore,ml);return iH(TE(e),t._key).then(n=>d2(e,t,n))}class u2 extends vH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ku(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ir(this.firestore,null,n)}}function c2(t,e,n){t=Yi(t,Ir);const r=Yi(t.firestore,ml),i=a2(t.converter,e);return bE(r,[t2(AE(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Qi.none())])}function sc(t,e,n,...r){t=Yi(t,Ir);const i=Yi(t.firestore,ml),s=AE(i);let a;return a=typeof(e=_n(e))=="string"||e instanceof Ym?fH(s,"updateDoc",t._key,e,n,r):hH(s,"updateDoc",t._key,e),bE(i,[a.toMutation(t._key,Qi.exists(!0))])}function wH(t,e){const n=Yi(t.firestore,ml),r=Ds(t),i=a2(t.converter,e);return bE(n,[t2(AE(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Qi.exists(!1))]).then(()=>r)}function Yg(t,...e){var n,r,i;t=_n(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||sC(e[a])||(s=e[a],a++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(sC(e[a])){const m=e[a];e[a]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[a+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[a+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,h,p;if(t instanceof Ir)h=Yi(t.firestore,ml),p=Um(t._key.path),c={next:m=>{e[a]&&e[a](d2(h,t,m))},error:e[a+1],complete:e[a+2]};else{const m=Yi(t,Qm);h=Yi(m.firestore,ml),p=m._query;const y=new u2(h);c={next:A=>{e[a]&&e[a](new yH(h,y,m,A))},error:e[a+1],complete:e[a+2]},mH(t._query)}return function(y,A,R,I){const N=new Gk(I),S=new Uk(A,N,R);return y.asyncQueue.enqueueAndForget(async()=>Fk(await R_(y),S)),()=>{N.$a(),y.asyncQueue.enqueueAndForget(async()=>Vk(await R_(y),S))}}(TE(h),p,u,c)}function bE(t,e){return function(r,i){const s=new ha;return r.asyncQueue.enqueueAndForget(async()=>qq(await rH(r),i,s)),s.promise}(TE(t),e)}function d2(t,e,n){const r=n.docs.get(e._key),i=new u2(t);return new l2(t,i,e._key,r,new od(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){nc=i})(tc),Uu(new cl("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),u=new ml(new Iz(r.getProvider("auth-internal")),new Rz(r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Le(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rh(h.options.projectId,p)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),da(II,"4.6.3",e),da(II,"4.6.3","esm2017")})();const EH={apiKey:"AIzaSyCIdRVESOrRuy-MkOawsemsZqcYw5TvQSQ",authDomain:"vint-ecommerce.firebaseapp.com",databaseURL:"https://vint-ecommerce-default-rtdb.firebaseio.com",projectId:"vint-ecommerce",storageBucket:"vint-ecommerce.appspot.com",messagingSenderId:"875924243691",appId:"1:875924243691:web:39c861280476191c30eaae",measurementId:"G-GW51SXRFJ3"},h2=tb(EH),vt=Ez(h2),es=lH(h2),kE=({title:t,text:e})=>_.jsxs("div",{children:[_.jsx("p",{className:"text-base font-bold",children:t}),_.jsx("p",{className:"text-sm font-normal",dangerouslySetInnerHTML:{__html:e}})]}),Fe=(t,e)=>Dt(_.jsx(kE,{...t}),{...e});Fe.success=(t,e)=>Dt.success(_.jsx(kE,{...t}),{...e});Fe.error=({title:t,...e},n)=>Dt.error(_.jsx(kE,{title:t||"Error",...e}),{...n});const oC="Network Error",SH="ECONNABORTED",aC="Request aborted",TH="ERR_ABORTED",xH="canceled",IH="ERR_CANCELED",k_="x-amz-content-sha256",CH=()=>t=>async function(n){if(n.headers[k_])return t(n);{const r=await sA(n.body);return n.headers[k_]=r,t(n)}};class vl extends bs{constructor(e){super(e),this.constructor=vl,Object.setPrototypeOf(this,vl.prototype)}}class Xg extends vl{constructor(e={}){super({name:"CanceledError",message:"Upload is canceled by user",...e}),this.constructor=Xg,Object.setPrototypeOf(this,Xg.prototype)}}const pp=new ii("xhr-http-handler"),AH=(t,e)=>{const{url:n,method:r,headers:i,body:s}=t,{onDownloadProgress:a,onUploadProgress:u,responseType:c,abortSignal:h}=e;return new Promise((p,m)=>{let y=new XMLHttpRequest;if(y.open(r.toUpperCase(),n.toString()),Object.entries(i).filter(([A])=>!bH.includes(A)).forEach(([A,R])=>{y.setRequestHeader(A,R)}),y.responseType=c,a&&y.addEventListener("progress",A=>{a(lC(A)),pp.debug(A)}),u&&y.upload.addEventListener("progress",A=>{u(lC(A)),pp.debug(A)}),y.addEventListener("error",()=>{const A=uC(oC,SH);pp.error(oC),m(A),y=null}),y.addEventListener("abort",()=>{if(!y||h!=null&&h.aborted)return;const A=uC(aC,TH);pp.error(aC),m(A),y=null}),y.addEventListener("readystatechange",()=>{if(!y||y.readyState!==y.DONE)return;setTimeout(()=>{if(!y)return;const R=PH(y.getAllResponseHeaders()),{responseType:I}=y,N=y.response,S=I==="text"?y.responseText:"",E={blob:()=>Promise.resolve(N),text:Sp(()=>I==="blob"?RH(N):Promise.resolve(S)),json:()=>Promise.reject(new Error("Parsing response to JSON is not implemented. Please use response.text() instead."))},P={statusCode:y.status,headers:R,body:y.responseType==="blob"?Object.assign(N,E):E};p(P),y=null})}),h){const A=()=>{if(!y)return;const R=new Xg({name:IH,message:xH});m(R),y.abort(),y=null};h.aborted?A():h.addEventListener("abort",A)}if(typeof ReadableStream=="function"&&s instanceof ReadableStream)throw new Error("ReadableStream request payload is not supported.");y.send(s??null)})},lC=t=>({transferredBytes:t.loaded,totalBytes:t.lengthComputable?t.total:void 0}),uC=(t,e)=>{const n=new Error(t);return n.name=e,n},PH=t=>t?t.split(`\r
`).reduce((e,n)=>{const r=n.split(": "),i=r.shift(),s=r.join(": ");return e[i.toLowerCase()]=s,e},{}):{},RH=t=>{const e=new FileReader;return new Promise((n,r)=>{e.onloadend=()=>{e.readyState===FileReader.DONE&&n(e.result)},e.onerror=()=>{r(e.error)},e.readAsText(t)})},bH=["host"],kH=cm(AH,[CH,qC,WC,Q3]);var jt;(function(t){t.NoCredentials="NoCredentials",t.NoIdentityId="NoIdentityId",t.NoKey="NoKey",t.NoSourceKey="NoSourceKey",t.NoDestinationKey="NoDestinationKey",t.NoSourcePath="NoSourcePath",t.NoDestinationPath="NoDestinationPath",t.NoBucket="NoBucket",t.NoRegion="NoRegion",t.InvalidStorageOperationPrefixInput="InvalidStorageOperationPrefixInput",t.InvalidStorageOperationInput="InvalidStorageOperationInput",t.InvalidStoragePathInput="InvalidStoragePathInput",t.InvalidUploadSource="InvalidUploadSource",t.ObjectIsTooLarge="ObjectIsTooLarge",t.UrlExpirationMaxLimitExceed="UrlExpirationMaxLimitExceed"})(jt||(jt={}));const NH={[jt.NoCredentials]:{message:"Credentials should not be empty."},[jt.NoIdentityId]:{message:"Missing identity ID when accessing objects in protected or private access level."},[jt.NoKey]:{message:"Missing key in api call."},[jt.NoSourceKey]:{message:"Missing source key in copy api call."},[jt.NoDestinationKey]:{message:"Missing destination key in copy api call."},[jt.NoSourcePath]:{message:"Missing source path in copy api call."},[jt.NoDestinationPath]:{message:"Missing destination path in copy api call."},[jt.NoBucket]:{message:"Missing bucket name while accessing object."},[jt.NoRegion]:{message:"Missing region while accessing object."},[jt.UrlExpirationMaxLimitExceed]:{message:"Url Expiration can not be greater than 7 Days."},[jt.ObjectIsTooLarge]:{message:"Object size cannot not be greater than 5TB."},[jt.InvalidUploadSource]:{message:"Upload source type can only be a `Blob`, `File`, `ArrayBuffer`, or `string`."},[jt.InvalidStorageOperationInput]:{message:"Path or key parameter must be specified in the input. Both can not be specified at the same time."},[jt.InvalidStorageOperationPrefixInput]:{message:"Both path and prefix can not be specified at the same time."},[jt.InvalidStoragePathInput]:{message:"Input `path` does not allow a leading slash (/)."}};function ao(t,e){const{message:n,recoverySuggestion:r}=NH[e];if(!t)throw new vl({name:e,message:n,recoverySuggestion:r})}const OH="http://localhost:20005",DH="guest",LH=900,MH=7*24*60*60*1e3,Jg="key",FH="path",VH=new ii("Storage"),UH=({accessLevel:t,targetIdentityId:e})=>t==="private"?(ao(!!e,jt.NoIdentityId),`private/${e}/`):t==="protected"?(ao(!!e,jt.NoIdentityId),`protected/${e}/`):"public/",f2=async(t,e)=>{var m,y,A,R;const{identityId:n}=await t.Auth.fetchAuthSession();ao(!!n,jt.NoIdentityId);const r=async()=>{const{credentials:I}=await t.Auth.fetchAuthSession();return ao(!!I,jt.NoCredentials),I},{bucket:i,region:s,dangerouslyConnectToHttpEndpointForTesting:a}=((y=(m=t.getConfig())==null?void 0:m.Storage)==null?void 0:y.S3)??{};ao(!!i,jt.NoBucket),ao(!!s,jt.NoRegion);const{defaultAccessLevel:u,prefixResolver:c=UH,isObjectLockEnabled:h}=((R=(A=t.libraryOptions)==null?void 0:A.Storage)==null?void 0:R.S3)??{},p=await c({accessLevel:(e==null?void 0:e.accessLevel)??u??DH,targetIdentityId:(e==null?void 0:e.accessLevel)==="protected"?(e==null?void 0:e.targetIdentityId)??n:n});return{s3Config:{credentials:r,region:s,useAccelerateEndpoint:e==null?void 0:e.useAccelerateEndpoint,...a?{customEndpoint:OH,forcePathStyle:!0}:{}},bucket:i,keyPrefix:p,identityId:n,isObjectLockEnabled:h}},jH=t=>t.path!==void 0,p2=(t,e)=>{if(ao(!!t.key&&!t.path||!t.key&&!!t.path,jt.InvalidStorageOperationInput),jH(t)){const{path:n}=t,r=typeof n=="string"?n:n({identityId:e});return ao(!r.startsWith("/"),jt.InvalidStoragePathInput),{inputType:FH,objectKey:r}}else return{inputType:Jg,objectKey:t.key}},BH={parse:t=>{const n=new DOMParser().parseFromString(t,"text/xml"),r=N_(n),i=Object.keys(r)[0];return r[i]}},N_=t=>{var e;if(zH(t))return{[t.documentElement.nodeName]:N_(t.documentElement)};if(t.nodeType===Node.TEXT_NODE)return(e=t.nodeValue)==null?void 0:e.trim();if($H(t)){if(WH(t))return t.childNodes[0].nodeValue;const n={};for(const r of t.attributes)g2(r.nodeName)||(n[r.nodeName]=r.nodeValue);if(t.children.length>0)for(const r of t.children){const i=N_(r);if(i===void 0)continue;const s=r.nodeName;n[s]===void 0?n[s]=i:Array.isArray(n[s])?n[s].push(i):n[s]=[n[s],i]}return Object.keys(n).length===0?"":n}},$H=t=>t.nodeType===Node.ELEMENT_NODE,zH=t=>t.nodeType===Node.DOCUMENT_NODE,WH=t=>{var e;return qH(t)&&t.children.length===0&&((e=t.firstChild)==null?void 0:e.nodeType)===Node.TEXT_NODE},qH=t=>{for(const e of t.attributes)if(!g2(e.nodeName))return!1;return!0},g2=t=>t==="xmlns"||t.startsWith("xmlns:"),m2=async t=>{if(!t||t.statusCode<300)return;const{statusCode:e}=t,n=await HH(t),r=n!=null&&n.Code?n.Code:e===404?"NotFound":e.toString(),i=(n==null?void 0:n.message)??(n==null?void 0:n.Message)??r,s=new Error(i);return Object.assign(s,{name:r,$metadata:Yu(t)})},HH=async t=>{if(!t.body)throw new Error("S3 aborted request.");const e=await t.body.text();if((e==null?void 0:e.length)>0)try{return BH.parse(e)}catch(n){throw new Error(`Failed to parse XML response: ${n}`)}return{}},KH=/^[a-z0-9][a-z0-9.-]{1,61}[a-z0-9]$/,GH=/(\d+\.){3}\d+/,QH=/\.\./,YH="s3",XH=(t,e)=>{const{region:n,useAccelerateEndpoint:r,customEndpoint:i,forcePathStyle:s}=t;let a;if(i)a=new lo(i);else if(r){if(s)throw new Error("Path style URLs are not supported with S3 Transfer Acceleration.");a=new lo(`https://s3-accelerate.${Jp(n)}`)}else a=new lo(`https://s3.${n}.${Jp(n)}`);if(e!=null&&e.Bucket){if(!JH(e.Bucket))throw new Error(`Invalid bucket name: "${e.Bucket}".`);s||e.Bucket.includes(".")?a.pathname=`/${e.Bucket}`:a.host=`${e.Bucket}.${a.host}`}return{url:a}},JH=t=>KH.test(t)&&!GH.test(t)&&!QH.test(t),Kp={service:YH,endpointResolver:XH,retryDecider:j_(m2),computeDelay:U_,userAgentValue:hh(),useAccelerateEndpoint:!1,uriEscapePath:!1},ZH=(t,e)=>{const n={};for(const[r,i]of Object.entries(e)){const[s,a]=Array.isArray(i)?i:[i];Object.prototype.hasOwnProperty.call(t,s)&&(n[r]=a?a(t[s]):String(t[s]))}return n},eK=t=>t?Number(t):void 0,tK=t=>t?new Date(t):void 0,nK=t=>{const e="x-amz-meta-",n=Object.keys(t).filter(r=>r.startsWith(e)).reduce((r,i)=>(r[i.replace(e,"")]=t[i],r),{});return Object.keys(n).length>0?n:void 0},rK=(t,e)=>{const n=new vl({name:t.name,message:t.message});return e===404&&(n.recoverySuggestion="Please add the object with this key to the bucket as the key is not found."),n},v2=(t,e)=>t.pathname.replace(/\/$/,"")+`/${e.split("/").map(X3).join("/")}`;function y2(t,e){if(!t)throw new vl({name:Ad.Unknown,message:"An unknown error has occurred.",underlyingError:new TypeError(`Expected a non-null value for S3 parameter ${e}`),recoverySuggestion:"This is likely to be a bug. Please reach out to library authors."})}const iK="x-amz-user-agent",sK=async(t,e)=>{const n=new lo(e.url.toString());return y2(!!t.Key,"Key"),n.pathname=v2(n,t.Key),{method:"GET",headers:{...t.Range&&{Range:t.Range}},url:n}},oK=async(t,e)=>{const n=Kp.endpointResolver(t,e),{url:r,headers:i,method:s}=await sK(e,n);r.searchParams.append(k_,rA),t.userAgentValue&&r.searchParams.append(t.userAgentHeader??iK,t.userAgentValue);for(const[a,u]of Object.entries(i).sort(([c],[h])=>c.localeCompare(h)))r.searchParams.append(a,u);return eU({method:s,url:r,body:void 0},{signingService:Kp.service,signingRegion:t.region,...Kp,...t})},aK=async(t,e)=>{const n=new lo(e.url.toString());return y2(!!t.Key,"Key"),n.pathname=v2(n,t.Key),{method:"HEAD",headers:{},url:n}},lK=async t=>{if(t.statusCode>=300){const e=await m2(t);throw rK(e,t.statusCode)}else{const e={...ZH(t.headers,{ContentLength:["content-length",eK],ContentType:"content-type",ETag:"etag",LastModified:["last-modified",tK],VersionId:"x-amz-version-id"}),Metadata:nK(t.headers)};return{$metadata:Yu(t),...e}}},uK=um(kH,aK,lK,{...Kp,responseType:"text"});function cK(t){return hh({category:Qy.Storage,action:t})}const dK=async(t,e,n)=>{const{options:r}=e,{s3Config:i,bucket:s,keyPrefix:a,identityId:u}=await f2(t,r),{inputType:c,objectKey:h}=p2(e,u),p=c===Jg?a+h:h;VH.debug(`get properties of ${h} from ${p}`);const m=await uK({...i,userAgentValue:cK(n??Xp.GetProperties)},{Bucket:s,Key:p}),y={contentType:m.ContentType,size:m.ContentLength,eTag:m.ETag,lastModified:m.LastModified,metadata:m.Metadata,versionId:m.VersionId};return c===Jg?{key:h,...y}:{path:h,...y}},hK=async(t,e)=>{const{options:n}=e,{s3Config:r,keyPrefix:i,bucket:s,identityId:a}=await f2(t,n),{inputType:u,objectKey:c}=p2(e,a),h=u===Jg?i+c:c;n!=null&&n.validateObjectExistence&&await dK(t,e,Xp.GetUrl);let p=(n==null?void 0:n.expiresIn)??LH;const m=typeof r.credentials=="function"?await r.credentials():r.credentials,y=m.expiration;if(y){const R=Math.floor((y.getTime()-Date.now())/1e3);p=Math.min(R,p)}const A=MH/1e3;return ao(p<=A,jt.UrlExpirationMaxLimitExceed),{url:await oK({...r,credentials:m,expiration:p},{Bucket:s,Key:h}),expiresAt:new Date(Date.now()+p*1e3)}};function fK(t){return hK(ys,t)}const _2=(t,e)=>new Promise((n,r)=>{try{const i=Zi(es,"Products");Yg(i,async s=>{if(e){const a=Ds(i,e);Yg(a,async u=>{n(t({...u.data(),id:e}))},u=>{Fe.error({title:"Error",text:`[Error #BtG]: ON_SNAPSHOT_ERROR: ${JSON.stringify(u)}. <br/>Contact administrator.`}),r(u)})}else n(t(s.docs.map(a=>({...a.data(),id:a.id}))))},s=>{Fe.error({title:"Error",text:`[Error ^doon]: SNAPSHOT_ERROR_WHILE_RETRIEVING_PRODUCTS: ${JSON.stringify(s)}. <br/>Contact administrator`}),r(s)})}catch(i){Fe.error({title:"Error",text:`[Error #BnH]: try/catch: ${JSON.stringify(i)}. <br/>Contact administrator.`}),r(i)}}),pK=(t,e,n)=>new Promise((r,i)=>{try{const s=Zi(es,t);e.forEach(a=>{const u={...a,createdAt:new Date,updatedAt:new Date};wH(s,u).then(c=>{Fe.success({text:n||`${t} successfully added.`}),r(c)}).catch(c=>{Fe.error({title:"Error",text:"[Error &fjH]: Error while adding doc to collection. <br/>Contact administrator"}),i(c)})})}catch(s){Fe.error({title:"Error",text:`[Error #DnG]: try/catch: ${JSON.stringify(s)}. <br/>Contact administrator.`}),i(s)}}),gK=t=>new Promise((e,n)=>{var r;try{if((r=vt.currentUser)!=null&&r.uid){const i=Zi(es,"Carts"),s=Ds(i,vt.currentUser.uid);xl(s).then(a=>{const u=a.data();if(a.exists()&&u.products){const c=u==null?void 0:u.products.map(p=>p.productID===t.id?{...p,quantity:p.quantity+1,updatedAt:new Date}:p),h=u!=null&&u.products.some(p=>p.productID===t.id)?c:[...c,{productID:t.id,quantity:1,createdAt:new Date,updatedAt:new Date}];sc(s,{products:h}).then(p=>{Fe.success({text:`<strong class="underline underline-offset-2 decoration-dotted">${t.name}</strong> added to cart.`}),e(p)}).catch(p=>{Fe.error({title:"Error",text:`[Error @Kmop]: Error while configuring products ${JSON.stringify(p)}.<br/> Contact administrator`}),n(p)})}else c2(s,{products:[{productID:t.id,quantity:1,createdAt:new Date,updatedAt:new Date}]}).then(c=>{Fe.success({text:`<strong class="underline underline-offset-2 decoration-dotted">${t.name}</strong> added to cart.`}),e(c)}).catch(c=>{Fe.error({title:"Error",text:`[Error /&GNm]: ${JSON.stringify(c)}. <br/> Contact administrator`}),n(c)})})}else Fe.error({title:"Error",text:"[Error #ProblemSignInc]: There was a problem with authorization instance.<br/> Contact administrator or try to login"})}catch(i){Fe.error({title:"Error",text:`[Error #Capi]: try/catch: ${JSON.stringify(i)}.<br/>Contact administrator.`}),n(i)}}),mK=t=>new Promise((e,n)=>{var r;try{const i=Zi(es,"Carts"),s=Ds(i,(r=vt.currentUser)==null?void 0:r.uid);xl(s).then(a=>{const u=a.data();if(a.exists()&&u.products){const c=u==null?void 0:u.products.filter(h=>h.productID!==(t==null?void 0:t.id));sc(s,{products:c}).then(h=>{Fe.success({text:`<strong class="underline underline-offset-2 decoration-dotted">${t.name}</strong> removed from cart.`}),e(h)}).catch(h=>{Fe.error({title:"Error",text:`[Error @Psnx]: Error while configuring products ${JSON.stringify(h)}.<br/> Contact administrator`}),n(h)})}})}catch(i){Fe.error({title:"Error",text:`[Error %snUm]: try/catch: ${JSON.stringify(i)}. <br/>Contact administrator.`}),n(i)}}),vK=()=>new Promise((t,e)=>{var n;try{const r=Zi(es,"Carts"),i=Ds(r,(n=vt.currentUser)==null?void 0:n.uid);xl(i).then(s=>{const a=s.data();s.exists()&&a.products&&sc(i,{products:[]}).then(u=>{t(u)}).catch(u=>{Fe.error({title:"Error",text:`[Error @NuJ]: Error while clearing carts ${JSON.stringify(u)}.<br/> Contact administrator`}),e(u)})})}catch(r){Fe.error({title:"Error",text:`[Error %badGF]: try/catch: ${JSON.stringify(r)}. <br/>Contact administrator.`}),e(r)}}),zy=(t,e,n)=>new Promise((r,i)=>{var s;try{const a=Zi(es,"Carts"),u=Ds(a,(s=vt.currentUser)==null?void 0:s.uid);xl(u).then(c=>{const h=c.data();if(c.exists()&&h.products){const p=h==null?void 0:h.products.map(m=>{const y=Number(n!="insert"?Number(m.quantity+(e||0)):e);return m.productID===t.id?{...m,quantity:y<2?1:y,updatedAt:new Date}:m});sc(u,{products:p}).then(m=>{r(m)}).catch(m=>{Fe.error({title:"Error",text:`[Error @upQA]: Error while updating products  ${JSON.stringify(m)}.<br/> Contact administrator`}),i(m)})}})}catch(a){Fe.error({title:"Error",text:`[Error #HsfG]: try/catch: ${JSON.stringify(a)}. <br/>Contact administrator.`}),i(a)}}),cC=(t,e)=>new Promise((n,r)=>{var i;try{const s=Zi(es,"Carts"),a=Ds(s,(i=vt.currentUser)==null?void 0:i.uid);xl(a).then(u=>{const c=u.data();if(u.exists()&&c.products){const h=c==null?void 0:c.products.map(p=>p.productID===t.id?{...p,discount:e,updatedAt:new Date}:p);sc(a,{products:h}).then(p=>{Fe.success({text:`<strong class="underline underline-offset-4 decoration-dotted">${e.name}</strong> discount offer has been applied on <strong class="underline underline-offset-4 decoration-dotted">${t.name}</strong> in cart.`}),n(p)}).catch(p=>{Fe.error({title:"Error",text:`[Error @upQA]: Error while updating products  ${JSON.stringify(p)}.<br/> Contact administrator`}),r(p)})}})}catch(s){Fe.error({title:"Error",text:`[Error #njUin]: try/catch: ${JSON.stringify(s)}. <br/>Contact administrator.`}),r(s)}}),yK=t=>new Promise((e,n)=>{var r;try{const i=Zi(es,"Carts"),s=Ds(i,(r=vt.currentUser)==null?void 0:r.uid);xl(s).then(a=>{const u=a.data();if(a.exists()&&u.products){const c=u==null?void 0:u.products.map(h=>(h.productID===t.id&&delete h.discount,h.productID===t.id?{...h,updatedAt:new Date}:h));sc(s,{products:c}).then(h=>{e(h)}).catch(h=>{Fe.error({title:"Error",text:`[Error @upQA]: Error while updating products  ${JSON.stringify(h)}.<br/> Contact administrator`}),n(h)})}})}catch(i){Fe.error({title:"Error",text:`[Error #BmSd]: try/catch: ${JSON.stringify(i)}. <br/>Contact administrator.`}),n(i)}}),_K=t=>new Promise((e,n)=>{var r,i;try{const s=Zi(es,"Carts");if((r=vt.currentUser)!=null&&r.uid){const a=Ds(s,(i=vt.currentUser)==null?void 0:i.uid);Yg(a,async u=>{const c=u.data(),h=c==null?void 0:c.products;if(h){const p=h.map(async m=>{const y=await _2(A=>t(A,"product"),m.productID);return{...m,metadata:y}});Promise.all(p).then(m=>{e(t(m||[]))}).catch(m=>{console.error("Error fetching product data:",m)})}},u=>{Fe.error({text:`[Error #DbG]: Problem fetching cart collection. ${u}. <br/> Contact Administrator`})})}else e(t([]))}catch(s){Fe.error({text:"[Error #bhs]: Try/catch. <br/> Contact Administrator."}),n(s)}}),wK=(t,e,n)=>new Promise((r,i)=>{var s;try{if((s=vt.currentUser)!=null&&s.uid){const a=Zi(es,"Orders"),u=Ds(a,t.reference);xl(u).then(c=>{var p;const h=c.data();c.exists()&&h?r(c.data()):c2(u,{payment_instance:t,products:e,billing_info:n,user_uid:(p=vt.currentUser)==null?void 0:p.uid}).then(m=>{Fe.success({text:"Payment is successful and order received. You would be redirected to order page to track your products."}),vK(),r(m)}).catch(m=>{Fe.error({title:"Error",text:`[Error /&Bye]: ${JSON.stringify(m)}. <br/> Contact administrator`}),i(m)})})}else Fe.error({title:"Error",text:"[Error #ProblemSignInD]: There was a problem with authorization instance.<br/> Contact administrator or try to login"})}catch(a){Fe.error({title:"Error",text:`[Error #njnsm]: try/catch: ${JSON.stringify(a)}. <br/>Contact administrator.`}),i(a)}}),EK=t=>new Promise((e,n)=>{var r;try{const i=Zi(es,"Orders");(r=vt.currentUser)!=null&&r.uid?Yg(i,async s=>{const a=s.docs.map(u=>({...u.data(),id:u.id}));e(t(a.filter(u=>{var c;return u.user_uid==((c=vt.currentUser)==null?void 0:c.uid)})))},s=>{Fe.error({text:`[Error #DbG]: Problem fetching cart collection. ${s}. <br/> Contact Administrator`})}):e(t([]))}catch(i){Fe.error({text:"[Error #NUJ]: Try/catch. <br/> Contact Administrator."}),n(i)}}),w2=t=>new Promise((e,n)=>{try{const r=El.credential(t.email,t.password);e$(vt.currentUser,r).then(i=>{Fe.success({text:"Your account has successfully being created"}),o$(i.user,{displayName:t.username}).catch(s=>{Fe.error({text:`[Error @usme]: Account is created successfully, but there was problem with updating user profile. <br/>${JSON.stringify(s)} <br/> Contact administrator`})}),e(i)}).catch(i=>{Fe.error({text:zw(i)}),n(i)})}catch(r){Fe.error({title:"Error",text:`[Error #BNmzx]: try/catch: ${JSON.stringify(r)}. <br/>Contact administrator.`}),n(r)}}),SK=t=>new Promise((e,n)=>{try{r$(vt,t.email,t.password).then(r=>{Fe.success({text:"User signed in successfully."}),e(r)}).catch(r=>{Fe.error({text:zw(r)}),n(r)})}catch(r){Fe.error({title:"Error",text:`[Error #no_sside]: try/catch: ${JSON.stringify(r)}. <br/>Contact administrator.`}),n(r)}}),TK=()=>new Promise((t,e)=>{try{u$(vt).then(n=>{Fe.success({text:"You have successfully being logged out."}),t(n)}).catch(n=>{Fe.error({text:`[Error @llg]: There was a problem with logging you out. <br/>${JSON.stringify(n)} <br/> Contact administrator`}),e(n)})}catch(n){Fe.error({title:"Error",text:`[Error #kan]: try/catch: ${JSON.stringify(n)}. <br/>Contact administrator.`}),e(n)}}),xK=()=>new Promise((t,e)=>{try{i$(vt.currentUser).then(n=>{Fe.success({text:"Email verification sent successfully. Please check your inbox."}),t(n)}).catch(n=>{Fe.error({text:`[Error @vemI]: Failed to send email verification. <br/>${JSON.stringify(n)} <br/> Contact administrator`}),e(n)})}catch(n){Fe.error({title:"Error",text:`[Error #KinS]: try/catch: ${JSON.stringify(n)}. <br/>Contact administrator.`}),e(n)}}),IK=t=>new Promise((e,n)=>{try{n$(vt,t).then(r=>{Fe.success({text:"Password reset email sent successfully. Check your inbox"}),e(r)}).catch(r=>{Fe.error({text:zw(r,"forgot-password")}),n(r)})}catch(r){Fe.error({title:"Error",text:`[Error #GnbH]: try/catch: ${JSON.stringify(r)}. <br/>Contact administrator.`}),n(r)}}),CK=t=>new Promise((e,n)=>{try{if(y7(t))return e(t),t;fK({key:t,options:{accessLevel:"guest",validateObjectExistence:!1,expiresIn:1e3,useAccelerateEndpoint:!1}}).then(r=>(e(r.url.href),r.url.href)).catch(r=>{n(r)})}catch(r){Fe.error({title:"Error",text:`[Error #AwsMedia]: try/catch: ${JSON.stringify(r)}. <br/>Contact administrator.`}),n(r)}}),NE=()=>{const t=_h();return W.useEffect(()=>{hI(vt,e=>{t.setQueryData("auth_user",e)})},[]),wh("auth_user",()=>new Promise((e,n)=>hI(vt,r=>{try{r!=null&&r.uid?e(r):Q8(vt).then(i=>{e(i.user)}).catch(i=>{Fe.error({title:"Error",text:"[Error %gBF]: Authentication instance unmet.<br/> Contact administrator or try to login"}),n(i)})}catch(i){n(i)}})))},AK=t=>{const e=_h(),n=W.useCallback(r=>(e.setQueryData(ro.product_data(t),r),r),[]);return wh(ro.product_data(t),()=>_2(n,t),{})},Zm=()=>{const t=_h(),{data:e}=NE(),n=W.useCallback((r,i)=>{if(i=="product"){const s=r,a=t.getQueryData(ro.cart_data(e==null?void 0:e.uid));if(a){const u=a.map(c=>c.productID===(s==null?void 0:s.id)?{...c,metadata:s}:c);t.setQueryData(ro.cart_data(e==null?void 0:e.uid),u)}return r}else return t.setQueryData(ro.cart_data(e==null?void 0:e.uid),r),r},[e]);return wh(ro.cart_data(e==null?void 0:e.uid),()=>_K(n),{placeholderData:[]})},PK=()=>{const t=_h(),{data:e}=NE(),n=W.useCallback(r=>(t.setQueryData(ro.order_data(e==null?void 0:e.uid),r),r),[e]);return wh(ro.order_data(e==null?void 0:e.uid),()=>EK(n),{placeholderData:[]})},RK=t=>wh(ro.amazon_media(t),()=>CK(t),{});function bK(){var r,i,s;const[t,e]=W.useState(!1),{data:n}=Zm();return _.jsxs(_.Fragment,{children:[!((r=vt.currentUser)!=null&&r.isAnonymous)&&!((i=vt.currentUser)!=null&&i.emailVerified)&&_.jsxs("div",{className:"bg-gray-900 px-6 py-3 relative z-50 text-center space-x-2",children:[_.jsx("span",{children:"Verify your account to unlock new exciting features"}),_.jsx(Hi,{onClick:()=>{xK()},className:"px-4 py-0.5 text-sm",children:"Verify Now"})]}),_.jsxs("nav",{className:"sticky top-0 z-50 flex items-center justify-between bg-gray-800 shadow-md w-full shadow-gray-700/50 px-3 py-1 md:px-10 md:py-3",children:[_.jsx(ei,{to:"/",children:_.jsx(qR,{type:"navbar-logo"})}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("ul",{className:"hidden md:inline-flex items-center space-x-4",children:[_.jsx("li",{children:_.jsx(ei,{to:"/",className:"underline underline-offset-4 tracking-wide decoration-dotted hover:text-gray-100 font-medium",children:"Home"})}),_.jsx("li",{children:_.jsx(ei,{to:"/user/orders",className:"underline underline-offset-4 tracking-wide decoration-dotted hover:text-gray-100 font-medium",children:"About"})}),((s=vt.currentUser)==null?void 0:s.uid)&&!vt.currentUser.isAnonymous&&_.jsx("li",{children:_.jsx(ei,{to:"/user/carts",className:"underline underline-offset-4 tracking-wide decoration-dotted hover:text-gray-100 font-medium",children:"My account"})})||_.jsx("li",{children:_.jsx(ei,{to:"/login",className:"underline underline-offset-4 tracking-wide decoration-dotted hover:text-gray-100 font-medium",children:"Sign In/Sign Up"})})]}),_.jsxs("div",{className:"flex items-center gap-x-1 md:gap-x-2",children:[_.jsxs(ei,{to:"/user/carts",className:"relative inline-flex items-center px-1 py-1 rounded-full",children:[_.jsx("svg",{className:"w-8 h-8 md:w-8 md:h-8 text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{fillRule:"evenodd",d:"M4 4a1 1 0 0 1 1-1h1.5a1 1 0 0 1 .979.796L7.939 6H19a1 1 0 0 1 .979 1.204l-1.25 6a1 1 0 0 1-.979.796H9.605l.208 1H17a3 3 0 1 1-2.83 2h-2.34a3 3 0 1 1-4.009-1.76L5.686 5H5a1 1 0 0 1-1-1Z",clipRule:"evenodd"})}),_.jsx("span",{className:"inline-flex items-center justify-center w-4 h-4 ms-2 absolute top-0 right-0 text-xs font-bold text-rose-700 bg-white rounded-full",children:n==null?void 0:n.length})]}),_.jsx("button",{className:"block md:hidden",onClick:()=>e(!t),children:_.jsx("svg",{className:"w-9 h-9 text-rose-700","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:_.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M5 7h14M5 12h14M5 17h10"})})})]})]})]}),_.jsxs("div",{className:`fixed top-0 right-0 bg-gray-800/95 shadow-lg shadow-gray-700 bg-opacity-95 w-2/3 h-screen z-50 sm:w-2/5 md:hidden ${t?"block":"hidden"}`,children:[_.jsx("div",{className:"flex items-center justify-end p-4",children:_.jsx("button",{className:"group",onClick:()=>e(!1),children:_.jsx("svg",{className:"w-10 h-10 text-white group-hover:text-rose-700","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{fillRule:"evenodd",d:"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm7.707-3.707a1 1 0 0 0-1.414 1.414L10.586 12l-2.293 2.293a1 1 0 1 0 1.414 1.414L12 13.414l2.293 2.293a1 1 0 0 0 1.414-1.414L13.414 12l2.293-2.293a1 1 0 0 0-1.414-1.414L12 10.586 9.707 8.293Z",clipRule:"evenodd"})})})}),_.jsxs("ul",{className:"flex flex-col items-start gap-7 mt-4",children:[_.jsx("li",{children:_.jsx(ei,{to:"/user/orders",className:"px-8 underline underline-offset-4 tracking-wide decoration-dotted hover:text-gray-100 text-xl font-medium",children:"About"})}),_.jsx("li",{children:_.jsx(ei,{to:"/login",className:"px-8 underline underline-offset-4 tracking-wide decoration-dotted hover:text-gray-100 text-xl font-medium",children:"Sign In/Sign Up"})})]})]})]})}function Yr(){return(Yr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var kK=function(){};function E2(t,e){return Math.random()*(e-t+1)+t}function dC(t,e){return Math.floor(E2(t,e))}var NK=W.forwardRef(function(t,e){var n=t.progress,r=t.height,i=r===void 0?2:r,s=t.className,a=s===void 0?"":s,u=t.color,c=u===void 0?"red":u,h=t.background,p=h===void 0?"transparent":h,m=t.onLoaderFinished,y=t.transitionTime,A=y===void 0?300:y,R=t.loaderSpeed,I=R===void 0?500:R,N=t.waitingTime,S=N===void 0?1e3:N,E=t.shadow,P=E===void 0||E,j=t.containerStyle,K=j===void 0?{}:j,Q=t.style,x=Q===void 0?{}:Q,C=t.shadowStyle,k=C===void 0?{}:C,L=t.containerClassName,U=L===void 0?"":L,F=W.useRef(!1),M=W.useState(0),pe=M[0],Se=M[1],Oe=W.useRef({active:!1,refreshRate:1e3}),De=W.useState(!1),ee=De[0],oe=De[1],ge=W.useState({active:!1,value:20}),Ae=ge[0],xe=ge[1],We={position:"fixed",top:0,left:0,height:i,background:p,zIndex:99999999999,width:"100%"},lt={boxShadow:"0 0 10px "+c+", 0 0 10px "+c,width:"5%",opacity:1,position:"absolute",height:"100%",transition:"all "+I+"ms ease",transform:"rotate(3deg) translate(0px, -4px)",left:"-10rem"},et=W.useState({height:"100%",background:c,transition:"all "+I+"ms ease",width:"0%"}),Ge=et[0],it=et[1],Pn=W.useState(lt),wn=Pn[0],tt=Pn[1];W.useEffect(function(){return F.current=!0,function(){F.current=!1}},[]),W.useImperativeHandle(e,function(){return{continuousStart:function(pt,St){if(St===void 0&&(St=1e3),!Ae.active)if(ee)console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");else{var Ai=pt||dC(10,20);Oe.current={active:!0,refreshRate:St},Se(Ai),an(Ai)}},staticStart:function(pt){if(!Oe.current.active)if(ee)console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");else{var St=pt||dC(30,50);xe({active:!0,value:St}),Se(St),an(St)}},complete:function(){ee?console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!"):(Se(100),an(100))}}}),W.useEffect(function(){it(Yr({},Ge,{background:c})),tt(Yr({},wn,{boxShadow:"0 0 10px "+c+", 0 0 5px "+c}))},[c]),W.useEffect(function(){if(e){if(e&&n!==void 0)return void console.warn(`react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar! Please use only props or only ref methods! Ref methods will override props if "ref" property is available.`);an(pe),oe(!1)}else n&&an(n),oe(!0)},[n]);var on,Et,Jt,an=function pt(St){St>=100?(it(Yr({},Ge,{width:"100%"})),P&&tt(Yr({},wn,{left:St-10+"%"})),setTimeout(function(){F.current&&(it(Yr({},Ge,{opacity:0,width:"100%",transition:"all "+A+"ms ease-out",color:c})),setTimeout(function(){F.current&&(Oe.current.active&&(Oe.current=Yr({},Oe.current,{active:!1}),Se(0),pt(0)),Ae.active&&(xe(Yr({},Ae,{active:!1})),Se(0),pt(0)),m&&m(),Se(0),pt(0))},A))},S)):(it(function(Ai){return Yr({},Ai,{width:St+"%",opacity:1,transition:St>0?"all "+I+"ms ease":""})}),P&&tt(Yr({},wn,{left:St-5.5+"%",transition:St>0?"all "+I+"ms ease":""})))};return on=function(){var pt=E2(Math.min(10,(100-pe)/5),Math.min(20,(100-pe)/3));pe+pt<95&&(Se(pe+pt),an(pe+pt))},Et=Oe.current.active?Oe.current.refreshRate:null,Jt=W.useRef(kK),W.useEffect(function(){Jt.current=on}),W.useEffect(function(){},[void 0]),W.useEffect(function(){if(Et!==null&&Et!==!1){var pt=setInterval(function(){return Jt.current()},Et);return function(){return clearInterval(pt)}}},[Et]),W.createElement("div",{className:U,style:Yr({},We,K)},W.createElement("div",{className:a,style:Yr({},Ge,x)},P?W.createElement("div",{style:Yr({},wn,k)}):null))});const Il=({children:t,title:e,description:n,no_navbar:r,no_footer:i})=>{const[s,a]=W.useState(!1);return W.useLayoutEffect(()=>{a(!0)},[]),_.jsxs(_.Fragment,{children:[s&&_.jsx(NK,{height:3,color:"rgb(190,18,60)",progress:100}),_.jsx("meta",{name:"description",content:n}),_.jsxs("title",{children:[e," - Vint"]}),_.jsxs("div",{children:[!r&&_.jsx(bK,{}),_.jsx("div",{id:"page",className:"relative z-10",children:_.jsx("div",{id:"wrapper",children:t})}),!i&&_.jsx(g7,{})]})]})};var Dh=t=>t.type==="checkbox",yu=t=>t instanceof Date,Sr=t=>t==null;const S2=t=>typeof t=="object";var Un=t=>!Sr(t)&&!Array.isArray(t)&&S2(t)&&!yu(t),T2=t=>Un(t)&&t.target?Dh(t.target)?t.target.checked:t.target.value:t,OK=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,x2=(t,e)=>t.has(OK(e)),DK=t=>{const e=t.constructor&&t.constructor.prototype;return Un(e)&&e.hasOwnProperty("isPrototypeOf")},OE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Dr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(OE&&(t instanceof Blob||t instanceof FileList))&&(n||Un(t)))if(e=n?[]:{},!n&&!DK(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Dr(t[r]));else return t;return e}var Lh=t=>Array.isArray(t)?t.filter(Boolean):[],dn=t=>t===void 0,ye=(t,e,n)=>{if(!e||!Un(t))return n;const r=Lh(e.split(/[,[\].]+?/)).reduce((i,s)=>Sr(i)?i:i[s],t);return dn(r)||r===t?dn(t[e])?n:t[e]:r},Es=t=>typeof t=="boolean",DE=t=>/^\w*$/.test(t),I2=t=>Lh(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Vt=(t,e,n)=>{let r=-1;const i=DE(e)?[e]:I2(e),s=i.length,a=s-1;for(;++r<s;){const u=i[r];let c=n;if(r!==a){const h=t[u];c=Un(h)||Array.isArray(h)?h:isNaN(+i[r+1])?{}:[]}if(u==="__proto__")return;t[u]=c,t=t[u]}return t};const Zg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},qi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Xs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},LK=we.createContext(null),LE=()=>we.useContext(LK);var C2=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==qi.all&&(e._proxyFormState[a]=!r||qi.all),n&&(n[a]=!0),t[a]}});return i},Jr=t=>Un(t)&&!Object.keys(t).length,A2=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Jr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!r||qi.all))},Gp=t=>Array.isArray(t)?t:[t],P2=(t,e,n)=>!t||!e||t===e||Gp(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function ME(t){const e=we.useRef(t);e.current=t,we.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function MK(t){const e=LE(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[a,u]=we.useState(n._formState),c=we.useRef(!0),h=we.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),p=we.useRef(i);return p.current=i,ME({disabled:r,next:m=>c.current&&P2(p.current,m.name,s)&&A2(m,h.current,n._updateFormState)&&u({...n._formState,...m}),subject:n._subjects.state}),we.useEffect(()=>(c.current=!0,h.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),C2(a,n,h.current,!1)}var Ts=t=>typeof t=="string",R2=(t,e,n,r,i)=>Ts(t)?(r&&e.watch.add(t),ye(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),ye(n,s))):(r&&(e.watchAll=!0),n);function FK(t){const e=LE(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:a}=t||{},u=we.useRef(r);u.current=r,ME({disabled:s,subject:n._subjects.values,next:p=>{P2(u.current,p.name,a)&&h(Dr(R2(u.current,n._names,p.values||n._formValues,!1,i)))}});const[c,h]=we.useState(n._getWatch(r,i));return we.useEffect(()=>n._removeUnmounted()),c}function VK(t){const e=LE(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,a=x2(i._names.array,n),u=FK({control:i,name:n,defaultValue:ye(i._formValues,n,ye(i._defaultValues,n,t.defaultValue)),exact:!0}),c=MK({control:i,name:n}),h=we.useRef(i.register(n,{...t.rules,value:u,...Es(t.disabled)?{disabled:t.disabled}:{}}));return we.useEffect(()=>{const p=i._options.shouldUnregister||s,m=(y,A)=>{const R=ye(i._fields,y);R&&(R._f.mount=A)};if(m(n,!0),p){const y=Dr(ye(i._options.defaultValues,n));Vt(i._defaultValues,n,y),dn(ye(i._formValues,n))&&Vt(i._formValues,n,y)}return()=>{(a?p&&!i._state.action:p)?i.unregister(n):m(n,!1)}},[n,i,a,s]),we.useEffect(()=>{ye(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:ye(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:u,...Es(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:we.useCallback(p=>h.current.onChange({target:{value:T2(p),name:n},type:Zg.CHANGE}),[n]),onBlur:we.useCallback(()=>h.current.onBlur({target:{value:ye(i._formValues,n),name:n},type:Zg.BLUR}),[n,i]),ref:p=>{const m=ye(i._fields,n);m&&p&&(m._f.ref={focus:()=>p.focus(),select:()=>p.select(),setCustomValidity:y=>p.setCustomValidity(y),reportValidity:()=>p.reportValidity()})}},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ye(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!ye(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ye(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ye(c.validatingFields,n)},error:{enumerable:!0,get:()=>ye(c.errors,n)}})}}const FE=t=>t.render(VK(t));var UK=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},hC=t=>({isOnSubmit:!t||t===qi.onSubmit,isOnBlur:t===qi.onBlur,isOnChange:t===qi.onChange,isOnAll:t===qi.all,isOnTouch:t===qi.onTouched}),fC=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Id=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=ye(t,i);if(s){const{_f:a,...u}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!r)break;if(a.ref&&e(a.ref,a.name)&&!r)break;Id(u,e)}else Un(u)&&Id(u,e)}}};var jK=(t,e,n)=>{const r=Lh(ye(t,n));return Vt(r,"root",e[n]),Vt(t,n,r),t},VE=t=>t.type==="file",ea=t=>typeof t=="function",em=t=>{if(!OE)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Qp=t=>Ts(t),UE=t=>t.type==="radio",tm=t=>t instanceof RegExp;const pC={value:!1,isValid:!1},gC={value:!0,isValid:!0};var b2=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!dn(t[0].attributes.value)?dn(t[0].value)||t[0].value===""?gC:{value:t[0].value,isValid:!0}:gC:pC}return pC};const mC={isValid:!1,value:null};var k2=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,mC):mC;function vC(t,e,n="validate"){if(Qp(t)||Array.isArray(t)&&t.every(Qp)||Es(t)&&!t)return{type:n,message:Qp(t)?t:"",ref:e}}var Zl=t=>Un(t)&&!tm(t)?t:{value:t,message:""},yC=async(t,e,n,r,i)=>{const{ref:s,refs:a,required:u,maxLength:c,minLength:h,min:p,max:m,pattern:y,validate:A,name:R,valueAsNumber:I,mount:N,disabled:S}=t._f,E=ye(e,R);if(!N||S)return{};const P=a?a[0]:s,j=F=>{r&&P.reportValidity&&(P.setCustomValidity(Es(F)?"":F||""),P.reportValidity())},K={},Q=UE(s),x=Dh(s),C=Q||x,k=(I||VE(s))&&dn(s.value)&&dn(E)||em(s)&&s.value===""||E===""||Array.isArray(E)&&!E.length,L=UK.bind(null,R,n,K),U=(F,M,pe,Se=Xs.maxLength,Oe=Xs.minLength)=>{const De=F?M:pe;K[R]={type:F?Se:Oe,message:De,ref:s,...L(F?Se:Oe,De)}};if(i?!Array.isArray(E)||!E.length:u&&(!C&&(k||Sr(E))||Es(E)&&!E||x&&!b2(a).isValid||Q&&!k2(a).isValid)){const{value:F,message:M}=Qp(u)?{value:!!u,message:u}:Zl(u);if(F&&(K[R]={type:Xs.required,message:M,ref:P,...L(Xs.required,M)},!n))return j(M),K}if(!k&&(!Sr(p)||!Sr(m))){let F,M;const pe=Zl(m),Se=Zl(p);if(!Sr(E)&&!isNaN(E)){const Oe=s.valueAsNumber||E&&+E;Sr(pe.value)||(F=Oe>pe.value),Sr(Se.value)||(M=Oe<Se.value)}else{const Oe=s.valueAsDate||new Date(E),De=ge=>new Date(new Date().toDateString()+" "+ge),ee=s.type=="time",oe=s.type=="week";Ts(pe.value)&&E&&(F=ee?De(E)>De(pe.value):oe?E>pe.value:Oe>new Date(pe.value)),Ts(Se.value)&&E&&(M=ee?De(E)<De(Se.value):oe?E<Se.value:Oe<new Date(Se.value))}if((F||M)&&(U(!!F,pe.message,Se.message,Xs.max,Xs.min),!n))return j(K[R].message),K}if((c||h)&&!k&&(Ts(E)||i&&Array.isArray(E))){const F=Zl(c),M=Zl(h),pe=!Sr(F.value)&&E.length>+F.value,Se=!Sr(M.value)&&E.length<+M.value;if((pe||Se)&&(U(pe,F.message,M.message),!n))return j(K[R].message),K}if(y&&!k&&Ts(E)){const{value:F,message:M}=Zl(y);if(tm(F)&&!E.match(F)&&(K[R]={type:Xs.pattern,message:M,ref:s,...L(Xs.pattern,M)},!n))return j(M),K}if(A){if(ea(A)){const F=await A(E,e),M=vC(F,P);if(M&&(K[R]={...M,...L(Xs.validate,M.message)},!n))return j(M.message),K}else if(Un(A)){let F={};for(const M in A){if(!Jr(F)&&!n)break;const pe=vC(await A[M](E,e),P,M);pe&&(F={...pe,...L(M,pe.message)},j(pe.message),n&&(K[R]=F))}if(!Jr(F)&&(K[R]={ref:P,...F},!n))return K}}return j(!0),K};function BK(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=dn(t)?r++:t[e[r++]];return t}function $K(t){for(const e in t)if(t.hasOwnProperty(e)&&!dn(t[e]))return!1;return!0}function Dn(t,e){const n=Array.isArray(e)?e:DE(e)?[e]:I2(e),r=n.length===1?t:BK(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Un(r)&&Jr(r)||Array.isArray(r)&&$K(r))&&Dn(t,n.slice(0,-1)),t}var Wy=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},nm=t=>Sr(t)||!S2(t);function Za(t,e){if(nm(t)||nm(e))return t===e;if(yu(t)&&yu(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const a=e[i];if(yu(s)&&yu(a)||Un(s)&&Un(a)||Array.isArray(s)&&Array.isArray(a)?!Za(s,a):s!==a)return!1}}return!0}var N2=t=>t.type==="select-multiple",zK=t=>UE(t)||Dh(t),qy=t=>em(t)&&t.isConnected,O2=t=>{for(const e in t)if(ea(t[e]))return!0;return!1};function rm(t,e={}){const n=Array.isArray(t);if(Un(t)||n)for(const r in t)Array.isArray(t[r])||Un(t[r])&&!O2(t[r])?(e[r]=Array.isArray(t[r])?[]:{},rm(t[r],e[r])):Sr(t[r])||(e[r]=!0);return e}function D2(t,e,n){const r=Array.isArray(t);if(Un(t)||r)for(const i in t)Array.isArray(t[i])||Un(t[i])&&!O2(t[i])?dn(e)||nm(n[i])?n[i]=Array.isArray(t[i])?rm(t[i],[]):{...rm(t[i])}:D2(t[i],Sr(e)?{}:e[i],n[i]):n[i]=!Za(t[i],e[i]);return n}var gp=(t,e)=>D2(t,e,rm(e)),L2=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>dn(t)?t:e?t===""?NaN:t&&+t:n&&Ts(t)?new Date(t):r?r(t):t;function Hy(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return VE(e)?e.files:UE(e)?k2(t.refs).value:N2(e)?[...e.selectedOptions].map(({value:n})=>n):Dh(e)?b2(t.refs).value:L2(dn(e.value)?t.ref.value:e.value,t)}var WK=(t,e,n,r)=>{const i={};for(const s of t){const a=ye(e,s);a&&Vt(i,s,a._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Gc=t=>dn(t)?t:tm(t)?t.source:Un(t)?tm(t.value)?t.value.source:t.value:t,qK=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function _C(t,e,n){const r=ye(t,n);if(r||DE(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),a=ye(e,s),u=ye(t,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(u&&u.type)return{name:s,error:u};i.pop()}return{name:n}}var HK=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,KK=(t,e)=>!Lh(ye(t,e)).length&&Dn(t,e);const GK={mode:qi.onSubmit,reValidateMode:qi.onChange,shouldFocusError:!0};function QK(t={}){let e={...GK,...t},n={submitCount:0,isDirty:!1,isLoading:ea(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Un(e.defaultValues)||Un(e.values)?Dr(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Dr(i),a={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:Wy(),array:Wy(),state:Wy()},y=hC(e.mode),A=hC(e.reValidateMode),R=e.criteriaMode===qi.all,I=B=>Y=>{clearTimeout(h),h=setTimeout(B,Y)},N=async B=>{if(p.isValid||B){const Y=e.resolver?Jr((await C()).errors):await L(r,!0);Y!==n.isValid&&m.state.next({isValid:Y})}},S=(B,Y)=>{(p.isValidating||p.validatingFields)&&((B||Array.from(u.mount)).forEach(te=>{te&&(Y?Vt(n.validatingFields,te,Y):Dn(n.validatingFields,te))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Jr(n.validatingFields)}))},E=(B,Y=[],te,ve,de=!0,le=!0)=>{if(ve&&te){if(a.action=!0,le&&Array.isArray(ye(r,B))){const Ie=te(ye(r,B),ve.argA,ve.argB);de&&Vt(r,B,Ie)}if(le&&Array.isArray(ye(n.errors,B))){const Ie=te(ye(n.errors,B),ve.argA,ve.argB);de&&Vt(n.errors,B,Ie),KK(n.errors,B)}if(p.touchedFields&&le&&Array.isArray(ye(n.touchedFields,B))){const Ie=te(ye(n.touchedFields,B),ve.argA,ve.argB);de&&Vt(n.touchedFields,B,Ie)}p.dirtyFields&&(n.dirtyFields=gp(i,s)),m.state.next({name:B,isDirty:F(B,Y),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Vt(s,B,Y)},P=(B,Y)=>{Vt(n.errors,B,Y),m.state.next({errors:n.errors})},j=B=>{n.errors=B,m.state.next({errors:n.errors,isValid:!1})},K=(B,Y,te,ve)=>{const de=ye(r,B);if(de){const le=ye(s,B,dn(te)?ye(i,B):te);dn(le)||ve&&ve.defaultChecked||Y?Vt(s,B,Y?le:Hy(de._f)):Se(B,le),a.mount&&N()}},Q=(B,Y,te,ve,de)=>{let le=!1,Ie=!1;const st={name:B},Me=!!(ye(r,B)&&ye(r,B)._f.disabled);if(!te||ve){p.isDirty&&(Ie=n.isDirty,n.isDirty=st.isDirty=F(),le=Ie!==st.isDirty);const ut=Me||Za(ye(i,B),Y);Ie=!!(!Me&&ye(n.dirtyFields,B)),ut||Me?Dn(n.dirtyFields,B):Vt(n.dirtyFields,B,!0),st.dirtyFields=n.dirtyFields,le=le||p.dirtyFields&&Ie!==!ut}if(te){const ut=ye(n.touchedFields,B);ut||(Vt(n.touchedFields,B,te),st.touchedFields=n.touchedFields,le=le||p.touchedFields&&ut!==te)}return le&&de&&m.state.next(st),le?st:{}},x=(B,Y,te,ve)=>{const de=ye(n.errors,B),le=p.isValid&&Es(Y)&&n.isValid!==Y;if(t.delayError&&te?(c=I(()=>P(B,te)),c(t.delayError)):(clearTimeout(h),c=null,te?Vt(n.errors,B,te):Dn(n.errors,B)),(te?!Za(de,te):de)||!Jr(ve)||le){const Ie={...ve,...le&&Es(Y)?{isValid:Y}:{},errors:n.errors,name:B};n={...n,...Ie},m.state.next(Ie)}},C=async B=>{S(B,!0);const Y=await e.resolver(s,e.context,WK(B||u.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return S(B),Y},k=async B=>{const{errors:Y}=await C(B);if(B)for(const te of B){const ve=ye(Y,te);ve?Vt(n.errors,te,ve):Dn(n.errors,te)}else n.errors=Y;return Y},L=async(B,Y,te={valid:!0})=>{for(const ve in B){const de=B[ve];if(de){const{_f:le,...Ie}=de;if(le){const st=u.array.has(le.name);S([ve],!0);const Me=await yC(de,s,R,e.shouldUseNativeValidation&&!Y,st);if(S([ve]),Me[le.name]&&(te.valid=!1,Y))break;!Y&&(ye(Me,le.name)?st?jK(n.errors,Me,le.name):Vt(n.errors,le.name,Me[le.name]):Dn(n.errors,le.name))}Ie&&await L(Ie,Y,te)}}return te.valid},U=()=>{for(const B of u.unMount){const Y=ye(r,B);Y&&(Y._f.refs?Y._f.refs.every(te=>!qy(te)):!qy(Y._f.ref))&&Ge(B)}u.unMount=new Set},F=(B,Y)=>(B&&Y&&Vt(s,B,Y),!Za(Ae(),i)),M=(B,Y,te)=>R2(B,u,{...a.mount?s:dn(Y)?i:Ts(B)?{[B]:Y}:Y},te,Y),pe=B=>Lh(ye(a.mount?s:i,B,t.shouldUnregister?ye(i,B,[]):[])),Se=(B,Y,te={})=>{const ve=ye(r,B);let de=Y;if(ve){const le=ve._f;le&&(!le.disabled&&Vt(s,B,L2(Y,le)),de=em(le.ref)&&Sr(Y)?"":Y,N2(le.ref)?[...le.ref.options].forEach(Ie=>Ie.selected=de.includes(Ie.value)):le.refs?Dh(le.ref)?le.refs.length>1?le.refs.forEach(Ie=>(!Ie.defaultChecked||!Ie.disabled)&&(Ie.checked=Array.isArray(de)?!!de.find(st=>st===Ie.value):de===Ie.value)):le.refs[0]&&(le.refs[0].checked=!!de):le.refs.forEach(Ie=>Ie.checked=Ie.value===de):VE(le.ref)?le.ref.value="":(le.ref.value=de,le.ref.type||m.values.next({name:B,values:{...s}})))}(te.shouldDirty||te.shouldTouch)&&Q(B,de,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&ge(B)},Oe=(B,Y,te)=>{for(const ve in Y){const de=Y[ve],le=`${B}.${ve}`,Ie=ye(r,le);(u.array.has(B)||!nm(de)||Ie&&!Ie._f)&&!yu(de)?Oe(le,de,te):Se(le,de,te)}},De=(B,Y,te={})=>{const ve=ye(r,B),de=u.array.has(B),le=Dr(Y);Vt(s,B,le),de?(m.array.next({name:B,values:{...s}}),(p.isDirty||p.dirtyFields)&&te.shouldDirty&&m.state.next({name:B,dirtyFields:gp(i,s),isDirty:F(B,le)})):ve&&!ve._f&&!Sr(le)?Oe(B,le,te):Se(B,le,te),fC(B,u)&&m.state.next({...n}),m.values.next({name:a.mount?B:void 0,values:{...s}})},ee=async B=>{a.mount=!0;const Y=B.target;let te=Y.name,ve=!0;const de=ye(r,te),le=()=>Y.type?Hy(de._f):T2(B),Ie=st=>{ve=Number.isNaN(st)||st===ye(s,te,st)};if(de){let st,Me;const ut=le(),En=B.type===Zg.BLUR||B.type===Zg.FOCUS_OUT,tr=!qK(de._f)&&!e.resolver&&!ye(n.errors,te)&&!de._f.deps||HK(En,ye(n.touchedFields,te),n.isSubmitted,A,y),ui=fC(te,u,En);Vt(s,te,ut),En?(de._f.onBlur&&de._f.onBlur(B),c&&c(0)):de._f.onChange&&de._f.onChange(B);const jn=Q(te,ut,En,!1),Pr=!Jr(jn)||ui;if(!En&&m.values.next({name:te,type:B.type,values:{...s}}),tr)return p.isValid&&N(),Pr&&m.state.next({name:te,...ui?{}:jn});if(!En&&ui&&m.state.next({...n}),e.resolver){const{errors:ci}=await C([te]);if(Ie(ut),ve){const Pi=_C(n.errors,r,te),di=_C(ci,r,Pi.name||te);st=di.error,te=di.name,Me=Jr(ci)}}else S([te],!0),st=(await yC(de,s,R,e.shouldUseNativeValidation))[te],S([te]),Ie(ut),ve&&(st?Me=!1:p.isValid&&(Me=await L(r,!0)));ve&&(de._f.deps&&ge(de._f.deps),x(te,Me,st,jn))}},oe=(B,Y)=>{if(ye(n.errors,Y)&&B.focus)return B.focus(),1},ge=async(B,Y={})=>{let te,ve;const de=Gp(B);if(e.resolver){const le=await k(dn(B)?B:de);te=Jr(le),ve=B?!de.some(Ie=>ye(le,Ie)):te}else B?(ve=(await Promise.all(de.map(async le=>{const Ie=ye(r,le);return await L(Ie&&Ie._f?{[le]:Ie}:Ie)}))).every(Boolean),!(!ve&&!n.isValid)&&N()):ve=te=await L(r);return m.state.next({...!Ts(B)||p.isValid&&te!==n.isValid?{}:{name:B},...e.resolver||!B?{isValid:te}:{},errors:n.errors}),Y.shouldFocus&&!ve&&Id(r,oe,B?de:u.mount),ve},Ae=B=>{const Y={...a.mount?s:i};return dn(B)?Y:Ts(B)?ye(Y,B):B.map(te=>ye(Y,te))},xe=(B,Y)=>({invalid:!!ye((Y||n).errors,B),isDirty:!!ye((Y||n).dirtyFields,B),isTouched:!!ye((Y||n).touchedFields,B),isValidating:!!ye((Y||n).validatingFields,B),error:ye((Y||n).errors,B)}),We=B=>{B&&Gp(B).forEach(Y=>Dn(n.errors,Y)),m.state.next({errors:B?n.errors:{}})},lt=(B,Y,te)=>{const ve=(ye(r,B,{_f:{}})._f||{}).ref,de=ye(n.errors,B)||{},{ref:le,message:Ie,type:st,...Me}=de;Vt(n.errors,B,{...Me,...Y,ref:ve}),m.state.next({name:B,errors:n.errors,isValid:!1}),te&&te.shouldFocus&&ve&&ve.focus&&ve.focus()},et=(B,Y)=>ea(B)?m.values.subscribe({next:te=>B(M(void 0,Y),te)}):M(B,Y,!0),Ge=(B,Y={})=>{for(const te of B?Gp(B):u.mount)u.mount.delete(te),u.array.delete(te),Y.keepValue||(Dn(r,te),Dn(s,te)),!Y.keepError&&Dn(n.errors,te),!Y.keepDirty&&Dn(n.dirtyFields,te),!Y.keepTouched&&Dn(n.touchedFields,te),!Y.keepIsValidating&&Dn(n.validatingFields,te),!e.shouldUnregister&&!Y.keepDefaultValue&&Dn(i,te);m.values.next({values:{...s}}),m.state.next({...n,...Y.keepDirty?{isDirty:F()}:{}}),!Y.keepIsValid&&N()},it=({disabled:B,name:Y,field:te,fields:ve,value:de})=>{if(Es(B)&&a.mount||B){const le=B?void 0:dn(de)?Hy(te?te._f:ye(ve,Y)._f):de;Vt(s,Y,le),Q(Y,le,!1,!1,!0)}},Pn=(B,Y={})=>{let te=ye(r,B);const ve=Es(Y.disabled);return Vt(r,B,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:B}},name:B,mount:!0,...Y}}),u.mount.add(B),te?it({field:te,disabled:Y.disabled,name:B,value:Y.value}):K(B,!0,Y.value),{...ve?{disabled:Y.disabled}:{},...e.progressive?{required:!!Y.required,min:Gc(Y.min),max:Gc(Y.max),minLength:Gc(Y.minLength),maxLength:Gc(Y.maxLength),pattern:Gc(Y.pattern)}:{},name:B,onChange:ee,onBlur:ee,ref:de=>{if(de){Pn(B,Y),te=ye(r,B);const le=dn(de.value)&&de.querySelectorAll&&de.querySelectorAll("input,select,textarea")[0]||de,Ie=zK(le),st=te._f.refs||[];if(Ie?st.find(Me=>Me===le):le===te._f.ref)return;Vt(r,B,{_f:{...te._f,...Ie?{refs:[...st.filter(qy),le,...Array.isArray(ye(i,B))?[{}]:[]],ref:{type:le.type,name:B}}:{ref:le}}}),K(B,!1,void 0,le)}else te=ye(r,B,{}),te._f&&(te._f.mount=!1),(e.shouldUnregister||Y.shouldUnregister)&&!(x2(u.array,B)&&a.action)&&u.unMount.add(B)}}},wn=()=>e.shouldFocusError&&Id(r,oe,u.mount),tt=B=>{Es(B)&&(m.state.next({disabled:B}),Id(r,(Y,te)=>{const ve=ye(r,te);ve&&(Y.disabled=ve._f.disabled||B,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(de=>{de.disabled=ve._f.disabled||B}))},0,!1))},on=(B,Y)=>async te=>{let ve;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let de=Dr(s);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:le,values:Ie}=await C();n.errors=le,de=Ie}else await L(r);if(Dn(n.errors,"root"),Jr(n.errors)){m.state.next({errors:{}});try{await B(de,te)}catch(le){ve=le}}else Y&&await Y({...n.errors},te),wn(),setTimeout(wn);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Jr(n.errors)&&!ve,submitCount:n.submitCount+1,errors:n.errors}),ve)throw ve},Et=(B,Y={})=>{ye(r,B)&&(dn(Y.defaultValue)?De(B,Dr(ye(i,B))):(De(B,Y.defaultValue),Vt(i,B,Dr(Y.defaultValue))),Y.keepTouched||Dn(n.touchedFields,B),Y.keepDirty||(Dn(n.dirtyFields,B),n.isDirty=Y.defaultValue?F(B,Dr(ye(i,B))):F()),Y.keepError||(Dn(n.errors,B),p.isValid&&N()),m.state.next({...n}))},Jt=(B,Y={})=>{const te=B?Dr(B):i,ve=Dr(te),de=Jr(B),le=de?i:ve;if(Y.keepDefaultValues||(i=te),!Y.keepValues){if(Y.keepDirtyValues)for(const Ie of u.mount)ye(n.dirtyFields,Ie)?Vt(le,Ie,ye(s,Ie)):De(Ie,ye(le,Ie));else{if(OE&&dn(B))for(const Ie of u.mount){const st=ye(r,Ie);if(st&&st._f){const Me=Array.isArray(st._f.refs)?st._f.refs[0]:st._f.ref;if(em(Me)){const ut=Me.closest("form");if(ut){ut.reset();break}}}}r={}}s=t.shouldUnregister?Y.keepDefaultValues?Dr(i):{}:Dr(le),m.array.next({values:{...le}}),m.values.next({values:{...le}})}u={mount:Y.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!p.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues,a.watch=!!t.shouldUnregister,m.state.next({submitCount:Y.keepSubmitCount?n.submitCount:0,isDirty:de?!1:Y.keepDirty?n.isDirty:!!(Y.keepDefaultValues&&!Za(B,i)),isSubmitted:Y.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:de?[]:Y.keepDirtyValues?Y.keepDefaultValues&&s?gp(i,s):n.dirtyFields:Y.keepDefaultValues&&B?gp(i,B):{},touchedFields:Y.keepTouched?n.touchedFields:{},errors:Y.keepErrors?n.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},an=(B,Y)=>Jt(ea(B)?B(s):B,Y);return{control:{register:Pn,unregister:Ge,getFieldState:xe,handleSubmit:on,setError:lt,_executeSchema:C,_getWatch:M,_getDirty:F,_updateValid:N,_removeUnmounted:U,_updateFieldArray:E,_updateDisabledField:it,_getFieldArray:pe,_reset:Jt,_resetDefaultValues:()=>ea(e.defaultValues)&&e.defaultValues().then(B=>{an(B,e.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:B=>{n={...n,...B}},_disableForm:tt,_subjects:m,_proxyFormState:p,_setErrors:j,get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(B){a=B},get _defaultValues(){return i},get _names(){return u},set _names(B){u=B},get _formState(){return n},set _formState(B){n=B},get _options(){return e},set _options(B){e={...e,...B}}},trigger:ge,register:Pn,handleSubmit:on,watch:et,setValue:De,getValues:Ae,reset:an,resetField:Et,clearErrors:We,unregister:Ge,setError:lt,setFocus:(B,Y={})=>{const te=ye(r,B),ve=te&&te._f;if(ve){const de=ve.refs?ve.refs[0]:ve.ref;de.focus&&(de.focus(),Y.shouldSelect&&de.select())}},getFieldState:xe}}function ah(t={}){const e=we.useRef(),n=we.useRef(),[r,i]=we.useState({isDirty:!1,isValidating:!1,isLoading:ea(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ea(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...QK(t),formState:r});const s=e.current.control;return s._options=t,ME({subject:s._subjects.state,next:a=>{A2(a,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),we.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),we.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==r.isDirty&&s._subjects.state.next({isDirty:a})}},[s,r.isDirty]),we.useEffect(()=>{t.values&&!Za(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[t.values,s]),we.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),we.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),we.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=C2(r,s),e.current}const Gt=W.forwardRef(function({type:e="text",className:n="",isFocused:r=!1,placeholder:i,control:s,name:a,rules:u,defaultValue:c,updateOnChange:h=y=>y,...p},m){const[y,A]=W.useState(!1),[R,I]=W.useState(i),N=m||W.useRef(null);return W.useEffect(()=>{r&&(N!=null&&N.current)&&(N==null||N.current.focus()),c&&A(!0)},[]),_.jsxs("div",{className:"relative w-full",children:[_.jsx(FE,{name:a,control:s,rules:u,defaultValue:c,render:({field:{value:S,onChange:E,onBlur:P},fieldState:{error:j}})=>{const K=S&&S.toString().trim(),Q=()=>{A(!0),I(void 0)},x=()=>{if(I(i),!K)return A(!1),P()};return _.jsxs(_.Fragment,{children:[_.jsx("input",{ref:N,id:a,type:e,className:`${K?"pt-4 pb-1":"py-2"} ${i?"focus:pt-4 focus:pb-1":"focus:py-2"} px-3 pr-10 mb-0.5 bg-gray-700 border border-gray-700 text-white text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 ${n} `,onFocus:Q,onBlur:x,placeholder:R?`${R}${u!=null&&u.required?"(*)":""}`:void 0,onChange:h(E),defaultValue:c,...p}),j&&_.jsx("span",{className:"block mt-0.5 mb-2.5 text-sm tracking-wider font-medium underline underline-offset-4 decoration-dotted text-red-500",dangerouslySetInnerHTML:{__html:j.message||"Error encountered with the input"}})]})}}),i&&_.jsxs("label",{htmlFor:a,className:`absolute mb-0 text-white bg-gray-700 pl-4 pr-6 py-0.5 rounded-md origin-left transform scale-75 -top-4 left-1.5 transition-all duration-400 text-lg font-semibold shadow-md shadow-gray-500 ${y?"opacity-100 -top-4":"top-8 opacity-0"}`,children:[i," ",u!=null&&u.required?"(*)":""]})]})}),YK=()=>{const t=ec(),{control:e,handleSubmit:n}=ah({mode:"all"}),r=i=>{IK(i.email).then(()=>{t("/")})};return _.jsx(Il,{title:"Forgot Password",children:_.jsx("div",{className:"px-6 py-12 flex flex-col items-start gap-12 md:flex-row",children:_.jsxs("form",{onSubmit:n(r),className:"border-2 border-gray-200 rounded-lg px-6 py-5 w-full",children:[_.jsx("p",{className:"text-3xl font-extrabold tracking-wider",children:"Forgot Password"}),_.jsx("p",{className:"text-xs mt-1",children:"Reset your password to gain access to your account"}),_.jsx("div",{className:"pt-4 pb-3 space-y-7",children:_.jsx("div",{children:_.jsx(Gt,{control:e,rules:{required:"Email field is required",pattern:{value:Dg,message:"Ouch, that doesn't look like an email!"}},name:"email",type:"email",placeholder:"Email address"})})}),_.jsx("div",{className:"flex flex-col items-end",children:_.jsx(Hi,{children:"Reset Password"})})]})})})},wC=()=>{const t=ec(),{control:e,handleSubmit:n}=ah({mode:"all"}),{control:r,handleSubmit:i}=ah({mode:"all"}),s=u=>{w2(u).then(()=>t("/"))},a=u=>{SK(u).then(()=>t("/"))};return _.jsx(Il,{title:"Login to your dashboard",description:"Login to your account to view and track your order",children:_.jsxs("div",{className:"px-6 py-12 flex flex-col items-start gap-12 md:flex-row",children:[_.jsxs("form",{onSubmit:n(a),className:"border-2 border-gray-200 rounded-lg px-6 py-5 w-full md:w-1/2",children:[_.jsx("p",{className:"text-3xl font-extrabold tracking-wider",children:"Sign In"}),_.jsx("p",{className:"text-xs",children:"Login to your account to explore and track your orders in realtime"}),_.jsxs("div",{className:"pt-4 pb-3 space-y-7",children:[_.jsx("div",{children:_.jsx(Gt,{control:e,rules:{required:"Email field is required",pattern:{value:Dg,message:"Ouch, that doesn't look like an email!"}},name:"email",type:"email",placeholder:"Email address"})}),_.jsx("div",{children:_.jsx(Gt,{control:e,rules:{required:"Password field is required"},name:"password",type:"password",placeholder:"Password"})})]}),_.jsx(ei,{to:"/forgot-password",className:"text-base tracking-wide underline underline-offset-1 decoration-dotted",children:"Forgot password?"}),_.jsx("div",{className:"flex flex-col items-end",children:_.jsx(Hi,{children:"Sign In"})})]}),_.jsxs("form",{onSubmit:i(s),className:"border-2 border-gray-200 rounded-lg px-6 py-5 w-full md:w-1/2",children:[_.jsx("p",{className:"text-3xl font-extrabold tracking-wider",children:"Sign Up"}),_.jsx("p",{className:"text-xs",children:"Join us today and get to implement our app full feature"}),_.jsxs("div",{className:"pt-4 pb-3 space-y-5",children:[_.jsx("div",{children:_.jsx(Gt,{control:r,rules:{required:"First Name field is required"},name:"first_name",placeholder:"First Name"})}),_.jsx("div",{children:_.jsx(Gt,{control:r,rules:{required:"Last Name field is required"},name:"last_name",placeholder:"Last Name"})}),_.jsx("div",{children:_.jsx(Gt,{control:r,name:"username",placeholder:"Username",rules:{required:"Username field is required"}})}),_.jsx("div",{children:_.jsx(Gt,{control:r,rules:{required:"Phone field is required",pattern:{value:HR,message:"Phone number can't contain letters"}},name:"phone",placeholder:"Phone"})}),_.jsx("div",{children:_.jsx(Gt,{control:r,rules:{required:"Email field is required",pattern:{value:Dg,message:"Ouch, that doesn't look like an email!"}},name:"email",type:"email",placeholder:"Email address"})}),_.jsx("div",{children:_.jsx(Gt,{control:r,rules:{required:"Password field is required",minLength:{value:8,message:"Password must contain the following: <br/> <em> - a <strong>lowercase</strong> letter <br/> - an <strong>uppercase</strong> letter <br/> - a <strong>number</strong> <br/> - Minimum of 8 characters </em> "},pattern:{value:s_,message:"Password must contain the following: <br/> <em> - a <strong>lowercase</strong> letter <br/> - an <strong>uppercase</strong> letter <br/> - a <strong>number</strong> <br/> - Minimum of 8 characters </em> "}},name:"password",type:"password",placeholder:"Password"})})]}),_.jsx("div",{className:"flex flex-col items-end",children:_.jsx(Hi,{type:"submit",children:"Sign Up"})})]})]})})};var im={exports:{}};im.exports;(function(t,e){var n={};(function(){var r,i="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",p=500,m="__lodash_placeholder__",y=1,A=2,R=4,I=1,N=2,S=1,E=2,P=4,j=8,K=16,Q=32,x=64,C=128,k=256,L=512,U=30,F="...",M=800,pe=16,Se=1,Oe=2,De=3,ee=1/0,oe=9007199254740991,ge=17976931348623157e292,Ae=NaN,xe=4294967295,We=xe-1,lt=xe>>>1,et=[["ary",C],["bind",S],["bindKey",E],["curry",j],["curryRight",K],["flip",L],["partial",Q],["partialRight",x],["rearg",k]],Ge="[object Arguments]",it="[object Array]",Pn="[object AsyncFunction]",wn="[object Boolean]",tt="[object Date]",on="[object DOMException]",Et="[object Error]",Jt="[object Function]",an="[object GeneratorFunction]",pt="[object Map]",St="[object Number]",Ai="[object Null]",B="[object Object]",Y="[object Promise]",te="[object Proxy]",ve="[object RegExp]",de="[object Set]",le="[object String]",Ie="[object Symbol]",st="[object Undefined]",Me="[object WeakMap]",ut="[object WeakSet]",En="[object ArrayBuffer]",tr="[object DataView]",ui="[object Float32Array]",jn="[object Float64Array]",Pr="[object Int8Array]",ci="[object Int16Array]",Pi="[object Int32Array]",di="[object Uint8Array]",Co="[object Uint8ClampedArray]",ts="[object Uint16Array]",ns="[object Uint32Array]",Ao=/\b__p \+= '';/g,Cl=/\b(__p \+=) '' \+/g,rs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Po=/&(?:amp|lt|gt|quot|#39);/g,Ls=/[&<>"']/g,Ri=RegExp(Po.source),q=RegExp(Ls.source),X=/<%-([\s\S]+?)%>/g,re=/<%([\s\S]+?)%>/g,he=/<%=([\s\S]+?)%>/g,Te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,be=/^\w*$/,Ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ee=/[\\^$.*+?()[\]{}|]/g,qe=RegExp(Ee.source),je=/^\s+/,fn=/\s/,Ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Be=/\{\n\/\* \[wrapped with (.+)\] \*/,Ot=/,? & /,zt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,is=/[()=,{}\[\]\/\s]/,Rr=/\\(\\)?/g,$r=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Bn=/\w*$/,bi=/^[-+]0x[0-9a-f]+$/i,pr=/^0b[01]+$/i,ss=/^\[object .+?Constructor\]$/,os=/^0o[0-7]+$/i,Ms=/^(?:0|[1-9]\d*)$/,ot=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ln=/($^)/,Rn=/['\n\r\u2028\u2029\\]/g,Wt="\\ud800-\\udfff",ki="\\u0300-\\u036f",as="\\ufe20-\\ufe2f",Ni="\\u20d0-\\u20ff",Al=ki+as+Ni,Mh="\\u2700-\\u27bf",oc="a-z\\xdf-\\xf6\\xf8-\\xff",Fh="\\xac\\xb1\\xd7\\xf7",Vh="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ac="\\u2000-\\u206f",lc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",uc="A-Z\\xc0-\\xd6\\xd8-\\xde",cc="\\ufe0e\\ufe0f",Uh=Fh+Vh+ac+lc,dc="['’]",jh="["+Wt+"]",hc="["+Uh+"]",Pl="["+Al+"]",ls="\\d+",Oi="["+Mh+"]",Ca="["+oc+"]",Aa="[^"+Wt+Uh+ls+Mh+oc+uc+"]",Rl="\\ud83c[\\udffb-\\udfff]",Lt="(?:"+Pl+"|"+Rl+")",Pa="[^"+Wt+"]",Fs="(?:\\ud83c[\\udde6-\\uddff]){2}",Vs="[\\ud800-\\udbff][\\udc00-\\udfff]",Ro="["+uc+"]",fc="\\u200d",Bh="(?:"+Ca+"|"+Aa+")",ev="(?:"+Ro+"|"+Aa+")",$h="(?:"+dc+"(?:d|ll|m|re|s|t|ve))?",zh="(?:"+dc+"(?:D|LL|M|RE|S|T|VE))?",bo=Lt+"?",Di="["+cc+"]?",Wh="(?:"+fc+"(?:"+[Pa,Fs,Vs].join("|")+")"+Di+bo+")*",qh="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Hh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Us=Di+bo+Wh,tv="(?:"+[Oi,Fs,Vs].join("|")+")"+Us,nv="(?:"+[Pa+Pl+"?",Pl,Fs,Vs,jh].join("|")+")",rv=RegExp(dc,"g"),us=RegExp(Pl,"g"),pc=RegExp(Rl+"(?="+Rl+")|"+nv+Us,"g"),iv=RegExp([Ro+"?"+Ca+"+"+$h+"(?="+[hc,Ro,"$"].join("|")+")",ev+"+"+zh+"(?="+[hc,Ro+Bh,"$"].join("|")+")",Ro+"?"+Bh+"+"+$h,Ro+"+"+zh,Hh,qh,ls,tv].join("|"),"g"),Ra=RegExp("["+fc+Wt+Al+cc+"]"),bl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ba=-1,Tt={};Tt[ui]=Tt[jn]=Tt[Pr]=Tt[ci]=Tt[Pi]=Tt[di]=Tt[Co]=Tt[ts]=Tt[ns]=!0,Tt[Ge]=Tt[it]=Tt[En]=Tt[wn]=Tt[tr]=Tt[tt]=Tt[Et]=Tt[Jt]=Tt[pt]=Tt[St]=Tt[B]=Tt[ve]=Tt[de]=Tt[le]=Tt[Me]=!1;var bt={};bt[Ge]=bt[it]=bt[En]=bt[tr]=bt[wn]=bt[tt]=bt[ui]=bt[jn]=bt[Pr]=bt[ci]=bt[Pi]=bt[pt]=bt[St]=bt[B]=bt[ve]=bt[de]=bt[le]=bt[Ie]=bt[di]=bt[Co]=bt[ts]=bt[ns]=!0,bt[Et]=bt[Jt]=bt[Me]=!1;var gc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Kt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ov={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gh=parseFloat,Qh=parseInt,mc=typeof n=="object"&&n&&n.Object===Object&&n,kl=typeof self=="object"&&self&&self.Object===Object&&self,Sn=mc||kl||Function("return this")(),zr=e&&!e.nodeType&&e,cs=zr&&!0&&t&&!t.nodeType&&t,Yh=cs&&cs.exports===zr,js=Yh&&mc.process,gr=function(){try{var z=cs&&cs.require&&cs.require("util").types;return z||js&&js.binding&&js.binding("util")}catch{}}(),Nl=gr&&gr.isArrayBuffer,ka=gr&&gr.isDate,vc=gr&&gr.isMap,Na=gr&&gr.isRegExp,Xh=gr&&gr.isSet,yc=gr&&gr.isTypedArray;function bn(z,ne,J){switch(J.length){case 0:return z.call(ne);case 1:return z.call(ne,J[0]);case 2:return z.call(ne,J[0],J[1]);case 3:return z.call(ne,J[0],J[1],J[2])}return z.apply(ne,J)}function Jh(z,ne,J,Ce){for(var Qe=-1,It=z==null?0:z.length;++Qe<It;){var Nn=z[Qe];ne(Ce,Nn,J(Nn),z)}return Ce}function mr(z,ne){for(var J=-1,Ce=z==null?0:z.length;++J<Ce&&ne(z[J],J,z)!==!1;);return z}function _c(z,ne){for(var J=z==null?0:z.length;J--&&ne(z[J],J,z)!==!1;);return z}function Ol(z,ne){for(var J=-1,Ce=z==null?0:z.length;++J<Ce;)if(!ne(z[J],J,z))return!1;return!0}function Li(z,ne){for(var J=-1,Ce=z==null?0:z.length,Qe=0,It=[];++J<Ce;){var Nn=z[J];ne(Nn,J,z)&&(It[Qe++]=Nn)}return It}function Bs(z,ne){var J=z==null?0:z.length;return!!J&&Wr(z,ne,0)>-1}function Dl(z,ne,J){for(var Ce=-1,Qe=z==null?0:z.length;++Ce<Qe;)if(J(ne,z[Ce]))return!0;return!1}function Mt(z,ne){for(var J=-1,Ce=z==null?0:z.length,Qe=Array(Ce);++J<Ce;)Qe[J]=ne(z[J],J,z);return Qe}function nr(z,ne){for(var J=-1,Ce=ne.length,Qe=z.length;++J<Ce;)z[Qe+J]=ne[J];return z}function Ll(z,ne,J,Ce){var Qe=-1,It=z==null?0:z.length;for(Ce&&It&&(J=z[++Qe]);++Qe<It;)J=ne(J,z[Qe],Qe,z);return J}function Zh(z,ne,J,Ce){var Qe=z==null?0:z.length;for(Ce&&Qe&&(J=z[--Qe]);Qe--;)J=ne(J,z[Qe],Qe,z);return J}function Ml(z,ne){for(var J=-1,Ce=z==null?0:z.length;++J<Ce;)if(ne(z[J],J,z))return!0;return!1}var ef=O("length");function Fl(z){return z.split("")}function vr(z){return z.match(zt)||[]}function wc(z,ne,J){var Ce;return J(z,function(Qe,It,Nn){if(ne(Qe,It,Nn))return Ce=It,!1}),Ce}function Oa(z,ne,J,Ce){for(var Qe=z.length,It=J+(Ce?1:-1);Ce?It--:++It<Qe;)if(ne(z[It],It,z))return It;return-1}function Wr(z,ne,J){return ne===ne?Y2(z,ne,J):Oa(z,g,J)}function d(z,ne,J,Ce){for(var Qe=J-1,It=z.length;++Qe<It;)if(Ce(z[Qe],ne))return Qe;return-1}function g(z){return z!==z}function w(z,ne){var J=z==null?0:z.length;return J?xt(z,ne)/J:Ae}function O(z){return function(ne){return ne==null?r:ne[z]}}function G(z){return function(ne){return z==null?r:z[ne]}}function Z(z,ne,J,Ce,Qe){return Qe(z,function(It,Nn,Ft){J=Ce?(Ce=!1,It):ne(J,It,Nn,Ft)}),J}function me(z,ne){var J=z.length;for(z.sort(ne);J--;)z[J]=z[J].value;return z}function xt(z,ne){for(var J,Ce=-1,Qe=z.length;++Ce<Qe;){var It=ne(z[Ce]);It!==r&&(J=J===r?It:J+It)}return J}function pn(z,ne){for(var J=-1,Ce=Array(z);++J<z;)Ce[J]=ne(J);return Ce}function yt(z,ne){return Mt(ne,function(J){return[J,z[J]]})}function kn(z){return z&&z.slice(0,$E(z)+1).replace(je,"")}function Pt(z){return function(ne){return z(ne)}}function ds(z,ne){return Mt(ne,function(J){return z[J]})}function Hn(z,ne){return z.has(ne)}function Da(z,ne){for(var J=-1,Ce=z.length;++J<Ce&&Wr(ne,z[J],0)>-1;);return J}function Vl(z,ne){for(var J=z.length;J--&&Wr(ne,z[J],0)>-1;);return J}function $2(z,ne){for(var J=z.length,Ce=0;J--;)z[J]===ne&&++Ce;return Ce}var z2=G(gc),W2=G(Kt);function q2(z){return"\\"+ov[z]}function H2(z,ne){return z==null?r:z[ne]}function Ul(z){return Ra.test(z)}function K2(z){return bl.test(z)}function G2(z){for(var ne,J=[];!(ne=z.next()).done;)J.push(ne.value);return J}function av(z){var ne=-1,J=Array(z.size);return z.forEach(function(Ce,Qe){J[++ne]=[Qe,Ce]}),J}function BE(z,ne){return function(J){return z(ne(J))}}function ko(z,ne){for(var J=-1,Ce=z.length,Qe=0,It=[];++J<Ce;){var Nn=z[J];(Nn===ne||Nn===m)&&(z[J]=m,It[Qe++]=J)}return It}function tf(z){var ne=-1,J=Array(z.size);return z.forEach(function(Ce){J[++ne]=Ce}),J}function Q2(z){var ne=-1,J=Array(z.size);return z.forEach(function(Ce){J[++ne]=[Ce,Ce]}),J}function Y2(z,ne,J){for(var Ce=J-1,Qe=z.length;++Ce<Qe;)if(z[Ce]===ne)return Ce;return-1}function X2(z,ne,J){for(var Ce=J+1;Ce--;)if(z[Ce]===ne)return Ce;return Ce}function jl(z){return Ul(z)?Z2(z):ef(z)}function Mi(z){return Ul(z)?eN(z):Fl(z)}function $E(z){for(var ne=z.length;ne--&&fn.test(z.charAt(ne)););return ne}var J2=G(sv);function Z2(z){for(var ne=pc.lastIndex=0;pc.test(z);)++ne;return ne}function eN(z){return z.match(pc)||[]}function tN(z){return z.match(iv)||[]}var nN=function z(ne){ne=ne==null?Sn:Bl.defaults(Sn.Object(),ne,Bl.pick(Sn,Kh));var J=ne.Array,Ce=ne.Date,Qe=ne.Error,It=ne.Function,Nn=ne.Math,Ft=ne.Object,lv=ne.RegExp,rN=ne.String,hi=ne.TypeError,nf=J.prototype,iN=It.prototype,$l=Ft.prototype,rf=ne["__core-js_shared__"],sf=iN.toString,kt=$l.hasOwnProperty,sN=0,zE=function(){var o=/[^.]+$/.exec(rf&&rf.keys&&rf.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),of=$l.toString,oN=sf.call(Ft),aN=Sn._,lN=lv("^"+sf.call(kt).replace(Ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),af=Yh?ne.Buffer:r,No=ne.Symbol,lf=ne.Uint8Array,WE=af?af.allocUnsafe:r,uf=BE(Ft.getPrototypeOf,Ft),qE=Ft.create,HE=$l.propertyIsEnumerable,cf=nf.splice,KE=No?No.isConcatSpreadable:r,Ec=No?No.iterator:r,La=No?No.toStringTag:r,df=function(){try{var o=ja(Ft,"defineProperty");return o({},"",{}),o}catch{}}(),uN=ne.clearTimeout!==Sn.clearTimeout&&ne.clearTimeout,cN=Ce&&Ce.now!==Sn.Date.now&&Ce.now,dN=ne.setTimeout!==Sn.setTimeout&&ne.setTimeout,hf=Nn.ceil,ff=Nn.floor,uv=Ft.getOwnPropertySymbols,hN=af?af.isBuffer:r,GE=ne.isFinite,fN=nf.join,pN=BE(Ft.keys,Ft),On=Nn.max,rr=Nn.min,gN=Ce.now,mN=ne.parseInt,QE=Nn.random,vN=nf.reverse,cv=ja(ne,"DataView"),Sc=ja(ne,"Map"),dv=ja(ne,"Promise"),zl=ja(ne,"Set"),Tc=ja(ne,"WeakMap"),xc=ja(Ft,"create"),pf=Tc&&new Tc,Wl={},yN=Ba(cv),_N=Ba(Sc),wN=Ba(dv),EN=Ba(zl),SN=Ba(Tc),gf=No?No.prototype:r,Ic=gf?gf.valueOf:r,YE=gf?gf.toString:r;function b(o){if(un(o)&&!Xe(o)&&!(o instanceof ht)){if(o instanceof fi)return o;if(kt.call(o,"__wrapped__"))return X1(o)}return new fi(o)}var ql=function(){function o(){}return function(l){if(!Zt(l))return{};if(qE)return qE(l);o.prototype=l;var f=new o;return o.prototype=r,f}}();function mf(){}function fi(o,l){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=r}b.templateSettings={escape:X,evaluate:re,interpolate:he,variable:"",imports:{_:b}},b.prototype=mf.prototype,b.prototype.constructor=b,fi.prototype=ql(mf.prototype),fi.prototype.constructor=fi;function ht(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=xe,this.__views__=[]}function TN(){var o=new ht(this.__wrapped__);return o.__actions__=br(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=br(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=br(this.__views__),o}function xN(){if(this.__filtered__){var o=new ht(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function IN(){var o=this.__wrapped__.value(),l=this.__dir__,f=Xe(o),v=l<0,T=f?o.length:0,D=FO(0,T,this.__views__),V=D.start,$=D.end,H=$-V,ie=v?$:V-1,se=this.__iteratees__,ae=se.length,_e=0,ke=rr(H,this.__takeCount__);if(!f||!v&&T==H&&ke==H)return w1(o,this.__actions__);var $e=[];e:for(;H--&&_e<ke;){ie+=l;for(var nt=-1,ze=o[ie];++nt<ae;){var ct=se[nt],gt=ct.iteratee,Kr=ct.type,wr=gt(ze);if(Kr==Oe)ze=wr;else if(!wr){if(Kr==Se)continue e;break e}}$e[_e++]=ze}return $e}ht.prototype=ql(mf.prototype),ht.prototype.constructor=ht;function Ma(o){var l=-1,f=o==null?0:o.length;for(this.clear();++l<f;){var v=o[l];this.set(v[0],v[1])}}function CN(){this.__data__=xc?xc(null):{},this.size=0}function AN(o){var l=this.has(o)&&delete this.__data__[o];return this.size-=l?1:0,l}function PN(o){var l=this.__data__;if(xc){var f=l[o];return f===h?r:f}return kt.call(l,o)?l[o]:r}function RN(o){var l=this.__data__;return xc?l[o]!==r:kt.call(l,o)}function bN(o,l){var f=this.__data__;return this.size+=this.has(o)?0:1,f[o]=xc&&l===r?h:l,this}Ma.prototype.clear=CN,Ma.prototype.delete=AN,Ma.prototype.get=PN,Ma.prototype.has=RN,Ma.prototype.set=bN;function $s(o){var l=-1,f=o==null?0:o.length;for(this.clear();++l<f;){var v=o[l];this.set(v[0],v[1])}}function kN(){this.__data__=[],this.size=0}function NN(o){var l=this.__data__,f=vf(l,o);if(f<0)return!1;var v=l.length-1;return f==v?l.pop():cf.call(l,f,1),--this.size,!0}function ON(o){var l=this.__data__,f=vf(l,o);return f<0?r:l[f][1]}function DN(o){return vf(this.__data__,o)>-1}function LN(o,l){var f=this.__data__,v=vf(f,o);return v<0?(++this.size,f.push([o,l])):f[v][1]=l,this}$s.prototype.clear=kN,$s.prototype.delete=NN,$s.prototype.get=ON,$s.prototype.has=DN,$s.prototype.set=LN;function zs(o){var l=-1,f=o==null?0:o.length;for(this.clear();++l<f;){var v=o[l];this.set(v[0],v[1])}}function MN(){this.size=0,this.__data__={hash:new Ma,map:new(Sc||$s),string:new Ma}}function FN(o){var l=Rf(this,o).delete(o);return this.size-=l?1:0,l}function VN(o){return Rf(this,o).get(o)}function UN(o){return Rf(this,o).has(o)}function jN(o,l){var f=Rf(this,o),v=f.size;return f.set(o,l),this.size+=f.size==v?0:1,this}zs.prototype.clear=MN,zs.prototype.delete=FN,zs.prototype.get=VN,zs.prototype.has=UN,zs.prototype.set=jN;function Fa(o){var l=-1,f=o==null?0:o.length;for(this.__data__=new zs;++l<f;)this.add(o[l])}function BN(o){return this.__data__.set(o,h),this}function $N(o){return this.__data__.has(o)}Fa.prototype.add=Fa.prototype.push=BN,Fa.prototype.has=$N;function Fi(o){var l=this.__data__=new $s(o);this.size=l.size}function zN(){this.__data__=new $s,this.size=0}function WN(o){var l=this.__data__,f=l.delete(o);return this.size=l.size,f}function qN(o){return this.__data__.get(o)}function HN(o){return this.__data__.has(o)}function KN(o,l){var f=this.__data__;if(f instanceof $s){var v=f.__data__;if(!Sc||v.length<s-1)return v.push([o,l]),this.size=++f.size,this;f=this.__data__=new zs(v)}return f.set(o,l),this.size=f.size,this}Fi.prototype.clear=zN,Fi.prototype.delete=WN,Fi.prototype.get=qN,Fi.prototype.has=HN,Fi.prototype.set=KN;function XE(o,l){var f=Xe(o),v=!f&&$a(o),T=!f&&!v&&Fo(o),D=!f&&!v&&!T&&Ql(o),V=f||v||T||D,$=V?pn(o.length,rN):[],H=$.length;for(var ie in o)(l||kt.call(o,ie))&&!(V&&(ie=="length"||T&&(ie=="offset"||ie=="parent")||D&&(ie=="buffer"||ie=="byteLength"||ie=="byteOffset")||Ks(ie,H)))&&$.push(ie);return $}function JE(o){var l=o.length;return l?o[Sv(0,l-1)]:r}function GN(o,l){return bf(br(o),Va(l,0,o.length))}function QN(o){return bf(br(o))}function hv(o,l,f){(f!==r&&!Vi(o[l],f)||f===r&&!(l in o))&&Ws(o,l,f)}function Cc(o,l,f){var v=o[l];(!(kt.call(o,l)&&Vi(v,f))||f===r&&!(l in o))&&Ws(o,l,f)}function vf(o,l){for(var f=o.length;f--;)if(Vi(o[f][0],l))return f;return-1}function YN(o,l,f,v){return Oo(o,function(T,D,V){l(v,T,f(T),V)}),v}function ZE(o,l){return o&&fs(l,$n(l),o)}function XN(o,l){return o&&fs(l,Nr(l),o)}function Ws(o,l,f){l=="__proto__"&&df?df(o,l,{configurable:!0,enumerable:!0,value:f,writable:!0}):o[l]=f}function fv(o,l){for(var f=-1,v=l.length,T=J(v),D=o==null;++f<v;)T[f]=D?r:Kv(o,l[f]);return T}function Va(o,l,f){return o===o&&(f!==r&&(o=o<=f?o:f),l!==r&&(o=o>=l?o:l)),o}function pi(o,l,f,v,T,D){var V,$=l&y,H=l&A,ie=l&R;if(f&&(V=T?f(o,v,T,D):f(o)),V!==r)return V;if(!Zt(o))return o;var se=Xe(o);if(se){if(V=UO(o),!$)return br(o,V)}else{var ae=ir(o),_e=ae==Jt||ae==an;if(Fo(o))return T1(o,$);if(ae==B||ae==Ge||_e&&!T){if(V=H||_e?{}:$1(o),!$)return H?PO(o,XN(V,o)):AO(o,ZE(V,o))}else{if(!bt[ae])return T?o:{};V=jO(o,ae,$)}}D||(D=new Fi);var ke=D.get(o);if(ke)return ke;D.set(o,V),vS(o)?o.forEach(function(ze){V.add(pi(ze,l,f,ze,o,D))}):gS(o)&&o.forEach(function(ze,ct){V.set(ct,pi(ze,l,f,ct,o,D))});var $e=ie?H?Ov:Nv:H?Nr:$n,nt=se?r:$e(o);return mr(nt||o,function(ze,ct){nt&&(ct=ze,ze=o[ct]),Cc(V,ct,pi(ze,l,f,ct,o,D))}),V}function JN(o){var l=$n(o);return function(f){return e1(f,o,l)}}function e1(o,l,f){var v=f.length;if(o==null)return!v;for(o=Ft(o);v--;){var T=f[v],D=l[T],V=o[T];if(V===r&&!(T in o)||!D(V))return!1}return!0}function t1(o,l,f){if(typeof o!="function")throw new hi(u);return Oc(function(){o.apply(r,f)},l)}function Ac(o,l,f,v){var T=-1,D=Bs,V=!0,$=o.length,H=[],ie=l.length;if(!$)return H;f&&(l=Mt(l,Pt(f))),v?(D=Dl,V=!1):l.length>=s&&(D=Hn,V=!1,l=new Fa(l));e:for(;++T<$;){var se=o[T],ae=f==null?se:f(se);if(se=v||se!==0?se:0,V&&ae===ae){for(var _e=ie;_e--;)if(l[_e]===ae)continue e;H.push(se)}else D(l,ae,v)||H.push(se)}return H}var Oo=P1(hs),n1=P1(gv,!0);function ZN(o,l){var f=!0;return Oo(o,function(v,T,D){return f=!!l(v,T,D),f}),f}function yf(o,l,f){for(var v=-1,T=o.length;++v<T;){var D=o[v],V=l(D);if(V!=null&&($===r?V===V&&!Hr(V):f(V,$)))var $=V,H=D}return H}function eO(o,l,f,v){var T=o.length;for(f=Ze(f),f<0&&(f=-f>T?0:T+f),v=v===r||v>T?T:Ze(v),v<0&&(v+=T),v=f>v?0:_S(v);f<v;)o[f++]=l;return o}function r1(o,l){var f=[];return Oo(o,function(v,T,D){l(v,T,D)&&f.push(v)}),f}function Kn(o,l,f,v,T){var D=-1,V=o.length;for(f||(f=$O),T||(T=[]);++D<V;){var $=o[D];l>0&&f($)?l>1?Kn($,l-1,f,v,T):nr(T,$):v||(T[T.length]=$)}return T}var pv=R1(),i1=R1(!0);function hs(o,l){return o&&pv(o,l,$n)}function gv(o,l){return o&&i1(o,l,$n)}function _f(o,l){return Li(l,function(f){return Gs(o[f])})}function Ua(o,l){l=Lo(l,o);for(var f=0,v=l.length;o!=null&&f<v;)o=o[ps(l[f++])];return f&&f==v?o:r}function s1(o,l,f){var v=l(o);return Xe(o)?v:nr(v,f(o))}function yr(o){return o==null?o===r?st:Ai:La&&La in Ft(o)?MO(o):QO(o)}function mv(o,l){return o>l}function tO(o,l){return o!=null&&kt.call(o,l)}function nO(o,l){return o!=null&&l in Ft(o)}function rO(o,l,f){return o>=rr(l,f)&&o<On(l,f)}function vv(o,l,f){for(var v=f?Dl:Bs,T=o[0].length,D=o.length,V=D,$=J(D),H=1/0,ie=[];V--;){var se=o[V];V&&l&&(se=Mt(se,Pt(l))),H=rr(se.length,H),$[V]=!f&&(l||T>=120&&se.length>=120)?new Fa(V&&se):r}se=o[0];var ae=-1,_e=$[0];e:for(;++ae<T&&ie.length<H;){var ke=se[ae],$e=l?l(ke):ke;if(ke=f||ke!==0?ke:0,!(_e?Hn(_e,$e):v(ie,$e,f))){for(V=D;--V;){var nt=$[V];if(!(nt?Hn(nt,$e):v(o[V],$e,f)))continue e}_e&&_e.push($e),ie.push(ke)}}return ie}function iO(o,l,f,v){return hs(o,function(T,D,V){l(v,f(T),D,V)}),v}function Pc(o,l,f){l=Lo(l,o),o=H1(o,l);var v=o==null?o:o[ps(mi(l))];return v==null?r:bn(v,o,f)}function o1(o){return un(o)&&yr(o)==Ge}function sO(o){return un(o)&&yr(o)==En}function oO(o){return un(o)&&yr(o)==tt}function Rc(o,l,f,v,T){return o===l?!0:o==null||l==null||!un(o)&&!un(l)?o!==o&&l!==l:aO(o,l,f,v,Rc,T)}function aO(o,l,f,v,T,D){var V=Xe(o),$=Xe(l),H=V?it:ir(o),ie=$?it:ir(l);H=H==Ge?B:H,ie=ie==Ge?B:ie;var se=H==B,ae=ie==B,_e=H==ie;if(_e&&Fo(o)){if(!Fo(l))return!1;V=!0,se=!1}if(_e&&!se)return D||(D=new Fi),V||Ql(o)?U1(o,l,f,v,T,D):DO(o,l,H,f,v,T,D);if(!(f&I)){var ke=se&&kt.call(o,"__wrapped__"),$e=ae&&kt.call(l,"__wrapped__");if(ke||$e){var nt=ke?o.value():o,ze=$e?l.value():l;return D||(D=new Fi),T(nt,ze,f,v,D)}}return _e?(D||(D=new Fi),LO(o,l,f,v,T,D)):!1}function lO(o){return un(o)&&ir(o)==pt}function yv(o,l,f,v){var T=f.length,D=T,V=!v;if(o==null)return!D;for(o=Ft(o);T--;){var $=f[T];if(V&&$[2]?$[1]!==o[$[0]]:!($[0]in o))return!1}for(;++T<D;){$=f[T];var H=$[0],ie=o[H],se=$[1];if(V&&$[2]){if(ie===r&&!(H in o))return!1}else{var ae=new Fi;if(v)var _e=v(ie,se,H,o,l,ae);if(!(_e===r?Rc(se,ie,I|N,v,ae):_e))return!1}}return!0}function a1(o){if(!Zt(o)||WO(o))return!1;var l=Gs(o)?lN:ss;return l.test(Ba(o))}function uO(o){return un(o)&&yr(o)==ve}function cO(o){return un(o)&&ir(o)==de}function dO(o){return un(o)&&Mf(o.length)&&!!Tt[yr(o)]}function l1(o){return typeof o=="function"?o:o==null?Or:typeof o=="object"?Xe(o)?d1(o[0],o[1]):c1(o):bS(o)}function _v(o){if(!Nc(o))return pN(o);var l=[];for(var f in Ft(o))kt.call(o,f)&&f!="constructor"&&l.push(f);return l}function hO(o){if(!Zt(o))return GO(o);var l=Nc(o),f=[];for(var v in o)v=="constructor"&&(l||!kt.call(o,v))||f.push(v);return f}function wv(o,l){return o<l}function u1(o,l){var f=-1,v=kr(o)?J(o.length):[];return Oo(o,function(T,D,V){v[++f]=l(T,D,V)}),v}function c1(o){var l=Lv(o);return l.length==1&&l[0][2]?W1(l[0][0],l[0][1]):function(f){return f===o||yv(f,o,l)}}function d1(o,l){return Fv(o)&&z1(l)?W1(ps(o),l):function(f){var v=Kv(f,o);return v===r&&v===l?Gv(f,o):Rc(l,v,I|N)}}function wf(o,l,f,v,T){o!==l&&pv(l,function(D,V){if(T||(T=new Fi),Zt(D))fO(o,l,V,f,wf,v,T);else{var $=v?v(Uv(o,V),D,V+"",o,l,T):r;$===r&&($=D),hv(o,V,$)}},Nr)}function fO(o,l,f,v,T,D,V){var $=Uv(o,f),H=Uv(l,f),ie=V.get(H);if(ie){hv(o,f,ie);return}var se=D?D($,H,f+"",o,l,V):r,ae=se===r;if(ae){var _e=Xe(H),ke=!_e&&Fo(H),$e=!_e&&!ke&&Ql(H);se=H,_e||ke||$e?Xe($)?se=$:gn($)?se=br($):ke?(ae=!1,se=T1(H,!0)):$e?(ae=!1,se=x1(H,!0)):se=[]:Dc(H)||$a(H)?(se=$,$a($)?se=wS($):(!Zt($)||Gs($))&&(se=$1(H))):ae=!1}ae&&(V.set(H,se),T(se,H,v,D,V),V.delete(H)),hv(o,f,se)}function h1(o,l){var f=o.length;if(f)return l+=l<0?f:0,Ks(l,f)?o[l]:r}function f1(o,l,f){l.length?l=Mt(l,function(D){return Xe(D)?function(V){return Ua(V,D.length===1?D[0]:D)}:D}):l=[Or];var v=-1;l=Mt(l,Pt(Ue()));var T=u1(o,function(D,V,$){var H=Mt(l,function(ie){return ie(D)});return{criteria:H,index:++v,value:D}});return me(T,function(D,V){return CO(D,V,f)})}function pO(o,l){return p1(o,l,function(f,v){return Gv(o,v)})}function p1(o,l,f){for(var v=-1,T=l.length,D={};++v<T;){var V=l[v],$=Ua(o,V);f($,V)&&bc(D,Lo(V,o),$)}return D}function gO(o){return function(l){return Ua(l,o)}}function Ev(o,l,f,v){var T=v?d:Wr,D=-1,V=l.length,$=o;for(o===l&&(l=br(l)),f&&($=Mt(o,Pt(f)));++D<V;)for(var H=0,ie=l[D],se=f?f(ie):ie;(H=T($,se,H,v))>-1;)$!==o&&cf.call($,H,1),cf.call(o,H,1);return o}function g1(o,l){for(var f=o?l.length:0,v=f-1;f--;){var T=l[f];if(f==v||T!==D){var D=T;Ks(T)?cf.call(o,T,1):Iv(o,T)}}return o}function Sv(o,l){return o+ff(QE()*(l-o+1))}function mO(o,l,f,v){for(var T=-1,D=On(hf((l-o)/(f||1)),0),V=J(D);D--;)V[v?D:++T]=o,o+=f;return V}function Tv(o,l){var f="";if(!o||l<1||l>oe)return f;do l%2&&(f+=o),l=ff(l/2),l&&(o+=o);while(l);return f}function at(o,l){return jv(q1(o,l,Or),o+"")}function vO(o){return JE(Yl(o))}function yO(o,l){var f=Yl(o);return bf(f,Va(l,0,f.length))}function bc(o,l,f,v){if(!Zt(o))return o;l=Lo(l,o);for(var T=-1,D=l.length,V=D-1,$=o;$!=null&&++T<D;){var H=ps(l[T]),ie=f;if(H==="__proto__"||H==="constructor"||H==="prototype")return o;if(T!=V){var se=$[H];ie=v?v(se,H,$):r,ie===r&&(ie=Zt(se)?se:Ks(l[T+1])?[]:{})}Cc($,H,ie),$=$[H]}return o}var m1=pf?function(o,l){return pf.set(o,l),o}:Or,_O=df?function(o,l){return df(o,"toString",{configurable:!0,enumerable:!1,value:Yv(l),writable:!0})}:Or;function wO(o){return bf(Yl(o))}function gi(o,l,f){var v=-1,T=o.length;l<0&&(l=-l>T?0:T+l),f=f>T?T:f,f<0&&(f+=T),T=l>f?0:f-l>>>0,l>>>=0;for(var D=J(T);++v<T;)D[v]=o[v+l];return D}function EO(o,l){var f;return Oo(o,function(v,T,D){return f=l(v,T,D),!f}),!!f}function Ef(o,l,f){var v=0,T=o==null?v:o.length;if(typeof l=="number"&&l===l&&T<=lt){for(;v<T;){var D=v+T>>>1,V=o[D];V!==null&&!Hr(V)&&(f?V<=l:V<l)?v=D+1:T=D}return T}return xv(o,l,Or,f)}function xv(o,l,f,v){var T=0,D=o==null?0:o.length;if(D===0)return 0;l=f(l);for(var V=l!==l,$=l===null,H=Hr(l),ie=l===r;T<D;){var se=ff((T+D)/2),ae=f(o[se]),_e=ae!==r,ke=ae===null,$e=ae===ae,nt=Hr(ae);if(V)var ze=v||$e;else ie?ze=$e&&(v||_e):$?ze=$e&&_e&&(v||!ke):H?ze=$e&&_e&&!ke&&(v||!nt):ke||nt?ze=!1:ze=v?ae<=l:ae<l;ze?T=se+1:D=se}return rr(D,We)}function v1(o,l){for(var f=-1,v=o.length,T=0,D=[];++f<v;){var V=o[f],$=l?l(V):V;if(!f||!Vi($,H)){var H=$;D[T++]=V===0?0:V}}return D}function y1(o){return typeof o=="number"?o:Hr(o)?Ae:+o}function qr(o){if(typeof o=="string")return o;if(Xe(o))return Mt(o,qr)+"";if(Hr(o))return YE?YE.call(o):"";var l=o+"";return l=="0"&&1/o==-ee?"-0":l}function Do(o,l,f){var v=-1,T=Bs,D=o.length,V=!0,$=[],H=$;if(f)V=!1,T=Dl;else if(D>=s){var ie=l?null:NO(o);if(ie)return tf(ie);V=!1,T=Hn,H=new Fa}else H=l?[]:$;e:for(;++v<D;){var se=o[v],ae=l?l(se):se;if(se=f||se!==0?se:0,V&&ae===ae){for(var _e=H.length;_e--;)if(H[_e]===ae)continue e;l&&H.push(ae),$.push(se)}else T(H,ae,f)||(H!==$&&H.push(ae),$.push(se))}return $}function Iv(o,l){return l=Lo(l,o),o=H1(o,l),o==null||delete o[ps(mi(l))]}function _1(o,l,f,v){return bc(o,l,f(Ua(o,l)),v)}function Sf(o,l,f,v){for(var T=o.length,D=v?T:-1;(v?D--:++D<T)&&l(o[D],D,o););return f?gi(o,v?0:D,v?D+1:T):gi(o,v?D+1:0,v?T:D)}function w1(o,l){var f=o;return f instanceof ht&&(f=f.value()),Ll(l,function(v,T){return T.func.apply(T.thisArg,nr([v],T.args))},f)}function Cv(o,l,f){var v=o.length;if(v<2)return v?Do(o[0]):[];for(var T=-1,D=J(v);++T<v;)for(var V=o[T],$=-1;++$<v;)$!=T&&(D[T]=Ac(D[T]||V,o[$],l,f));return Do(Kn(D,1),l,f)}function E1(o,l,f){for(var v=-1,T=o.length,D=l.length,V={};++v<T;){var $=v<D?l[v]:r;f(V,o[v],$)}return V}function Av(o){return gn(o)?o:[]}function Pv(o){return typeof o=="function"?o:Or}function Lo(o,l){return Xe(o)?o:Fv(o,l)?[o]:Y1(Rt(o))}var SO=at;function Mo(o,l,f){var v=o.length;return f=f===r?v:f,!l&&f>=v?o:gi(o,l,f)}var S1=uN||function(o){return Sn.clearTimeout(o)};function T1(o,l){if(l)return o.slice();var f=o.length,v=WE?WE(f):new o.constructor(f);return o.copy(v),v}function Rv(o){var l=new o.constructor(o.byteLength);return new lf(l).set(new lf(o)),l}function TO(o,l){var f=l?Rv(o.buffer):o.buffer;return new o.constructor(f,o.byteOffset,o.byteLength)}function xO(o){var l=new o.constructor(o.source,Bn.exec(o));return l.lastIndex=o.lastIndex,l}function IO(o){return Ic?Ft(Ic.call(o)):{}}function x1(o,l){var f=l?Rv(o.buffer):o.buffer;return new o.constructor(f,o.byteOffset,o.length)}function I1(o,l){if(o!==l){var f=o!==r,v=o===null,T=o===o,D=Hr(o),V=l!==r,$=l===null,H=l===l,ie=Hr(l);if(!$&&!ie&&!D&&o>l||D&&V&&H&&!$&&!ie||v&&V&&H||!f&&H||!T)return 1;if(!v&&!D&&!ie&&o<l||ie&&f&&T&&!v&&!D||$&&f&&T||!V&&T||!H)return-1}return 0}function CO(o,l,f){for(var v=-1,T=o.criteria,D=l.criteria,V=T.length,$=f.length;++v<V;){var H=I1(T[v],D[v]);if(H){if(v>=$)return H;var ie=f[v];return H*(ie=="desc"?-1:1)}}return o.index-l.index}function C1(o,l,f,v){for(var T=-1,D=o.length,V=f.length,$=-1,H=l.length,ie=On(D-V,0),se=J(H+ie),ae=!v;++$<H;)se[$]=l[$];for(;++T<V;)(ae||T<D)&&(se[f[T]]=o[T]);for(;ie--;)se[$++]=o[T++];return se}function A1(o,l,f,v){for(var T=-1,D=o.length,V=-1,$=f.length,H=-1,ie=l.length,se=On(D-$,0),ae=J(se+ie),_e=!v;++T<se;)ae[T]=o[T];for(var ke=T;++H<ie;)ae[ke+H]=l[H];for(;++V<$;)(_e||T<D)&&(ae[ke+f[V]]=o[T++]);return ae}function br(o,l){var f=-1,v=o.length;for(l||(l=J(v));++f<v;)l[f]=o[f];return l}function fs(o,l,f,v){var T=!f;f||(f={});for(var D=-1,V=l.length;++D<V;){var $=l[D],H=v?v(f[$],o[$],$,f,o):r;H===r&&(H=o[$]),T?Ws(f,$,H):Cc(f,$,H)}return f}function AO(o,l){return fs(o,Mv(o),l)}function PO(o,l){return fs(o,j1(o),l)}function Tf(o,l){return function(f,v){var T=Xe(f)?Jh:YN,D=l?l():{};return T(f,o,Ue(v,2),D)}}function Hl(o){return at(function(l,f){var v=-1,T=f.length,D=T>1?f[T-1]:r,V=T>2?f[2]:r;for(D=o.length>3&&typeof D=="function"?(T--,D):r,V&&_r(f[0],f[1],V)&&(D=T<3?r:D,T=1),l=Ft(l);++v<T;){var $=f[v];$&&o(l,$,v,D)}return l})}function P1(o,l){return function(f,v){if(f==null)return f;if(!kr(f))return o(f,v);for(var T=f.length,D=l?T:-1,V=Ft(f);(l?D--:++D<T)&&v(V[D],D,V)!==!1;);return f}}function R1(o){return function(l,f,v){for(var T=-1,D=Ft(l),V=v(l),$=V.length;$--;){var H=V[o?$:++T];if(f(D[H],H,D)===!1)break}return l}}function RO(o,l,f){var v=l&S,T=kc(o);function D(){var V=this&&this!==Sn&&this instanceof D?T:o;return V.apply(v?f:this,arguments)}return D}function b1(o){return function(l){l=Rt(l);var f=Ul(l)?Mi(l):r,v=f?f[0]:l.charAt(0),T=f?Mo(f,1).join(""):l.slice(1);return v[o]()+T}}function Kl(o){return function(l){return Ll(PS(AS(l).replace(rv,"")),o,"")}}function kc(o){return function(){var l=arguments;switch(l.length){case 0:return new o;case 1:return new o(l[0]);case 2:return new o(l[0],l[1]);case 3:return new o(l[0],l[1],l[2]);case 4:return new o(l[0],l[1],l[2],l[3]);case 5:return new o(l[0],l[1],l[2],l[3],l[4]);case 6:return new o(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new o(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var f=ql(o.prototype),v=o.apply(f,l);return Zt(v)?v:f}}function bO(o,l,f){var v=kc(o);function T(){for(var D=arguments.length,V=J(D),$=D,H=Gl(T);$--;)V[$]=arguments[$];var ie=D<3&&V[0]!==H&&V[D-1]!==H?[]:ko(V,H);if(D-=ie.length,D<f)return L1(o,l,xf,T.placeholder,r,V,ie,r,r,f-D);var se=this&&this!==Sn&&this instanceof T?v:o;return bn(se,this,V)}return T}function k1(o){return function(l,f,v){var T=Ft(l);if(!kr(l)){var D=Ue(f,3);l=$n(l),f=function($){return D(T[$],$,T)}}var V=o(l,f,v);return V>-1?T[D?l[V]:V]:r}}function N1(o){return Hs(function(l){var f=l.length,v=f,T=fi.prototype.thru;for(o&&l.reverse();v--;){var D=l[v];if(typeof D!="function")throw new hi(u);if(T&&!V&&Pf(D)=="wrapper")var V=new fi([],!0)}for(v=V?v:f;++v<f;){D=l[v];var $=Pf(D),H=$=="wrapper"?Dv(D):r;H&&Vv(H[0])&&H[1]==(C|j|Q|k)&&!H[4].length&&H[9]==1?V=V[Pf(H[0])].apply(V,H[3]):V=D.length==1&&Vv(D)?V[$]():V.thru(D)}return function(){var ie=arguments,se=ie[0];if(V&&ie.length==1&&Xe(se))return V.plant(se).value();for(var ae=0,_e=f?l[ae].apply(this,ie):se;++ae<f;)_e=l[ae].call(this,_e);return _e}})}function xf(o,l,f,v,T,D,V,$,H,ie){var se=l&C,ae=l&S,_e=l&E,ke=l&(j|K),$e=l&L,nt=_e?r:kc(o);function ze(){for(var ct=arguments.length,gt=J(ct),Kr=ct;Kr--;)gt[Kr]=arguments[Kr];if(ke)var wr=Gl(ze),Gr=$2(gt,wr);if(v&&(gt=C1(gt,v,T,ke)),D&&(gt=A1(gt,D,V,ke)),ct-=Gr,ke&&ct<ie){var mn=ko(gt,wr);return L1(o,l,xf,ze.placeholder,f,gt,mn,$,H,ie-ct)}var Ui=ae?f:this,Ys=_e?Ui[o]:o;return ct=gt.length,$?gt=YO(gt,$):$e&&ct>1&&gt.reverse(),se&&H<ct&&(gt.length=H),this&&this!==Sn&&this instanceof ze&&(Ys=nt||kc(Ys)),Ys.apply(Ui,gt)}return ze}function O1(o,l){return function(f,v){return iO(f,o,l(v),{})}}function If(o,l){return function(f,v){var T;if(f===r&&v===r)return l;if(f!==r&&(T=f),v!==r){if(T===r)return v;typeof f=="string"||typeof v=="string"?(f=qr(f),v=qr(v)):(f=y1(f),v=y1(v)),T=o(f,v)}return T}}function bv(o){return Hs(function(l){return l=Mt(l,Pt(Ue())),at(function(f){var v=this;return o(l,function(T){return bn(T,v,f)})})})}function Cf(o,l){l=l===r?" ":qr(l);var f=l.length;if(f<2)return f?Tv(l,o):l;var v=Tv(l,hf(o/jl(l)));return Ul(l)?Mo(Mi(v),0,o).join(""):v.slice(0,o)}function kO(o,l,f,v){var T=l&S,D=kc(o);function V(){for(var $=-1,H=arguments.length,ie=-1,se=v.length,ae=J(se+H),_e=this&&this!==Sn&&this instanceof V?D:o;++ie<se;)ae[ie]=v[ie];for(;H--;)ae[ie++]=arguments[++$];return bn(_e,T?f:this,ae)}return V}function D1(o){return function(l,f,v){return v&&typeof v!="number"&&_r(l,f,v)&&(f=v=r),l=Qs(l),f===r?(f=l,l=0):f=Qs(f),v=v===r?l<f?1:-1:Qs(v),mO(l,f,v,o)}}function Af(o){return function(l,f){return typeof l=="string"&&typeof f=="string"||(l=vi(l),f=vi(f)),o(l,f)}}function L1(o,l,f,v,T,D,V,$,H,ie){var se=l&j,ae=se?V:r,_e=se?r:V,ke=se?D:r,$e=se?r:D;l|=se?Q:x,l&=~(se?x:Q),l&P||(l&=~(S|E));var nt=[o,l,T,ke,ae,$e,_e,$,H,ie],ze=f.apply(r,nt);return Vv(o)&&K1(ze,nt),ze.placeholder=v,G1(ze,o,l)}function kv(o){var l=Nn[o];return function(f,v){if(f=vi(f),v=v==null?0:rr(Ze(v),292),v&&GE(f)){var T=(Rt(f)+"e").split("e"),D=l(T[0]+"e"+(+T[1]+v));return T=(Rt(D)+"e").split("e"),+(T[0]+"e"+(+T[1]-v))}return l(f)}}var NO=zl&&1/tf(new zl([,-0]))[1]==ee?function(o){return new zl(o)}:Zv;function M1(o){return function(l){var f=ir(l);return f==pt?av(l):f==de?Q2(l):yt(l,o(l))}}function qs(o,l,f,v,T,D,V,$){var H=l&E;if(!H&&typeof o!="function")throw new hi(u);var ie=v?v.length:0;if(ie||(l&=~(Q|x),v=T=r),V=V===r?V:On(Ze(V),0),$=$===r?$:Ze($),ie-=T?T.length:0,l&x){var se=v,ae=T;v=T=r}var _e=H?r:Dv(o),ke=[o,l,f,v,T,se,ae,D,V,$];if(_e&&KO(ke,_e),o=ke[0],l=ke[1],f=ke[2],v=ke[3],T=ke[4],$=ke[9]=ke[9]===r?H?0:o.length:On(ke[9]-ie,0),!$&&l&(j|K)&&(l&=~(j|K)),!l||l==S)var $e=RO(o,l,f);else l==j||l==K?$e=bO(o,l,$):(l==Q||l==(S|Q))&&!T.length?$e=kO(o,l,f,v):$e=xf.apply(r,ke);var nt=_e?m1:K1;return G1(nt($e,ke),o,l)}function F1(o,l,f,v){return o===r||Vi(o,$l[f])&&!kt.call(v,f)?l:o}function V1(o,l,f,v,T,D){return Zt(o)&&Zt(l)&&(D.set(l,o),wf(o,l,r,V1,D),D.delete(l)),o}function OO(o){return Dc(o)?r:o}function U1(o,l,f,v,T,D){var V=f&I,$=o.length,H=l.length;if($!=H&&!(V&&H>$))return!1;var ie=D.get(o),se=D.get(l);if(ie&&se)return ie==l&&se==o;var ae=-1,_e=!0,ke=f&N?new Fa:r;for(D.set(o,l),D.set(l,o);++ae<$;){var $e=o[ae],nt=l[ae];if(v)var ze=V?v(nt,$e,ae,l,o,D):v($e,nt,ae,o,l,D);if(ze!==r){if(ze)continue;_e=!1;break}if(ke){if(!Ml(l,function(ct,gt){if(!Hn(ke,gt)&&($e===ct||T($e,ct,f,v,D)))return ke.push(gt)})){_e=!1;break}}else if(!($e===nt||T($e,nt,f,v,D))){_e=!1;break}}return D.delete(o),D.delete(l),_e}function DO(o,l,f,v,T,D,V){switch(f){case tr:if(o.byteLength!=l.byteLength||o.byteOffset!=l.byteOffset)return!1;o=o.buffer,l=l.buffer;case En:return!(o.byteLength!=l.byteLength||!D(new lf(o),new lf(l)));case wn:case tt:case St:return Vi(+o,+l);case Et:return o.name==l.name&&o.message==l.message;case ve:case le:return o==l+"";case pt:var $=av;case de:var H=v&I;if($||($=tf),o.size!=l.size&&!H)return!1;var ie=V.get(o);if(ie)return ie==l;v|=N,V.set(o,l);var se=U1($(o),$(l),v,T,D,V);return V.delete(o),se;case Ie:if(Ic)return Ic.call(o)==Ic.call(l)}return!1}function LO(o,l,f,v,T,D){var V=f&I,$=Nv(o),H=$.length,ie=Nv(l),se=ie.length;if(H!=se&&!V)return!1;for(var ae=H;ae--;){var _e=$[ae];if(!(V?_e in l:kt.call(l,_e)))return!1}var ke=D.get(o),$e=D.get(l);if(ke&&$e)return ke==l&&$e==o;var nt=!0;D.set(o,l),D.set(l,o);for(var ze=V;++ae<H;){_e=$[ae];var ct=o[_e],gt=l[_e];if(v)var Kr=V?v(gt,ct,_e,l,o,D):v(ct,gt,_e,o,l,D);if(!(Kr===r?ct===gt||T(ct,gt,f,v,D):Kr)){nt=!1;break}ze||(ze=_e=="constructor")}if(nt&&!ze){var wr=o.constructor,Gr=l.constructor;wr!=Gr&&"constructor"in o&&"constructor"in l&&!(typeof wr=="function"&&wr instanceof wr&&typeof Gr=="function"&&Gr instanceof Gr)&&(nt=!1)}return D.delete(o),D.delete(l),nt}function Hs(o){return jv(q1(o,r,eS),o+"")}function Nv(o){return s1(o,$n,Mv)}function Ov(o){return s1(o,Nr,j1)}var Dv=pf?function(o){return pf.get(o)}:Zv;function Pf(o){for(var l=o.name+"",f=Wl[l],v=kt.call(Wl,l)?f.length:0;v--;){var T=f[v],D=T.func;if(D==null||D==o)return T.name}return l}function Gl(o){var l=kt.call(b,"placeholder")?b:o;return l.placeholder}function Ue(){var o=b.iteratee||Xv;return o=o===Xv?l1:o,arguments.length?o(arguments[0],arguments[1]):o}function Rf(o,l){var f=o.__data__;return zO(l)?f[typeof l=="string"?"string":"hash"]:f.map}function Lv(o){for(var l=$n(o),f=l.length;f--;){var v=l[f],T=o[v];l[f]=[v,T,z1(T)]}return l}function ja(o,l){var f=H2(o,l);return a1(f)?f:r}function MO(o){var l=kt.call(o,La),f=o[La];try{o[La]=r;var v=!0}catch{}var T=of.call(o);return v&&(l?o[La]=f:delete o[La]),T}var Mv=uv?function(o){return o==null?[]:(o=Ft(o),Li(uv(o),function(l){return HE.call(o,l)}))}:ey,j1=uv?function(o){for(var l=[];o;)nr(l,Mv(o)),o=uf(o);return l}:ey,ir=yr;(cv&&ir(new cv(new ArrayBuffer(1)))!=tr||Sc&&ir(new Sc)!=pt||dv&&ir(dv.resolve())!=Y||zl&&ir(new zl)!=de||Tc&&ir(new Tc)!=Me)&&(ir=function(o){var l=yr(o),f=l==B?o.constructor:r,v=f?Ba(f):"";if(v)switch(v){case yN:return tr;case _N:return pt;case wN:return Y;case EN:return de;case SN:return Me}return l});function FO(o,l,f){for(var v=-1,T=f.length;++v<T;){var D=f[v],V=D.size;switch(D.type){case"drop":o+=V;break;case"dropRight":l-=V;break;case"take":l=rr(l,o+V);break;case"takeRight":o=On(o,l-V);break}}return{start:o,end:l}}function VO(o){var l=o.match(Be);return l?l[1].split(Ot):[]}function B1(o,l,f){l=Lo(l,o);for(var v=-1,T=l.length,D=!1;++v<T;){var V=ps(l[v]);if(!(D=o!=null&&f(o,V)))break;o=o[V]}return D||++v!=T?D:(T=o==null?0:o.length,!!T&&Mf(T)&&Ks(V,T)&&(Xe(o)||$a(o)))}function UO(o){var l=o.length,f=new o.constructor(l);return l&&typeof o[0]=="string"&&kt.call(o,"index")&&(f.index=o.index,f.input=o.input),f}function $1(o){return typeof o.constructor=="function"&&!Nc(o)?ql(uf(o)):{}}function jO(o,l,f){var v=o.constructor;switch(l){case En:return Rv(o);case wn:case tt:return new v(+o);case tr:return TO(o,f);case ui:case jn:case Pr:case ci:case Pi:case di:case Co:case ts:case ns:return x1(o,f);case pt:return new v;case St:case le:return new v(o);case ve:return xO(o);case de:return new v;case Ie:return IO(o)}}function BO(o,l){var f=l.length;if(!f)return o;var v=f-1;return l[v]=(f>1?"& ":"")+l[v],l=l.join(f>2?", ":" "),o.replace(Ut,`{
/* [wrapped with `+l+`] */
`)}function $O(o){return Xe(o)||$a(o)||!!(KE&&o&&o[KE])}function Ks(o,l){var f=typeof o;return l=l??oe,!!l&&(f=="number"||f!="symbol"&&Ms.test(o))&&o>-1&&o%1==0&&o<l}function _r(o,l,f){if(!Zt(f))return!1;var v=typeof l;return(v=="number"?kr(f)&&Ks(l,f.length):v=="string"&&l in f)?Vi(f[l],o):!1}function Fv(o,l){if(Xe(o))return!1;var f=typeof o;return f=="number"||f=="symbol"||f=="boolean"||o==null||Hr(o)?!0:be.test(o)||!Te.test(o)||l!=null&&o in Ft(l)}function zO(o){var l=typeof o;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?o!=="__proto__":o===null}function Vv(o){var l=Pf(o),f=b[l];if(typeof f!="function"||!(l in ht.prototype))return!1;if(o===f)return!0;var v=Dv(f);return!!v&&o===v[0]}function WO(o){return!!zE&&zE in o}var qO=rf?Gs:ty;function Nc(o){var l=o&&o.constructor,f=typeof l=="function"&&l.prototype||$l;return o===f}function z1(o){return o===o&&!Zt(o)}function W1(o,l){return function(f){return f==null?!1:f[o]===l&&(l!==r||o in Ft(f))}}function HO(o){var l=Df(o,function(v){return f.size===p&&f.clear(),v}),f=l.cache;return l}function KO(o,l){var f=o[1],v=l[1],T=f|v,D=T<(S|E|C),V=v==C&&f==j||v==C&&f==k&&o[7].length<=l[8]||v==(C|k)&&l[7].length<=l[8]&&f==j;if(!(D||V))return o;v&S&&(o[2]=l[2],T|=f&S?0:P);var $=l[3];if($){var H=o[3];o[3]=H?C1(H,$,l[4]):$,o[4]=H?ko(o[3],m):l[4]}return $=l[5],$&&(H=o[5],o[5]=H?A1(H,$,l[6]):$,o[6]=H?ko(o[5],m):l[6]),$=l[7],$&&(o[7]=$),v&C&&(o[8]=o[8]==null?l[8]:rr(o[8],l[8])),o[9]==null&&(o[9]=l[9]),o[0]=l[0],o[1]=T,o}function GO(o){var l=[];if(o!=null)for(var f in Ft(o))l.push(f);return l}function QO(o){return of.call(o)}function q1(o,l,f){return l=On(l===r?o.length-1:l,0),function(){for(var v=arguments,T=-1,D=On(v.length-l,0),V=J(D);++T<D;)V[T]=v[l+T];T=-1;for(var $=J(l+1);++T<l;)$[T]=v[T];return $[l]=f(V),bn(o,this,$)}}function H1(o,l){return l.length<2?o:Ua(o,gi(l,0,-1))}function YO(o,l){for(var f=o.length,v=rr(l.length,f),T=br(o);v--;){var D=l[v];o[v]=Ks(D,f)?T[D]:r}return o}function Uv(o,l){if(!(l==="constructor"&&typeof o[l]=="function")&&l!="__proto__")return o[l]}var K1=Q1(m1),Oc=dN||function(o,l){return Sn.setTimeout(o,l)},jv=Q1(_O);function G1(o,l,f){var v=l+"";return jv(o,BO(v,XO(VO(v),f)))}function Q1(o){var l=0,f=0;return function(){var v=gN(),T=pe-(v-f);if(f=v,T>0){if(++l>=M)return arguments[0]}else l=0;return o.apply(r,arguments)}}function bf(o,l){var f=-1,v=o.length,T=v-1;for(l=l===r?v:l;++f<l;){var D=Sv(f,T),V=o[D];o[D]=o[f],o[f]=V}return o.length=l,o}var Y1=HO(function(o){var l=[];return o.charCodeAt(0)===46&&l.push(""),o.replace(Ne,function(f,v,T,D){l.push(T?D.replace(Rr,"$1"):v||f)}),l});function ps(o){if(typeof o=="string"||Hr(o))return o;var l=o+"";return l=="0"&&1/o==-ee?"-0":l}function Ba(o){if(o!=null){try{return sf.call(o)}catch{}try{return o+""}catch{}}return""}function XO(o,l){return mr(et,function(f){var v="_."+f[0];l&f[1]&&!Bs(o,v)&&o.push(v)}),o.sort()}function X1(o){if(o instanceof ht)return o.clone();var l=new fi(o.__wrapped__,o.__chain__);return l.__actions__=br(o.__actions__),l.__index__=o.__index__,l.__values__=o.__values__,l}function JO(o,l,f){(f?_r(o,l,f):l===r)?l=1:l=On(Ze(l),0);var v=o==null?0:o.length;if(!v||l<1)return[];for(var T=0,D=0,V=J(hf(v/l));T<v;)V[D++]=gi(o,T,T+=l);return V}function ZO(o){for(var l=-1,f=o==null?0:o.length,v=0,T=[];++l<f;){var D=o[l];D&&(T[v++]=D)}return T}function eD(){var o=arguments.length;if(!o)return[];for(var l=J(o-1),f=arguments[0],v=o;v--;)l[v-1]=arguments[v];return nr(Xe(f)?br(f):[f],Kn(l,1))}var tD=at(function(o,l){return gn(o)?Ac(o,Kn(l,1,gn,!0)):[]}),nD=at(function(o,l){var f=mi(l);return gn(f)&&(f=r),gn(o)?Ac(o,Kn(l,1,gn,!0),Ue(f,2)):[]}),rD=at(function(o,l){var f=mi(l);return gn(f)&&(f=r),gn(o)?Ac(o,Kn(l,1,gn,!0),r,f):[]});function iD(o,l,f){var v=o==null?0:o.length;return v?(l=f||l===r?1:Ze(l),gi(o,l<0?0:l,v)):[]}function sD(o,l,f){var v=o==null?0:o.length;return v?(l=f||l===r?1:Ze(l),l=v-l,gi(o,0,l<0?0:l)):[]}function oD(o,l){return o&&o.length?Sf(o,Ue(l,3),!0,!0):[]}function aD(o,l){return o&&o.length?Sf(o,Ue(l,3),!0):[]}function lD(o,l,f,v){var T=o==null?0:o.length;return T?(f&&typeof f!="number"&&_r(o,l,f)&&(f=0,v=T),eO(o,l,f,v)):[]}function J1(o,l,f){var v=o==null?0:o.length;if(!v)return-1;var T=f==null?0:Ze(f);return T<0&&(T=On(v+T,0)),Oa(o,Ue(l,3),T)}function Z1(o,l,f){var v=o==null?0:o.length;if(!v)return-1;var T=v-1;return f!==r&&(T=Ze(f),T=f<0?On(v+T,0):rr(T,v-1)),Oa(o,Ue(l,3),T,!0)}function eS(o){var l=o==null?0:o.length;return l?Kn(o,1):[]}function uD(o){var l=o==null?0:o.length;return l?Kn(o,ee):[]}function cD(o,l){var f=o==null?0:o.length;return f?(l=l===r?1:Ze(l),Kn(o,l)):[]}function dD(o){for(var l=-1,f=o==null?0:o.length,v={};++l<f;){var T=o[l];v[T[0]]=T[1]}return v}function tS(o){return o&&o.length?o[0]:r}function hD(o,l,f){var v=o==null?0:o.length;if(!v)return-1;var T=f==null?0:Ze(f);return T<0&&(T=On(v+T,0)),Wr(o,l,T)}function fD(o){var l=o==null?0:o.length;return l?gi(o,0,-1):[]}var pD=at(function(o){var l=Mt(o,Av);return l.length&&l[0]===o[0]?vv(l):[]}),gD=at(function(o){var l=mi(o),f=Mt(o,Av);return l===mi(f)?l=r:f.pop(),f.length&&f[0]===o[0]?vv(f,Ue(l,2)):[]}),mD=at(function(o){var l=mi(o),f=Mt(o,Av);return l=typeof l=="function"?l:r,l&&f.pop(),f.length&&f[0]===o[0]?vv(f,r,l):[]});function vD(o,l){return o==null?"":fN.call(o,l)}function mi(o){var l=o==null?0:o.length;return l?o[l-1]:r}function yD(o,l,f){var v=o==null?0:o.length;if(!v)return-1;var T=v;return f!==r&&(T=Ze(f),T=T<0?On(v+T,0):rr(T,v-1)),l===l?X2(o,l,T):Oa(o,g,T,!0)}function _D(o,l){return o&&o.length?h1(o,Ze(l)):r}var wD=at(nS);function nS(o,l){return o&&o.length&&l&&l.length?Ev(o,l):o}function ED(o,l,f){return o&&o.length&&l&&l.length?Ev(o,l,Ue(f,2)):o}function SD(o,l,f){return o&&o.length&&l&&l.length?Ev(o,l,r,f):o}var TD=Hs(function(o,l){var f=o==null?0:o.length,v=fv(o,l);return g1(o,Mt(l,function(T){return Ks(T,f)?+T:T}).sort(I1)),v});function xD(o,l){var f=[];if(!(o&&o.length))return f;var v=-1,T=[],D=o.length;for(l=Ue(l,3);++v<D;){var V=o[v];l(V,v,o)&&(f.push(V),T.push(v))}return g1(o,T),f}function Bv(o){return o==null?o:vN.call(o)}function ID(o,l,f){var v=o==null?0:o.length;return v?(f&&typeof f!="number"&&_r(o,l,f)?(l=0,f=v):(l=l==null?0:Ze(l),f=f===r?v:Ze(f)),gi(o,l,f)):[]}function CD(o,l){return Ef(o,l)}function AD(o,l,f){return xv(o,l,Ue(f,2))}function PD(o,l){var f=o==null?0:o.length;if(f){var v=Ef(o,l);if(v<f&&Vi(o[v],l))return v}return-1}function RD(o,l){return Ef(o,l,!0)}function bD(o,l,f){return xv(o,l,Ue(f,2),!0)}function kD(o,l){var f=o==null?0:o.length;if(f){var v=Ef(o,l,!0)-1;if(Vi(o[v],l))return v}return-1}function ND(o){return o&&o.length?v1(o):[]}function OD(o,l){return o&&o.length?v1(o,Ue(l,2)):[]}function DD(o){var l=o==null?0:o.length;return l?gi(o,1,l):[]}function LD(o,l,f){return o&&o.length?(l=f||l===r?1:Ze(l),gi(o,0,l<0?0:l)):[]}function MD(o,l,f){var v=o==null?0:o.length;return v?(l=f||l===r?1:Ze(l),l=v-l,gi(o,l<0?0:l,v)):[]}function FD(o,l){return o&&o.length?Sf(o,Ue(l,3),!1,!0):[]}function VD(o,l){return o&&o.length?Sf(o,Ue(l,3)):[]}var UD=at(function(o){return Do(Kn(o,1,gn,!0))}),jD=at(function(o){var l=mi(o);return gn(l)&&(l=r),Do(Kn(o,1,gn,!0),Ue(l,2))}),BD=at(function(o){var l=mi(o);return l=typeof l=="function"?l:r,Do(Kn(o,1,gn,!0),r,l)});function $D(o){return o&&o.length?Do(o):[]}function zD(o,l){return o&&o.length?Do(o,Ue(l,2)):[]}function WD(o,l){return l=typeof l=="function"?l:r,o&&o.length?Do(o,r,l):[]}function $v(o){if(!(o&&o.length))return[];var l=0;return o=Li(o,function(f){if(gn(f))return l=On(f.length,l),!0}),pn(l,function(f){return Mt(o,O(f))})}function rS(o,l){if(!(o&&o.length))return[];var f=$v(o);return l==null?f:Mt(f,function(v){return bn(l,r,v)})}var qD=at(function(o,l){return gn(o)?Ac(o,l):[]}),HD=at(function(o){return Cv(Li(o,gn))}),KD=at(function(o){var l=mi(o);return gn(l)&&(l=r),Cv(Li(o,gn),Ue(l,2))}),GD=at(function(o){var l=mi(o);return l=typeof l=="function"?l:r,Cv(Li(o,gn),r,l)}),QD=at($v);function YD(o,l){return E1(o||[],l||[],Cc)}function XD(o,l){return E1(o||[],l||[],bc)}var JD=at(function(o){var l=o.length,f=l>1?o[l-1]:r;return f=typeof f=="function"?(o.pop(),f):r,rS(o,f)});function iS(o){var l=b(o);return l.__chain__=!0,l}function ZD(o,l){return l(o),o}function kf(o,l){return l(o)}var eL=Hs(function(o){var l=o.length,f=l?o[0]:0,v=this.__wrapped__,T=function(D){return fv(D,o)};return l>1||this.__actions__.length||!(v instanceof ht)||!Ks(f)?this.thru(T):(v=v.slice(f,+f+(l?1:0)),v.__actions__.push({func:kf,args:[T],thisArg:r}),new fi(v,this.__chain__).thru(function(D){return l&&!D.length&&D.push(r),D}))});function tL(){return iS(this)}function nL(){return new fi(this.value(),this.__chain__)}function rL(){this.__values__===r&&(this.__values__=yS(this.value()));var o=this.__index__>=this.__values__.length,l=o?r:this.__values__[this.__index__++];return{done:o,value:l}}function iL(){return this}function sL(o){for(var l,f=this;f instanceof mf;){var v=X1(f);v.__index__=0,v.__values__=r,l?T.__wrapped__=v:l=v;var T=v;f=f.__wrapped__}return T.__wrapped__=o,l}function oL(){var o=this.__wrapped__;if(o instanceof ht){var l=o;return this.__actions__.length&&(l=new ht(this)),l=l.reverse(),l.__actions__.push({func:kf,args:[Bv],thisArg:r}),new fi(l,this.__chain__)}return this.thru(Bv)}function aL(){return w1(this.__wrapped__,this.__actions__)}var lL=Tf(function(o,l,f){kt.call(o,f)?++o[f]:Ws(o,f,1)});function uL(o,l,f){var v=Xe(o)?Ol:ZN;return f&&_r(o,l,f)&&(l=r),v(o,Ue(l,3))}function cL(o,l){var f=Xe(o)?Li:r1;return f(o,Ue(l,3))}var dL=k1(J1),hL=k1(Z1);function fL(o,l){return Kn(Nf(o,l),1)}function pL(o,l){return Kn(Nf(o,l),ee)}function gL(o,l,f){return f=f===r?1:Ze(f),Kn(Nf(o,l),f)}function sS(o,l){var f=Xe(o)?mr:Oo;return f(o,Ue(l,3))}function oS(o,l){var f=Xe(o)?_c:n1;return f(o,Ue(l,3))}var mL=Tf(function(o,l,f){kt.call(o,f)?o[f].push(l):Ws(o,f,[l])});function vL(o,l,f,v){o=kr(o)?o:Yl(o),f=f&&!v?Ze(f):0;var T=o.length;return f<0&&(f=On(T+f,0)),Ff(o)?f<=T&&o.indexOf(l,f)>-1:!!T&&Wr(o,l,f)>-1}var yL=at(function(o,l,f){var v=-1,T=typeof l=="function",D=kr(o)?J(o.length):[];return Oo(o,function(V){D[++v]=T?bn(l,V,f):Pc(V,l,f)}),D}),_L=Tf(function(o,l,f){Ws(o,f,l)});function Nf(o,l){var f=Xe(o)?Mt:u1;return f(o,Ue(l,3))}function wL(o,l,f,v){return o==null?[]:(Xe(l)||(l=l==null?[]:[l]),f=v?r:f,Xe(f)||(f=f==null?[]:[f]),f1(o,l,f))}var EL=Tf(function(o,l,f){o[f?0:1].push(l)},function(){return[[],[]]});function SL(o,l,f){var v=Xe(o)?Ll:Z,T=arguments.length<3;return v(o,Ue(l,4),f,T,Oo)}function TL(o,l,f){var v=Xe(o)?Zh:Z,T=arguments.length<3;return v(o,Ue(l,4),f,T,n1)}function xL(o,l){var f=Xe(o)?Li:r1;return f(o,Lf(Ue(l,3)))}function IL(o){var l=Xe(o)?JE:vO;return l(o)}function CL(o,l,f){(f?_r(o,l,f):l===r)?l=1:l=Ze(l);var v=Xe(o)?GN:yO;return v(o,l)}function AL(o){var l=Xe(o)?QN:wO;return l(o)}function PL(o){if(o==null)return 0;if(kr(o))return Ff(o)?jl(o):o.length;var l=ir(o);return l==pt||l==de?o.size:_v(o).length}function RL(o,l,f){var v=Xe(o)?Ml:EO;return f&&_r(o,l,f)&&(l=r),v(o,Ue(l,3))}var bL=at(function(o,l){if(o==null)return[];var f=l.length;return f>1&&_r(o,l[0],l[1])?l=[]:f>2&&_r(l[0],l[1],l[2])&&(l=[l[0]]),f1(o,Kn(l,1),[])}),Of=cN||function(){return Sn.Date.now()};function kL(o,l){if(typeof l!="function")throw new hi(u);return o=Ze(o),function(){if(--o<1)return l.apply(this,arguments)}}function aS(o,l,f){return l=f?r:l,l=o&&l==null?o.length:l,qs(o,C,r,r,r,r,l)}function lS(o,l){var f;if(typeof l!="function")throw new hi(u);return o=Ze(o),function(){return--o>0&&(f=l.apply(this,arguments)),o<=1&&(l=r),f}}var zv=at(function(o,l,f){var v=S;if(f.length){var T=ko(f,Gl(zv));v|=Q}return qs(o,v,l,f,T)}),uS=at(function(o,l,f){var v=S|E;if(f.length){var T=ko(f,Gl(uS));v|=Q}return qs(l,v,o,f,T)});function cS(o,l,f){l=f?r:l;var v=qs(o,j,r,r,r,r,r,l);return v.placeholder=cS.placeholder,v}function dS(o,l,f){l=f?r:l;var v=qs(o,K,r,r,r,r,r,l);return v.placeholder=dS.placeholder,v}function hS(o,l,f){var v,T,D,V,$,H,ie=0,se=!1,ae=!1,_e=!0;if(typeof o!="function")throw new hi(u);l=vi(l)||0,Zt(f)&&(se=!!f.leading,ae="maxWait"in f,D=ae?On(vi(f.maxWait)||0,l):D,_e="trailing"in f?!!f.trailing:_e);function ke(mn){var Ui=v,Ys=T;return v=T=r,ie=mn,V=o.apply(Ys,Ui),V}function $e(mn){return ie=mn,$=Oc(ct,l),se?ke(mn):V}function nt(mn){var Ui=mn-H,Ys=mn-ie,kS=l-Ui;return ae?rr(kS,D-Ys):kS}function ze(mn){var Ui=mn-H,Ys=mn-ie;return H===r||Ui>=l||Ui<0||ae&&Ys>=D}function ct(){var mn=Of();if(ze(mn))return gt(mn);$=Oc(ct,nt(mn))}function gt(mn){return $=r,_e&&v?ke(mn):(v=T=r,V)}function Kr(){$!==r&&S1($),ie=0,v=H=T=$=r}function wr(){return $===r?V:gt(Of())}function Gr(){var mn=Of(),Ui=ze(mn);if(v=arguments,T=this,H=mn,Ui){if($===r)return $e(H);if(ae)return S1($),$=Oc(ct,l),ke(H)}return $===r&&($=Oc(ct,l)),V}return Gr.cancel=Kr,Gr.flush=wr,Gr}var NL=at(function(o,l){return t1(o,1,l)}),OL=at(function(o,l,f){return t1(o,vi(l)||0,f)});function DL(o){return qs(o,L)}function Df(o,l){if(typeof o!="function"||l!=null&&typeof l!="function")throw new hi(u);var f=function(){var v=arguments,T=l?l.apply(this,v):v[0],D=f.cache;if(D.has(T))return D.get(T);var V=o.apply(this,v);return f.cache=D.set(T,V)||D,V};return f.cache=new(Df.Cache||zs),f}Df.Cache=zs;function Lf(o){if(typeof o!="function")throw new hi(u);return function(){var l=arguments;switch(l.length){case 0:return!o.call(this);case 1:return!o.call(this,l[0]);case 2:return!o.call(this,l[0],l[1]);case 3:return!o.call(this,l[0],l[1],l[2])}return!o.apply(this,l)}}function LL(o){return lS(2,o)}var ML=SO(function(o,l){l=l.length==1&&Xe(l[0])?Mt(l[0],Pt(Ue())):Mt(Kn(l,1),Pt(Ue()));var f=l.length;return at(function(v){for(var T=-1,D=rr(v.length,f);++T<D;)v[T]=l[T].call(this,v[T]);return bn(o,this,v)})}),Wv=at(function(o,l){var f=ko(l,Gl(Wv));return qs(o,Q,r,l,f)}),fS=at(function(o,l){var f=ko(l,Gl(fS));return qs(o,x,r,l,f)}),FL=Hs(function(o,l){return qs(o,k,r,r,r,l)});function VL(o,l){if(typeof o!="function")throw new hi(u);return l=l===r?l:Ze(l),at(o,l)}function UL(o,l){if(typeof o!="function")throw new hi(u);return l=l==null?0:On(Ze(l),0),at(function(f){var v=f[l],T=Mo(f,0,l);return v&&nr(T,v),bn(o,this,T)})}function jL(o,l,f){var v=!0,T=!0;if(typeof o!="function")throw new hi(u);return Zt(f)&&(v="leading"in f?!!f.leading:v,T="trailing"in f?!!f.trailing:T),hS(o,l,{leading:v,maxWait:l,trailing:T})}function BL(o){return aS(o,1)}function $L(o,l){return Wv(Pv(l),o)}function zL(){if(!arguments.length)return[];var o=arguments[0];return Xe(o)?o:[o]}function WL(o){return pi(o,R)}function qL(o,l){return l=typeof l=="function"?l:r,pi(o,R,l)}function HL(o){return pi(o,y|R)}function KL(o,l){return l=typeof l=="function"?l:r,pi(o,y|R,l)}function GL(o,l){return l==null||e1(o,l,$n(l))}function Vi(o,l){return o===l||o!==o&&l!==l}var QL=Af(mv),YL=Af(function(o,l){return o>=l}),$a=o1(function(){return arguments}())?o1:function(o){return un(o)&&kt.call(o,"callee")&&!HE.call(o,"callee")},Xe=J.isArray,XL=Nl?Pt(Nl):sO;function kr(o){return o!=null&&Mf(o.length)&&!Gs(o)}function gn(o){return un(o)&&kr(o)}function JL(o){return o===!0||o===!1||un(o)&&yr(o)==wn}var Fo=hN||ty,ZL=ka?Pt(ka):oO;function eM(o){return un(o)&&o.nodeType===1&&!Dc(o)}function tM(o){if(o==null)return!0;if(kr(o)&&(Xe(o)||typeof o=="string"||typeof o.splice=="function"||Fo(o)||Ql(o)||$a(o)))return!o.length;var l=ir(o);if(l==pt||l==de)return!o.size;if(Nc(o))return!_v(o).length;for(var f in o)if(kt.call(o,f))return!1;return!0}function nM(o,l){return Rc(o,l)}function rM(o,l,f){f=typeof f=="function"?f:r;var v=f?f(o,l):r;return v===r?Rc(o,l,r,f):!!v}function qv(o){if(!un(o))return!1;var l=yr(o);return l==Et||l==on||typeof o.message=="string"&&typeof o.name=="string"&&!Dc(o)}function iM(o){return typeof o=="number"&&GE(o)}function Gs(o){if(!Zt(o))return!1;var l=yr(o);return l==Jt||l==an||l==Pn||l==te}function pS(o){return typeof o=="number"&&o==Ze(o)}function Mf(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=oe}function Zt(o){var l=typeof o;return o!=null&&(l=="object"||l=="function")}function un(o){return o!=null&&typeof o=="object"}var gS=vc?Pt(vc):lO;function sM(o,l){return o===l||yv(o,l,Lv(l))}function oM(o,l,f){return f=typeof f=="function"?f:r,yv(o,l,Lv(l),f)}function aM(o){return mS(o)&&o!=+o}function lM(o){if(qO(o))throw new Qe(a);return a1(o)}function uM(o){return o===null}function cM(o){return o==null}function mS(o){return typeof o=="number"||un(o)&&yr(o)==St}function Dc(o){if(!un(o)||yr(o)!=B)return!1;var l=uf(o);if(l===null)return!0;var f=kt.call(l,"constructor")&&l.constructor;return typeof f=="function"&&f instanceof f&&sf.call(f)==oN}var Hv=Na?Pt(Na):uO;function dM(o){return pS(o)&&o>=-oe&&o<=oe}var vS=Xh?Pt(Xh):cO;function Ff(o){return typeof o=="string"||!Xe(o)&&un(o)&&yr(o)==le}function Hr(o){return typeof o=="symbol"||un(o)&&yr(o)==Ie}var Ql=yc?Pt(yc):dO;function hM(o){return o===r}function fM(o){return un(o)&&ir(o)==Me}function pM(o){return un(o)&&yr(o)==ut}var gM=Af(wv),mM=Af(function(o,l){return o<=l});function yS(o){if(!o)return[];if(kr(o))return Ff(o)?Mi(o):br(o);if(Ec&&o[Ec])return G2(o[Ec]());var l=ir(o),f=l==pt?av:l==de?tf:Yl;return f(o)}function Qs(o){if(!o)return o===0?o:0;if(o=vi(o),o===ee||o===-ee){var l=o<0?-1:1;return l*ge}return o===o?o:0}function Ze(o){var l=Qs(o),f=l%1;return l===l?f?l-f:l:0}function _S(o){return o?Va(Ze(o),0,xe):0}function vi(o){if(typeof o=="number")return o;if(Hr(o))return Ae;if(Zt(o)){var l=typeof o.valueOf=="function"?o.valueOf():o;o=Zt(l)?l+"":l}if(typeof o!="string")return o===0?o:+o;o=kn(o);var f=pr.test(o);return f||os.test(o)?Qh(o.slice(2),f?2:8):bi.test(o)?Ae:+o}function wS(o){return fs(o,Nr(o))}function vM(o){return o?Va(Ze(o),-oe,oe):o===0?o:0}function Rt(o){return o==null?"":qr(o)}var yM=Hl(function(o,l){if(Nc(l)||kr(l)){fs(l,$n(l),o);return}for(var f in l)kt.call(l,f)&&Cc(o,f,l[f])}),ES=Hl(function(o,l){fs(l,Nr(l),o)}),Vf=Hl(function(o,l,f,v){fs(l,Nr(l),o,v)}),_M=Hl(function(o,l,f,v){fs(l,$n(l),o,v)}),wM=Hs(fv);function EM(o,l){var f=ql(o);return l==null?f:ZE(f,l)}var SM=at(function(o,l){o=Ft(o);var f=-1,v=l.length,T=v>2?l[2]:r;for(T&&_r(l[0],l[1],T)&&(v=1);++f<v;)for(var D=l[f],V=Nr(D),$=-1,H=V.length;++$<H;){var ie=V[$],se=o[ie];(se===r||Vi(se,$l[ie])&&!kt.call(o,ie))&&(o[ie]=D[ie])}return o}),TM=at(function(o){return o.push(r,V1),bn(SS,r,o)});function xM(o,l){return wc(o,Ue(l,3),hs)}function IM(o,l){return wc(o,Ue(l,3),gv)}function CM(o,l){return o==null?o:pv(o,Ue(l,3),Nr)}function AM(o,l){return o==null?o:i1(o,Ue(l,3),Nr)}function PM(o,l){return o&&hs(o,Ue(l,3))}function RM(o,l){return o&&gv(o,Ue(l,3))}function bM(o){return o==null?[]:_f(o,$n(o))}function kM(o){return o==null?[]:_f(o,Nr(o))}function Kv(o,l,f){var v=o==null?r:Ua(o,l);return v===r?f:v}function NM(o,l){return o!=null&&B1(o,l,tO)}function Gv(o,l){return o!=null&&B1(o,l,nO)}var OM=O1(function(o,l,f){l!=null&&typeof l.toString!="function"&&(l=of.call(l)),o[l]=f},Yv(Or)),DM=O1(function(o,l,f){l!=null&&typeof l.toString!="function"&&(l=of.call(l)),kt.call(o,l)?o[l].push(f):o[l]=[f]},Ue),LM=at(Pc);function $n(o){return kr(o)?XE(o):_v(o)}function Nr(o){return kr(o)?XE(o,!0):hO(o)}function MM(o,l){var f={};return l=Ue(l,3),hs(o,function(v,T,D){Ws(f,l(v,T,D),v)}),f}function FM(o,l){var f={};return l=Ue(l,3),hs(o,function(v,T,D){Ws(f,T,l(v,T,D))}),f}var VM=Hl(function(o,l,f){wf(o,l,f)}),SS=Hl(function(o,l,f,v){wf(o,l,f,v)}),UM=Hs(function(o,l){var f={};if(o==null)return f;var v=!1;l=Mt(l,function(D){return D=Lo(D,o),v||(v=D.length>1),D}),fs(o,Ov(o),f),v&&(f=pi(f,y|A|R,OO));for(var T=l.length;T--;)Iv(f,l[T]);return f});function jM(o,l){return TS(o,Lf(Ue(l)))}var BM=Hs(function(o,l){return o==null?{}:pO(o,l)});function TS(o,l){if(o==null)return{};var f=Mt(Ov(o),function(v){return[v]});return l=Ue(l),p1(o,f,function(v,T){return l(v,T[0])})}function $M(o,l,f){l=Lo(l,o);var v=-1,T=l.length;for(T||(T=1,o=r);++v<T;){var D=o==null?r:o[ps(l[v])];D===r&&(v=T,D=f),o=Gs(D)?D.call(o):D}return o}function zM(o,l,f){return o==null?o:bc(o,l,f)}function WM(o,l,f,v){return v=typeof v=="function"?v:r,o==null?o:bc(o,l,f,v)}var xS=M1($n),IS=M1(Nr);function qM(o,l,f){var v=Xe(o),T=v||Fo(o)||Ql(o);if(l=Ue(l,4),f==null){var D=o&&o.constructor;T?f=v?new D:[]:Zt(o)?f=Gs(D)?ql(uf(o)):{}:f={}}return(T?mr:hs)(o,function(V,$,H){return l(f,V,$,H)}),f}function HM(o,l){return o==null?!0:Iv(o,l)}function KM(o,l,f){return o==null?o:_1(o,l,Pv(f))}function GM(o,l,f,v){return v=typeof v=="function"?v:r,o==null?o:_1(o,l,Pv(f),v)}function Yl(o){return o==null?[]:ds(o,$n(o))}function QM(o){return o==null?[]:ds(o,Nr(o))}function YM(o,l,f){return f===r&&(f=l,l=r),f!==r&&(f=vi(f),f=f===f?f:0),l!==r&&(l=vi(l),l=l===l?l:0),Va(vi(o),l,f)}function XM(o,l,f){return l=Qs(l),f===r?(f=l,l=0):f=Qs(f),o=vi(o),rO(o,l,f)}function JM(o,l,f){if(f&&typeof f!="boolean"&&_r(o,l,f)&&(l=f=r),f===r&&(typeof l=="boolean"?(f=l,l=r):typeof o=="boolean"&&(f=o,o=r)),o===r&&l===r?(o=0,l=1):(o=Qs(o),l===r?(l=o,o=0):l=Qs(l)),o>l){var v=o;o=l,l=v}if(f||o%1||l%1){var T=QE();return rr(o+T*(l-o+Gh("1e-"+((T+"").length-1))),l)}return Sv(o,l)}var ZM=Kl(function(o,l,f){return l=l.toLowerCase(),o+(f?CS(l):l)});function CS(o){return Qv(Rt(o).toLowerCase())}function AS(o){return o=Rt(o),o&&o.replace(ot,z2).replace(us,"")}function e4(o,l,f){o=Rt(o),l=qr(l);var v=o.length;f=f===r?v:Va(Ze(f),0,v);var T=f;return f-=l.length,f>=0&&o.slice(f,T)==l}function t4(o){return o=Rt(o),o&&q.test(o)?o.replace(Ls,W2):o}function n4(o){return o=Rt(o),o&&qe.test(o)?o.replace(Ee,"\\$&"):o}var r4=Kl(function(o,l,f){return o+(f?"-":"")+l.toLowerCase()}),i4=Kl(function(o,l,f){return o+(f?" ":"")+l.toLowerCase()}),s4=b1("toLowerCase");function o4(o,l,f){o=Rt(o),l=Ze(l);var v=l?jl(o):0;if(!l||v>=l)return o;var T=(l-v)/2;return Cf(ff(T),f)+o+Cf(hf(T),f)}function a4(o,l,f){o=Rt(o),l=Ze(l);var v=l?jl(o):0;return l&&v<l?o+Cf(l-v,f):o}function l4(o,l,f){o=Rt(o),l=Ze(l);var v=l?jl(o):0;return l&&v<l?Cf(l-v,f)+o:o}function u4(o,l,f){return f||l==null?l=0:l&&(l=+l),mN(Rt(o).replace(je,""),l||0)}function c4(o,l,f){return(f?_r(o,l,f):l===r)?l=1:l=Ze(l),Tv(Rt(o),l)}function d4(){var o=arguments,l=Rt(o[0]);return o.length<3?l:l.replace(o[1],o[2])}var h4=Kl(function(o,l,f){return o+(f?"_":"")+l.toLowerCase()});function f4(o,l,f){return f&&typeof f!="number"&&_r(o,l,f)&&(l=f=r),f=f===r?xe:f>>>0,f?(o=Rt(o),o&&(typeof l=="string"||l!=null&&!Hv(l))&&(l=qr(l),!l&&Ul(o))?Mo(Mi(o),0,f):o.split(l,f)):[]}var p4=Kl(function(o,l,f){return o+(f?" ":"")+Qv(l)});function g4(o,l,f){return o=Rt(o),f=f==null?0:Va(Ze(f),0,o.length),l=qr(l),o.slice(f,f+l.length)==l}function m4(o,l,f){var v=b.templateSettings;f&&_r(o,l,f)&&(l=r),o=Rt(o),l=Vf({},l,v,F1);var T=Vf({},l.imports,v.imports,F1),D=$n(T),V=ds(T,D),$,H,ie=0,se=l.interpolate||ln,ae="__p += '",_e=lv((l.escape||ln).source+"|"+se.source+"|"+(se===he?$r:ln).source+"|"+(l.evaluate||ln).source+"|$","g"),ke="//# sourceURL="+(kt.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ba+"]")+`
`;o.replace(_e,function(ze,ct,gt,Kr,wr,Gr){return gt||(gt=Kr),ae+=o.slice(ie,Gr).replace(Rn,q2),ct&&($=!0,ae+=`' +
__e(`+ct+`) +
'`),wr&&(H=!0,ae+=`';
`+wr+`;
__p += '`),gt&&(ae+=`' +
((__t = (`+gt+`)) == null ? '' : __t) +
'`),ie=Gr+ze.length,ze}),ae+=`';
`;var $e=kt.call(l,"variable")&&l.variable;if(!$e)ae=`with (obj) {
`+ae+`
}
`;else if(is.test($e))throw new Qe(c);ae=(H?ae.replace(Ao,""):ae).replace(Cl,"$1").replace(rs,"$1;"),ae="function("+($e||"obj")+`) {
`+($e?"":`obj || (obj = {});
`)+"var __t, __p = ''"+($?", __e = _.escape":"")+(H?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ae+`return __p
}`;var nt=RS(function(){return It(D,ke+"return "+ae).apply(r,V)});if(nt.source=ae,qv(nt))throw nt;return nt}function v4(o){return Rt(o).toLowerCase()}function y4(o){return Rt(o).toUpperCase()}function _4(o,l,f){if(o=Rt(o),o&&(f||l===r))return kn(o);if(!o||!(l=qr(l)))return o;var v=Mi(o),T=Mi(l),D=Da(v,T),V=Vl(v,T)+1;return Mo(v,D,V).join("")}function w4(o,l,f){if(o=Rt(o),o&&(f||l===r))return o.slice(0,$E(o)+1);if(!o||!(l=qr(l)))return o;var v=Mi(o),T=Vl(v,Mi(l))+1;return Mo(v,0,T).join("")}function E4(o,l,f){if(o=Rt(o),o&&(f||l===r))return o.replace(je,"");if(!o||!(l=qr(l)))return o;var v=Mi(o),T=Da(v,Mi(l));return Mo(v,T).join("")}function S4(o,l){var f=U,v=F;if(Zt(l)){var T="separator"in l?l.separator:T;f="length"in l?Ze(l.length):f,v="omission"in l?qr(l.omission):v}o=Rt(o);var D=o.length;if(Ul(o)){var V=Mi(o);D=V.length}if(f>=D)return o;var $=f-jl(v);if($<1)return v;var H=V?Mo(V,0,$).join(""):o.slice(0,$);if(T===r)return H+v;if(V&&($+=H.length-$),Hv(T)){if(o.slice($).search(T)){var ie,se=H;for(T.global||(T=lv(T.source,Rt(Bn.exec(T))+"g")),T.lastIndex=0;ie=T.exec(se);)var ae=ie.index;H=H.slice(0,ae===r?$:ae)}}else if(o.indexOf(qr(T),$)!=$){var _e=H.lastIndexOf(T);_e>-1&&(H=H.slice(0,_e))}return H+v}function T4(o){return o=Rt(o),o&&Ri.test(o)?o.replace(Po,J2):o}var x4=Kl(function(o,l,f){return o+(f?" ":"")+l.toUpperCase()}),Qv=b1("toUpperCase");function PS(o,l,f){return o=Rt(o),l=f?r:l,l===r?K2(o)?tN(o):vr(o):o.match(l)||[]}var RS=at(function(o,l){try{return bn(o,r,l)}catch(f){return qv(f)?f:new Qe(f)}}),I4=Hs(function(o,l){return mr(l,function(f){f=ps(f),Ws(o,f,zv(o[f],o))}),o});function C4(o){var l=o==null?0:o.length,f=Ue();return o=l?Mt(o,function(v){if(typeof v[1]!="function")throw new hi(u);return[f(v[0]),v[1]]}):[],at(function(v){for(var T=-1;++T<l;){var D=o[T];if(bn(D[0],this,v))return bn(D[1],this,v)}})}function A4(o){return JN(pi(o,y))}function Yv(o){return function(){return o}}function P4(o,l){return o==null||o!==o?l:o}var R4=N1(),b4=N1(!0);function Or(o){return o}function Xv(o){return l1(typeof o=="function"?o:pi(o,y))}function k4(o){return c1(pi(o,y))}function N4(o,l){return d1(o,pi(l,y))}var O4=at(function(o,l){return function(f){return Pc(f,o,l)}}),D4=at(function(o,l){return function(f){return Pc(o,f,l)}});function Jv(o,l,f){var v=$n(l),T=_f(l,v);f==null&&!(Zt(l)&&(T.length||!v.length))&&(f=l,l=o,o=this,T=_f(l,$n(l)));var D=!(Zt(f)&&"chain"in f)||!!f.chain,V=Gs(o);return mr(T,function($){var H=l[$];o[$]=H,V&&(o.prototype[$]=function(){var ie=this.__chain__;if(D||ie){var se=o(this.__wrapped__),ae=se.__actions__=br(this.__actions__);return ae.push({func:H,args:arguments,thisArg:o}),se.__chain__=ie,se}return H.apply(o,nr([this.value()],arguments))})}),o}function L4(){return Sn._===this&&(Sn._=aN),this}function Zv(){}function M4(o){return o=Ze(o),at(function(l){return h1(l,o)})}var F4=bv(Mt),V4=bv(Ol),U4=bv(Ml);function bS(o){return Fv(o)?O(ps(o)):gO(o)}function j4(o){return function(l){return o==null?r:Ua(o,l)}}var B4=D1(),$4=D1(!0);function ey(){return[]}function ty(){return!1}function z4(){return{}}function W4(){return""}function q4(){return!0}function H4(o,l){if(o=Ze(o),o<1||o>oe)return[];var f=xe,v=rr(o,xe);l=Ue(l),o-=xe;for(var T=pn(v,l);++f<o;)l(f);return T}function K4(o){return Xe(o)?Mt(o,ps):Hr(o)?[o]:br(Y1(Rt(o)))}function G4(o){var l=++sN;return Rt(o)+l}var Q4=If(function(o,l){return o+l},0),Y4=kv("ceil"),X4=If(function(o,l){return o/l},1),J4=kv("floor");function Z4(o){return o&&o.length?yf(o,Or,mv):r}function eF(o,l){return o&&o.length?yf(o,Ue(l,2),mv):r}function tF(o){return w(o,Or)}function nF(o,l){return w(o,Ue(l,2))}function rF(o){return o&&o.length?yf(o,Or,wv):r}function iF(o,l){return o&&o.length?yf(o,Ue(l,2),wv):r}var sF=If(function(o,l){return o*l},1),oF=kv("round"),aF=If(function(o,l){return o-l},0);function lF(o){return o&&o.length?xt(o,Or):0}function uF(o,l){return o&&o.length?xt(o,Ue(l,2)):0}return b.after=kL,b.ary=aS,b.assign=yM,b.assignIn=ES,b.assignInWith=Vf,b.assignWith=_M,b.at=wM,b.before=lS,b.bind=zv,b.bindAll=I4,b.bindKey=uS,b.castArray=zL,b.chain=iS,b.chunk=JO,b.compact=ZO,b.concat=eD,b.cond=C4,b.conforms=A4,b.constant=Yv,b.countBy=lL,b.create=EM,b.curry=cS,b.curryRight=dS,b.debounce=hS,b.defaults=SM,b.defaultsDeep=TM,b.defer=NL,b.delay=OL,b.difference=tD,b.differenceBy=nD,b.differenceWith=rD,b.drop=iD,b.dropRight=sD,b.dropRightWhile=oD,b.dropWhile=aD,b.fill=lD,b.filter=cL,b.flatMap=fL,b.flatMapDeep=pL,b.flatMapDepth=gL,b.flatten=eS,b.flattenDeep=uD,b.flattenDepth=cD,b.flip=DL,b.flow=R4,b.flowRight=b4,b.fromPairs=dD,b.functions=bM,b.functionsIn=kM,b.groupBy=mL,b.initial=fD,b.intersection=pD,b.intersectionBy=gD,b.intersectionWith=mD,b.invert=OM,b.invertBy=DM,b.invokeMap=yL,b.iteratee=Xv,b.keyBy=_L,b.keys=$n,b.keysIn=Nr,b.map=Nf,b.mapKeys=MM,b.mapValues=FM,b.matches=k4,b.matchesProperty=N4,b.memoize=Df,b.merge=VM,b.mergeWith=SS,b.method=O4,b.methodOf=D4,b.mixin=Jv,b.negate=Lf,b.nthArg=M4,b.omit=UM,b.omitBy=jM,b.once=LL,b.orderBy=wL,b.over=F4,b.overArgs=ML,b.overEvery=V4,b.overSome=U4,b.partial=Wv,b.partialRight=fS,b.partition=EL,b.pick=BM,b.pickBy=TS,b.property=bS,b.propertyOf=j4,b.pull=wD,b.pullAll=nS,b.pullAllBy=ED,b.pullAllWith=SD,b.pullAt=TD,b.range=B4,b.rangeRight=$4,b.rearg=FL,b.reject=xL,b.remove=xD,b.rest=VL,b.reverse=Bv,b.sampleSize=CL,b.set=zM,b.setWith=WM,b.shuffle=AL,b.slice=ID,b.sortBy=bL,b.sortedUniq=ND,b.sortedUniqBy=OD,b.split=f4,b.spread=UL,b.tail=DD,b.take=LD,b.takeRight=MD,b.takeRightWhile=FD,b.takeWhile=VD,b.tap=ZD,b.throttle=jL,b.thru=kf,b.toArray=yS,b.toPairs=xS,b.toPairsIn=IS,b.toPath=K4,b.toPlainObject=wS,b.transform=qM,b.unary=BL,b.union=UD,b.unionBy=jD,b.unionWith=BD,b.uniq=$D,b.uniqBy=zD,b.uniqWith=WD,b.unset=HM,b.unzip=$v,b.unzipWith=rS,b.update=KM,b.updateWith=GM,b.values=Yl,b.valuesIn=QM,b.without=qD,b.words=PS,b.wrap=$L,b.xor=HD,b.xorBy=KD,b.xorWith=GD,b.zip=QD,b.zipObject=YD,b.zipObjectDeep=XD,b.zipWith=JD,b.entries=xS,b.entriesIn=IS,b.extend=ES,b.extendWith=Vf,Jv(b,b),b.add=Q4,b.attempt=RS,b.camelCase=ZM,b.capitalize=CS,b.ceil=Y4,b.clamp=YM,b.clone=WL,b.cloneDeep=HL,b.cloneDeepWith=KL,b.cloneWith=qL,b.conformsTo=GL,b.deburr=AS,b.defaultTo=P4,b.divide=X4,b.endsWith=e4,b.eq=Vi,b.escape=t4,b.escapeRegExp=n4,b.every=uL,b.find=dL,b.findIndex=J1,b.findKey=xM,b.findLast=hL,b.findLastIndex=Z1,b.findLastKey=IM,b.floor=J4,b.forEach=sS,b.forEachRight=oS,b.forIn=CM,b.forInRight=AM,b.forOwn=PM,b.forOwnRight=RM,b.get=Kv,b.gt=QL,b.gte=YL,b.has=NM,b.hasIn=Gv,b.head=tS,b.identity=Or,b.includes=vL,b.indexOf=hD,b.inRange=XM,b.invoke=LM,b.isArguments=$a,b.isArray=Xe,b.isArrayBuffer=XL,b.isArrayLike=kr,b.isArrayLikeObject=gn,b.isBoolean=JL,b.isBuffer=Fo,b.isDate=ZL,b.isElement=eM,b.isEmpty=tM,b.isEqual=nM,b.isEqualWith=rM,b.isError=qv,b.isFinite=iM,b.isFunction=Gs,b.isInteger=pS,b.isLength=Mf,b.isMap=gS,b.isMatch=sM,b.isMatchWith=oM,b.isNaN=aM,b.isNative=lM,b.isNil=cM,b.isNull=uM,b.isNumber=mS,b.isObject=Zt,b.isObjectLike=un,b.isPlainObject=Dc,b.isRegExp=Hv,b.isSafeInteger=dM,b.isSet=vS,b.isString=Ff,b.isSymbol=Hr,b.isTypedArray=Ql,b.isUndefined=hM,b.isWeakMap=fM,b.isWeakSet=pM,b.join=vD,b.kebabCase=r4,b.last=mi,b.lastIndexOf=yD,b.lowerCase=i4,b.lowerFirst=s4,b.lt=gM,b.lte=mM,b.max=Z4,b.maxBy=eF,b.mean=tF,b.meanBy=nF,b.min=rF,b.minBy=iF,b.stubArray=ey,b.stubFalse=ty,b.stubObject=z4,b.stubString=W4,b.stubTrue=q4,b.multiply=sF,b.nth=_D,b.noConflict=L4,b.noop=Zv,b.now=Of,b.pad=o4,b.padEnd=a4,b.padStart=l4,b.parseInt=u4,b.random=JM,b.reduce=SL,b.reduceRight=TL,b.repeat=c4,b.replace=d4,b.result=$M,b.round=oF,b.runInContext=z,b.sample=IL,b.size=PL,b.snakeCase=h4,b.some=RL,b.sortedIndex=CD,b.sortedIndexBy=AD,b.sortedIndexOf=PD,b.sortedLastIndex=RD,b.sortedLastIndexBy=bD,b.sortedLastIndexOf=kD,b.startCase=p4,b.startsWith=g4,b.subtract=aF,b.sum=lF,b.sumBy=uF,b.template=m4,b.times=H4,b.toFinite=Qs,b.toInteger=Ze,b.toLength=_S,b.toLower=v4,b.toNumber=vi,b.toSafeInteger=vM,b.toString=Rt,b.toUpper=y4,b.trim=_4,b.trimEnd=w4,b.trimStart=E4,b.truncate=S4,b.unescape=T4,b.uniqueId=G4,b.upperCase=x4,b.upperFirst=Qv,b.each=sS,b.eachRight=oS,b.first=tS,Jv(b,function(){var o={};return hs(b,function(l,f){kt.call(b.prototype,f)||(o[f]=l)}),o}(),{chain:!1}),b.VERSION=i,mr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){b[o].placeholder=b}),mr(["drop","take"],function(o,l){ht.prototype[o]=function(f){f=f===r?1:On(Ze(f),0);var v=this.__filtered__&&!l?new ht(this):this.clone();return v.__filtered__?v.__takeCount__=rr(f,v.__takeCount__):v.__views__.push({size:rr(f,xe),type:o+(v.__dir__<0?"Right":"")}),v},ht.prototype[o+"Right"]=function(f){return this.reverse()[o](f).reverse()}}),mr(["filter","map","takeWhile"],function(o,l){var f=l+1,v=f==Se||f==De;ht.prototype[o]=function(T){var D=this.clone();return D.__iteratees__.push({iteratee:Ue(T,3),type:f}),D.__filtered__=D.__filtered__||v,D}}),mr(["head","last"],function(o,l){var f="take"+(l?"Right":"");ht.prototype[o]=function(){return this[f](1).value()[0]}}),mr(["initial","tail"],function(o,l){var f="drop"+(l?"":"Right");ht.prototype[o]=function(){return this.__filtered__?new ht(this):this[f](1)}}),ht.prototype.compact=function(){return this.filter(Or)},ht.prototype.find=function(o){return this.filter(o).head()},ht.prototype.findLast=function(o){return this.reverse().find(o)},ht.prototype.invokeMap=at(function(o,l){return typeof o=="function"?new ht(this):this.map(function(f){return Pc(f,o,l)})}),ht.prototype.reject=function(o){return this.filter(Lf(Ue(o)))},ht.prototype.slice=function(o,l){o=Ze(o);var f=this;return f.__filtered__&&(o>0||l<0)?new ht(f):(o<0?f=f.takeRight(-o):o&&(f=f.drop(o)),l!==r&&(l=Ze(l),f=l<0?f.dropRight(-l):f.take(l-o)),f)},ht.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},ht.prototype.toArray=function(){return this.take(xe)},hs(ht.prototype,function(o,l){var f=/^(?:filter|find|map|reject)|While$/.test(l),v=/^(?:head|last)$/.test(l),T=b[v?"take"+(l=="last"?"Right":""):l],D=v||/^find/.test(l);T&&(b.prototype[l]=function(){var V=this.__wrapped__,$=v?[1]:arguments,H=V instanceof ht,ie=$[0],se=H||Xe(V),ae=function(ct){var gt=T.apply(b,nr([ct],$));return v&&_e?gt[0]:gt};se&&f&&typeof ie=="function"&&ie.length!=1&&(H=se=!1);var _e=this.__chain__,ke=!!this.__actions__.length,$e=D&&!_e,nt=H&&!ke;if(!D&&se){V=nt?V:new ht(this);var ze=o.apply(V,$);return ze.__actions__.push({func:kf,args:[ae],thisArg:r}),new fi(ze,_e)}return $e&&nt?o.apply(this,$):(ze=this.thru(ae),$e?v?ze.value()[0]:ze.value():ze)})}),mr(["pop","push","shift","sort","splice","unshift"],function(o){var l=nf[o],f=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",v=/^(?:pop|shift)$/.test(o);b.prototype[o]=function(){var T=arguments;if(v&&!this.__chain__){var D=this.value();return l.apply(Xe(D)?D:[],T)}return this[f](function(V){return l.apply(Xe(V)?V:[],T)})}}),hs(ht.prototype,function(o,l){var f=b[l];if(f){var v=f.name+"";kt.call(Wl,v)||(Wl[v]=[]),Wl[v].push({name:l,func:f})}}),Wl[xf(r,E).name]=[{name:"wrapper",func:r}],ht.prototype.clone=TN,ht.prototype.reverse=xN,ht.prototype.value=IN,b.prototype.at=eL,b.prototype.chain=tL,b.prototype.commit=nL,b.prototype.next=rL,b.prototype.plant=sL,b.prototype.reverse=oL,b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=aL,b.prototype.first=b.prototype.head,Ec&&(b.prototype[Ec]=iL),b},Bl=nN();cs?((cs.exports=Bl)._=Bl,zr._=Bl):Sn._=Bl}).call(xC)})(im,im.exports);var XK=im.exports;const Cd=sm(XK),JK=({children:t,className:e,outsideClick:n})=>{const r=W.useRef(null);return W.useEffect(()=>{const i=s=>{var a;if(r.current&&!((a=r.current)!=null&&a.contains(s.target)))return n()};return document.addEventListener("mousedown",i),document.addEventListener("keydown",s=>{s.key==="Enter"&&i(document)}),()=>{document.removeEventListener("mousedown",i),document.addEventListener("keydown",s=>{let a=s.key;(a==="Enter"||a==="Tab"||a==="Escape"||a==="Meta")&&i(document)})}},[]),_.jsx("div",{ref:r,className:e,children:t})},ZK=W.forwardRef(function({name:e,value:n,placeholder:r,options:i,disableOptionKeys:s,defaultOptionKey:a,required:u,onChange:c=()=>{},isFocused:h,defaultValue:p,control:m,rules:y,...A},R){const I=R||W.useRef(null),[N,S]=W.useState(!1),[,E]=W.useState(r),[P,j]=W.useState(!1),[K,Q]=W.useState(null),[x,C]=W.useState(i);return W.useEffect(()=>{h&&(I!=null&&I.current)&&(I==null||I.current.focus(),j(!1)),p&&S(!0)},[]),W.useEffect(()=>{if(K&&(K==null?void 0:K.length)>0){let k=i.filter(L=>L.key.toLowerCase().includes(K)||L.value.toLowerCase().includes(K));C(k)}else C(i)},[K,i]),_.jsx(JK,{outsideClick:()=>{j(!1)},children:_.jsx("div",{className:"relative w-full",children:_.jsx(FE,{name:e,control:m,rules:y,defaultValue:p,render:({field:{value:k,onChange:L,onBlur:U},fieldState:{error:F}})=>{var De,ee;const M=k&&k.toString().trim(),pe=()=>{S(!0),E(void 0)},Se=()=>{if(E(r),!M)return S(!1),U()},Oe=!!k||N||!!((De=I==null?void 0:I.current)!=null&&De.value);return _.jsxs("div",{className:"relative",children:[_.jsxs("div",{className:"relative z-20",children:[_.jsxs("div",{className:"relative",children:[_.jsx("input",{id:e,ref:I,name:e,className:`${Oe?"pt-4 pb-1":"py-2"} ${r?"focus:pt-4 focus:pb-1":"focus:py-2"} px-3 pr-10 mb-0.5 bg-gray-700 border border-gray-700 text-white text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5`,placeholder:k!=null&&k.value?k==null?void 0:k.value:a?(ee=Cd.find(i,oe=>oe.key===a))==null?void 0:ee.value:`${r}${y!=null&&y.required?"(*)":""}`,onFocus:()=>{j(!0),pe()},onBlur:Se,onChange:oe=>{const ge=oe.target.value;if(j(!0),i.some(Ae=>Ae.value.toLowerCase()===ge.toLowerCase()||Ae.key.toLowerCase()===ge.toLowerCase())){L({key:ge.toLowerCase(),value:ge.toLowerCase()==="fct"?"Federal Capital Territory":Cd.upperFirst(ge)});const Ae=document.getElementById(e);Ae&&(Ae.value=ge.toLowerCase()==="fct"?"Federal Capital Territory":Cd.startCase(ge))}else L(null);Q(ge.toLowerCase())},autoComplete:_7,...A}),_.jsx("div",{className:"absolute top-0 bottom-0 right-2 flex items-center justify-center cursor-pointer",onClick:()=>{C(i),S(!0),j(!P)},children:_.jsx("svg",{className:"w-3.5 h-3.5 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 8",children:_.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.8",d:"m1 1 5.326 5.7a.909.909 0 0 0 1.348 0L13 1"})})})]}),F&&!N&&_.jsx("span",{className:"block mt-0.5 mb-2.5 text-sm tracking-wider font-medium underline underline-offset-4 decoration-dotted text-red-500",dangerouslySetInnerHTML:{__html:(F==null?void 0:F.message)||"Error encountered with the input"}}),P&&_.jsx("div",{className:"absolute top-full mt-1 border border-gray-100 left-0 z-50 rounded-lg shadow-md bg-gray-400 space-y-0 w-full max-h-[14rem] overflow-y-auto select-none",children:x&&(x.length>0&&x.map((oe,ge)=>{let Ae=s&&(s==null?void 0:s.includes(oe==null?void 0:oe.key));return _.jsx("div",{className:`flex items-center gap-x-2 px-3 py-1.5 bg-gray-600 text-white hover:bg-gray-700 ${Ae?"cursor-not-allowed bg-zinc-200 opacity-70 text-opacity-20":"cursor-pointer"}`,onClick:()=>{Ae||(I!=null&&I.current&&(I.current.value=oe.value.toString()),L(oe),j(!1),C(i))},children:_.jsxs("div",{className:"flex flex-col items-start gap-0.5",children:[_.jsx("span",{className:"font-semibold text-sm whitespace-nowrap",children:oe==null?void 0:oe.value}),(oe==null?void 0:oe.description)&&_.jsx("span",{className:"block text-xs text-gray-800",children:oe.description})]})},ge)})||_.jsx("div",{className:"w-full text-center",children:_.jsxs("span",{className:"text-sm font-bold text-gray-600 text-center",children:['No dropdown with value "',_.jsx("span",{className:"underline underline-offset-2 decoration-dotted",children:K}),'"']})}))||_.jsx("div",{className:"w-full text-center",children:_.jsx("span",{className:"text-sm font-bold text-gray-600 text-center",children:"No options attached"})})})]}),r&&_.jsxs("label",{htmlFor:e,className:`absolute z-30 mb-0 text-white bg-gray-700 pl-4 pr-6 py-0.5 rounded-md origin-left transform scale-75 -top-4 left-1.5 transition-all duration-400 text-lg font-semibold shadow-md shadow-gray-500 ${Oe?"opacity-100 -top-4":"top-8 opacity-0"}`,children:[r," ",y!=null&&y.required?"(*)":""]})]})}})})})}),eG=W.forwardRef(function({className:e="",isFocused:n=!1,placeholder:r,control:i,name:s,rules:a,defaultValue:u,...c},h){const[p,m]=W.useState(!1),[y,A]=W.useState(r),R=h||W.useRef(null);return W.useEffect(()=>{n&&(R!=null&&R.current)&&(R==null||R.current.focus()),u&&m(!0)},[]),_.jsxs("div",{className:"relative w-full",children:[_.jsx(FE,{name:s,control:i,rules:a,defaultValue:u,render:({field:{value:I,onChange:N,onBlur:S},fieldState:{error:E}})=>{const P=I&&I.toString().trim(),j=()=>{m(!0),A(void 0)},K=()=>{if(A(r),!P)return m(!1),S()};return _.jsxs(_.Fragment,{children:[_.jsx("textarea",{ref:R,id:s,className:`${P?"pt-4 pb-1":"py-2"} ${r?"focus:pt-4 focus:pb-1":"focus:py-2"} px-3 pr-10 mb-0.5 bg-gray-700 border border-gray-700 text-white text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 ${e} `,onFocus:j,onBlur:K,placeholder:y?`${y}${a!=null&&a.required?"(*)":""}`:void 0,onChange:N,defaultValue:u,...c}),E&&_.jsx("span",{className:"block mt-0.5 mb-2.5 text-sm tracking-wider font-medium underline underline-offset-4 decoration-dotted text-red-500",dangerouslySetInnerHTML:{__html:E.message||"Error encountered with the input"}})]})}}),r&&_.jsxs("label",{htmlFor:s,className:`absolute mb-0 text-white bg-gray-700 pl-4 pr-6 py-0.5 rounded-md origin-left transform scale-75 -top-4 left-1.5 transition-all duration-400 text-lg font-semibold shadow-md shadow-gray-500 ${p?"opacity-100 -top-4":"top-8 opacity-0"}`,children:[r," ",a!=null&&a.required?"(*)":""]})]})});var lh=function(){return lh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lh.apply(this,arguments)};function jE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var mp=[];function tG(){var t="https://js.paystack.co/v1/inline.js",e=W.useState({loaded:!1,error:!1}),n=e[0],r=e[1];return W.useEffect(function(){if(mp.includes(t))r({loaded:!0,error:!1});else{mp.push(t);var i=document.createElement("script");i.src=t,i.async=!0;var s=function(){r({loaded:!0,error:!1})},a=function(){var u=mp.indexOf(t);u>=0&&mp.splice(u,1),i.remove(),r({loaded:!0,error:!0})};return i.addEventListener("load",s),i.addEventListener("complete",s),i.addEventListener("error",a),document.body.appendChild(i),function(){i.removeEventListener("load",s),i.removeEventListener("error",a)}}},[t]),[n.loaded,n.error]}var nG=function(t){var e=window.PaystackPop&&window.PaystackPop.setup(t);e&&e.openIframe()};function M2(t){var e=tG(),n=e[0],r=e[1];function i(s){var a=s.config,u=s.onSuccess,c=s.onClose;if(r)throw new Error("Unable to load paystack inline script");var h=lh(lh({},t),a),p=h.publicKey,m=h.firstname,y=h.lastname,A=h.phone,R=h.email,I=h.amount,N=h.reference,S=h.metadata,E=S===void 0?{}:S,P=h.currency,j=P===void 0?"NGN":P,K=h.channels,Q=h.label,x=Q===void 0?"":Q,C=h.plan,k=C===void 0?"":C,L=h.quantity,U=L===void 0?"":L,F=h.subaccount,M=F===void 0?"":F,pe=h.transaction_charge,Se=pe===void 0?0:pe,Oe=h.bearer,De=Oe===void 0?"account":Oe,ee=h.split,oe=h.split_code;if(n){var ge={callback:u||function(){return null},onClose:c||function(){return null},key:p,ref:N,email:R,firstname:m,lastname:y,phone:A,amount:I,currency:j,plan:k,quantity:U,channels:K,subaccount:M,transaction_charge:Se,bearer:De,label:x,metadata:E,split:ee,split_code:oe,"data-custom-button":h["data-custom-button"]||""};nG(ge)}}return W.useEffect(function(){if(r)throw new Error("Unable to load paystack inline script")},[r]),i}var rG=function(t){var e=t.text,n=t.className,r=t.children,i=t.onSuccess,s=t.onClose,a=jE(t,["text","className","children","onSuccess","onClose"]),u=M2(a);return we.createElement("button",{className:n,onClick:function(){return u({config:a,onSuccess:i,onClose:s})}},e||r)},F2=W.createContext({config:{},initializePayment:function(){return null},onSuccess:function(){return null},onClose:function(){return null}}),iG=function(t){var e=t.children,n=t.onSuccess,r=t.onClose,i=jE(t,["children","onSuccess","onClose"]),s=M2(i);return we.createElement(F2.Provider,{value:{config:i,initializePayment:s,onSuccess:n,onClose:r}},e)},sG=function(t){var e=t.children,n=t.ref,r=W.useContext(F2),i=r.config,s=r.initializePayment,a=r.onSuccess,u=r.onClose,c=function(){return s({config:i,onSuccess:a,onClose:u})};return e({initializePayment:c,ref:n})};W.forwardRef(function(t,e){var n=t.children,r=t.onSuccess,i=t.onClose,s=jE(t,["children","onSuccess","onClose"]),a=r||function(){return null},u=i||function(){return null};return we.createElement(iG,lh({},s,{onSuccess:a,onClose:u}),we.createElement(sG,{ref:e},n))});const oG="pk_test_c39acfcb77401d556afda0db1342f9ff951346e9",aG=()=>{var R,I,N;const{data:t}=Zm(),e=ec(),[n,r]=W.useState(0),{control:i,handleSubmit:s,reset:a,watch:u}=ah({mode:"all"}),c=u(),h=S=>{var E;n===1?(E=vt.currentUser)!=null&&E.isAnonymous?w2(S).then(()=>{r(P=>P+1)}):r(P=>P+1):r(P=>P+1)};W.useEffect(()=>{document.documentElement.scrollTo(0,0)},[n]);const p=[{title:"Shipping",icon:"store"},{title:"Account",icon:"account"},{title:"Payment and Billing",icon:"payment"}],m=S=>{console.log("success called"),wK(S,t,c).then(()=>{a(),e("/user/orders")})},y=()=>{console.log("closed")},A=Cd.sumBy(t,S=>{var E,P;if(S.metadata){let j=S.metadata.price;return(E=S.discount)!=null&&E.value&&(j=S.metadata.price*(1-(((P=S.discount)==null?void 0:P.value)||1)/100)),j*S.quantity}});return _.jsx(Il,{title:"Checkout",no_footer:!0,children:_.jsxs("div",{className:"relative flex flex-col-reverse lg:block",children:[_.jsxs("form",{onSubmit:s(h),className:"w-full px-4 md:w-[75%] md:px-8 py-12",children:[_.jsxs("div",{className:"flex",children:[_.jsx("ol",{className:"flex items-center w-full space-x-2 text-sm font-medium text-center text-gray-500 bg-white shadow-sm dark:text-gray-400 sm:text-base dark:bg-gray-800 dark:border-gray-700 sm:space-x-4 rtl:space-x-reverse",children:p.map((S,E)=>_.jsxs("button",{type:"submit",className:`flex items-center gap-x-1 ${n==E?"text-rose-600":""}`,children:[_.jsxs("div",{className:`border p-1 rounded-full ${n==E?"bg-rose-600 border-rose-600 text-white":"border-gray-200"}`,children:[S.icon=="store"&&_.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:_.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 12c.263 0 .524-.06.767-.175a2 2 0 0 0 .65-.491c.186-.21.333-.46.433-.734.1-.274.15-.568.15-.864a2.4 2.4 0 0 0 .586 1.591c.375.422.884.659 1.414.659.53 0 1.04-.237 1.414-.659A2.4 2.4 0 0 0 12 9.736a2.4 2.4 0 0 0 .586 1.591c.375.422.884.659 1.414.659.53 0 1.04-.237 1.414-.659A2.4 2.4 0 0 0 16 9.736c0 .295.052.588.152.861s.248.521.434.73a2 2 0 0 0 .649.488 1.809 1.809 0 0 0 1.53 0 2.03 2.03 0 0 0 .65-.488c.185-.209.332-.457.433-.73.1-.273.152-.566.152-.861 0-.974-1.108-3.85-1.618-5.121A.983.983 0 0 0 17.466 4H6.456a.986.986 0 0 0-.93.645C5.045 5.962 4 8.905 4 9.736c.023.59.241 1.148.611 1.567.37.418.865.667 1.389.697Zm0 0c.328 0 .651-.091.94-.266A2.1 2.1 0 0 0 7.66 11h.681a2.1 2.1 0 0 0 .718.734c.29.175.613.266.942.266.328 0 .651-.091.94-.266.29-.174.537-.427.719-.734h.681a2.1 2.1 0 0 0 .719.734c.289.175.612.266.94.266.329 0 .652-.091.942-.266.29-.174.536-.427.718-.734h.681c.183.307.43.56.719.734.29.174.613.266.941.266a1.819 1.819 0 0 0 1.06-.351M6 12a1.766 1.766 0 0 1-1.163-.476M5 12v7a1 1 0 0 0 1 1h2v-5h3v5h7a1 1 0 0 0 1-1v-7m-5 3v2h2v-2h-2Z"})}),S.icon=="payment"&&_.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:_.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 17.345a4.76 4.76 0 0 0 2.558 1.618c2.274.589 4.512-.446 4.999-2.31.487-1.866-1.273-3.9-3.546-4.49-2.273-.59-4.034-2.623-3.547-4.488.486-1.865 2.724-2.899 4.998-2.31.982.236 1.87.793 2.538 1.592m-3.879 12.171V21m0-18v2.2"})}),S.icon=="account"&&_.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:_.jsx("path",{stroke:"currentColor",strokeLinecap:"square",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19H5a1 1 0 0 1-1-1v-1a3 3 0 0 1 3-3h2m10 1a3 3 0 0 1-3 3m3-3a3 3 0 0 0-3-3m3 3h1m-4 3a3 3 0 0 1-3-3m3 3v1m-3-4a3 3 0 0 1 3-3m-3 3h-1m4-3v-1m-2.121 1.879-.707-.707m5.656 5.656-.707-.707m-4.242 0-.707.707m5.656-5.656-.707.707M12 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("span",{className:"hidden sm:inline-flex",children:S.title}),p.length-1!==E&&_.jsx("svg",{className:"w-3 h-3 rtl:rotate-180","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 12 10",children:_.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m7 9 4-4-4-4M1 9l4-4-4-4"})})]})]},E))}),!!n&&_.jsxs(Hi,{type:"button",className:"inline-flex gap-1 items-center px-2",onClick:()=>{r(S=>S-1)},children:[_.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:_.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 12h14M5 12l4-4m-4 4 4 4"})}),"Back"]})]}),_.jsxs("div",{className:"mt-7",children:[n==0&&_.jsxs("div",{className:"pb-32",children:[_.jsx("h3",{className:"text-2xl font-bold leading-none text-gray-900 dark:text-white",children:"Ship To"}),_.jsx("p",{className:"mt-1 text-xs font-medium italic",children:"All asterik (*) are required to be filled."}),_.jsxs("div",{className:"mt-6 w-full space-y-8",children:[_.jsxs("div",{className:"flex flex-col gap-6 md:gap-12 md:flex-row",children:[_.jsx(Gt,{control:i,name:"first_name",placeholder:"First Name",rules:{required:"First name is required"},defaultValue:c.first_name}),_.jsx(Gt,{control:i,name:"last_name",placeholder:"Last Name",rules:{required:"Last name is required"},defaultValue:c.last_name})]}),_.jsx("div",{children:_.jsx(eG,{control:i,name:"street_address",placeholder:"Street Address",rules:{required:"Street address is required"},defaultValue:c.street_address})}),_.jsxs("div",{className:"flex flex-col gap-6 md:gap-12 md:flex-row",children:[_.jsx(Gt,{control:i,name:"postal_code",placeholder:"Postal Code",rules:{required:"Postal code is required"},defaultValue:c.postal_code}),_.jsx(Gt,{control:i,name:"town",placeholder:"Town/City",rules:{required:"Town/City is required"},defaultValue:c.town})]}),_.jsx("div",{children:_.jsx(ZK,{control:i,placeholder:"State/Province",name:"state",defaultValue:c.state,options:w7,rules:{required:"State is required. <em>Enter the name of state/province and choose from options</em>"}})}),_.jsx("div",{children:_.jsx(Gt,{type:"tel",control:i,name:"phone_number",placeholder:"Phone number",rules:{required:"Phone number is required",pattern:{value:HR,message:"Phone number can't contain letters"}},defaultValue:c.phone_number})})]}),_.jsx("div",{className:"mt-5 flex justify-end",children:_.jsx(Hi,{type:"submit",children:"Next Step: Account"})})]}),n==1&&_.jsxs("div",{children:[((R=vt.currentUser)==null?void 0:R.uid)&&!vt.currentUser.isAnonymous&&_.jsxs("div",{className:"border border-gray-200 p-4 rounded-md",children:[_.jsx("p",{className:"text-base font-medium",dangerouslySetInnerHTML:{__html:vt.currentUser.displayName?`Hello, <strong>${vt.currentUser.displayName}</strong>`:""}}),_.jsxs("p",{className:"text-base font-normal",children:["You are currently signed in, you can proceed with the next step"," ",_.jsx("span",{className:"underline underline-offset-4 decoration-dotted",children:"(Payment & Billing)"})," ","to continue your purchase."]})]})||_.jsxs(_.Fragment,{children:[_.jsx("h3",{className:"text-2xl font-bold leading-none text-gray-900 dark:text-white",children:"Create an account"}),_.jsx("p",{className:"mt-1 text-xs font-medium italic",children:"Create an account with us now to easily place order again and to login at any time."}),_.jsxs("div",{className:"mt-6 space-y-8",children:[_.jsx("div",{children:_.jsx(Gt,{control:i,rules:{required:"Username field is required"},name:"username",defaultValue:c.username,placeholder:"Username"})}),_.jsx("div",{children:_.jsx(Gt,{control:i,rules:{required:"Email field is required",pattern:{value:Dg,message:"Ouch, that doesn't look like an email!"}},name:"email",type:"email",defaultValue:c.email,placeholder:"Email address"})}),_.jsxs("div",{className:"flex flex-col gap-6 md:gap-12 md:flex-row",children:[_.jsx(Gt,{type:"password",control:i,name:"password",placeholder:"Password",defaultValue:c.password,rules:{required:"Password field is required",minLength:{value:8,message:"Password must contain the following: <br/> <em> - a <strong>lowercase</strong> letter <br/> - an <strong>uppercase</strong> letter <br/> - a <strong>number</strong> <br/> - Minimum of 8 characters </em> "},pattern:{value:s_,message:"Password must contain the following: <br/> <em> - a <strong>lowercase</strong> letter <br/> - an <strong>uppercase</strong> letter <br/> - a <strong>number</strong> <br/> - Minimum of 8 characters </em> "}}}),_.jsx(Gt,{type:"password",control:i,name:"confirm_password",placeholder:"Confirm Password",defaultValue:c.confirm_password,rules:{required:"Password field is required",validate:S=>S===c.password?!0:"Password is mismatch. Enter the right password",pattern:{value:s_,message:"Password must contain the following: <br/> <em> - a <strong>lowercase</strong> letter <br/> - an <strong>uppercase</strong> letter <br/> - a <strong>number</strong> <br/> - Minimum of 8 characters </em> "}}})]})]})]}),_.jsx("div",{className:"mt-5 flex justify-end",children:_.jsx("button",{type:"submit",className:"undefined inline-flex items-center px-4 py-0.5 text-base font-medium text-center rounded-lg bg-rose-700 hover:bg-rose-800 border-4 border-transparent hover:border-gray-800 hover:ring-2 hover:outline-none hover:ring-rose-600",children:"Next Step: Payment and Billing"})})]}),n==2&&_.jsxs("div",{className:"pb-32",children:[_.jsx("h3",{className:"text-2xl font-bold leading-none text-gray-900 dark:text-white",children:"Payment & Billing"}),_.jsx("p",{className:"mt-1 text-xs font-medium italic",children:"Please take note that this would only be a test development payment. As no real money is involved. Thank you."}),_.jsxs("div",{className:"mt-5",children:[_.jsx("p",{className:"text-base font-medium",children:"Billing Address:"}),_.jsxs("div",{className:"mt-2 border border-gray-2 py-3 px-5 rounded-lg space-y-4",children:[_.jsxs("div",{className:"flex items-start gap-2",children:[_.jsx("svg",{className:"w-5 h-5 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{fillRule:"evenodd",d:"M11.906 1.994a8.002 8.002 0 0 1 8.09 8.421 7.996 7.996 0 0 1-1.297 3.957.996.996 0 0 1-.133.204l-.108.129c-.178.243-.37.477-.573.699l-5.112 6.224a1 1 0 0 1-1.545 0L5.982 15.26l-.002-.002a18.146 18.146 0 0 1-.309-.38l-.133-.163a.999.999 0 0 1-.13-.202 7.995 7.995 0 0 1 6.498-12.518ZM15 9.997a3 3 0 1 1-5.999 0 3 3 0 0 1 5.999 0Z",clipRule:"evenodd"})}),_.jsx("div",{children:_.jsxs("p",{className:"text-sm tracking-tight",children:[c.first_name," ",c.last_name,_.jsx("br",{}),c.street_address,_.jsx("br",{}),(I=c==null?void 0:c.state)==null?void 0:I.value,", ",c.postal_code,_.jsx("br",{}),"Nigeria"]})})]}),_.jsxs("div",{className:"flex items-start gap-2",children:[_.jsx("svg",{className:"w-5 h-5 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M7.978 4a2.553 2.553 0 0 0-1.926.877C4.233 6.7 3.699 8.751 4.153 10.814c.44 1.995 1.778 3.893 3.456 5.572 1.68 1.679 3.577 3.018 5.57 3.459 2.062.456 4.115-.073 5.94-1.885a2.556 2.556 0 0 0 .001-3.861l-1.21-1.21a2.689 2.689 0 0 0-3.802 0l-.617.618a.806.806 0 0 1-1.14 0l-1.854-1.855a.807.807 0 0 1 0-1.14l.618-.62a2.692 2.692 0 0 0 0-3.803l-1.21-1.211A2.555 2.555 0 0 0 7.978 4Z"})}),_.jsx("p",{className:"text-sm tracking-tight",children:c.phone_number})]})]})]}),_.jsxs("div",{className:"mt-8 flex flex-wrap items-stretch gap-4",children:[_.jsxs(rG,{publicKey:oG,firstname:c.first_name,lastname:c.last_name,email:c.email||((N=vt.currentUser)==null?void 0:N.email)||"noclient@gmail.com",amount:Number(A.toFixed(0))*100,onSuccess:S=>m({...S,amount:Number(A.toFixed(0))}),onClose:y,metadata:{custom_fields:[{display_name:JSON.stringify(t),variable_name:new Date().toDateString(),value:"Purchasing Goods"}]},className:"flex gap-2 items-center px-4 py-0.5 text-base font-medium text-center rounded-lg bg-rose-700 hover:bg-rose-800 hover:border-gray-800 hover:ring-2 hover:outline-none hover:ring-rose-600",children:[_.jsx("p",{children:"Pay with"}),_.jsx("img",{src:"paystack.svg",className:"w-16 md:w-24"})]}),_.jsxs(Hi,{disabled:!0,className:"flex gap-2",children:[_.jsx("p",{children:"Pay with"}),_.jsx("img",{src:"paypal.svg",className:"w-16 md:w-24"})]}),_.jsxs(Hi,{disabled:!0,className:"flex gap-2",children:[_.jsx("p",{children:"Pay with"}),_.jsx("img",{src:"stripe.svg",className:"w-16 md:w-20"})]})]})]})]})]}),_.jsx("div",{className:"w-full top-[12%] right-0 h-auto bg-gray-600 px-2 pt-5 pb-5 md:fixed lg:px-5 md:pt-20 md:w-[25%] md:min-h-screen md:h-full",children:_.jsxs("div",{className:"bg-gray-800 px-4 py-3",children:[_.jsxs("div",{className:"flex items-start justify-between",children:[_.jsx("h2",{className:"text-xl font-bold",children:"Order Summary"}),_.jsx(ei,{to:"/user/carts",className:"text-sm text-rose-600 underline underline-offset-4 decoration-rose-600 decoration-dotted",children:"Edit cart"})]}),_.jsx("div",{className:"space-y-1 mt-4 mb-5",children:t.map((S,E)=>{const P=S.metadata;return _.jsxs("div",{className:"flex items-start justify-between",children:[_.jsxs("p",{className:"text-sm font-medium",children:[P==null?void 0:P.name,":"]}),_.jsxs("div",{children:[Xd(((P==null?void 0:P.price)||1)*((P==null?void 0:P.cartQuantity)||1),"currency",0),S.discount&&_.jsx("span",{className:"ml-1 text-xs",dangerouslySetInnerHTML:{__html:`-${S.discount.value}%`}})]})]},E)})}),_.jsx("hr",{}),_.jsxs("div",{className:"mt-5 flex items-center justify-between",children:[_.jsx("p",{className:"text-base font-medium",children:"Order Total:"}),_.jsx("p",{className:"text-lg font-extrabold",children:Xd(A)})]})]})})]})})},lG=()=>{var n,r,i;const{data:t}=Zm(),e=ec();return _.jsx(Il,{title:"User - View orders, profile and checkout  ",description:"__",children:_.jsx("div",{className:"px-4 py-10 md:py-20 md:px-8 lg:px-12",children:_.jsxs("div",{className:"flex flex-col border boder-white px-3 py-5 rounded-lg justify-between gap-12 lg:flex-row",children:[_.jsxs("div",{className:"flex flex-col gap-4 md:py-5",children:[((n=vt.currentUser)==null?void 0:n.displayName)&&_.jsxs("p",{className:"text-lg text-gray-200 font-bold px-3 lg:text-xl",children:["Welcome, ",(r=vt.currentUser)==null?void 0:r.displayName]}),_.jsxs(Iu,{to:"/user/carts",className:({isActive:s})=>`py-1.5 pl-5 pr-20 border-t border-x border-b-2 ${s?"bg-white bg-opacity-20":"bg-transparent"} border-gray-300 text-base font-medium whitespace-nowrap rounded-lg transition-all duration-150 ease-in-out hover:shadow-sm hover:shadow-gray-200 inline-flex gap-3`,children:["My Carts",_.jsx("span",{className:"border border-white rounded px-1.5 bg-white text-rose-700 text-sm font-bold text-center",children:t==null?void 0:t.length})]}),_.jsx(Iu,{to:"/user/orders",className:({isActive:s})=>`py-1.5 pl-5 pr-20 border-t border-x border-b-2 ${s?"bg-white bg-opacity-20":"bg-transparent"} border-gray-300 text-base font-medium whitespace-nowrap rounded-lg transition-all duration-150 ease-in-out hover:shadow-sm hover:shadow-gray-200 inline-flex gap-3`,children:"My Orders"}),_.jsx(Iu,{to:"/user/profile",className:({isActive:s})=>`py-1.5 pl-5 pr-20 border-t border-x border-b-2 ${s?"bg-white bg-opacity-20":"bg-transparent"} border-gray-300 text-base font-medium whitespace-nowrap rounded-lg transition-all duration-150 ease-in-out hover:shadow-sm hover:shadow-gray-200 inline-flex gap-3`,children:"Profile"}),((i=vt.currentUser)==null?void 0:i.uid)&&!vt.currentUser.isAnonymous&&_.jsx("div",{className:"mt-0 lg:mt-12",onClick:()=>TK().then(()=>{e("/")}),children:_.jsxs("button",{className:"flex items-center gap-2 border w-full py-1.5 px-2 rounded-lg",children:[_.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:_.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 12H4m12 0-4 4m4-4-4-4m3-4h2a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-2"})}),"Log out"]})})]}),_.jsx("div",{className:"grow h-auto border-t border-gray-500 py-8 md:px-4 lg:px-12 lg:py-0 lg:border-t-0 lg:border-l",children:_.jsx(k6,{})})]})})})},Qc=()=>{const t=FR(),{shortMessage:e,longMessage:n}=m7(t);return _.jsx(Il,{title:e,description:n,children:_.jsx("div",{className:"p-12",children:_.jsxs("div",{className:"space-y-9",children:[_.jsx("h1",{className:"text-6xl font-extrabold",children:"Whoops!"}),_.jsx("div",{className:"row",children:_.jsxs("div",{className:"col-md-12 manuals",children:[_.jsx("h2",{className:"font-bold text-lg",children:e}),_.jsx("p",{className:"text-sm",children:n})]})})]})})})};function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function uG(t,e){if(uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cG(t){var e=uG(t,"string");return uh(e)=="symbol"?e:e+""}function V2(t,e,n){return(e=cG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var U2=function(t){var e=t.decode,n=e===void 0?!0:e,r=t.crossOrigin,i=r===void 0?"":r;return function(s){return new Promise(function(a,u){var c=new Image;i&&(c.crossOrigin=i),c.onload=function(){n&&c.decode?c.decode().then(a).catch(u):a()},c.onerror=u,c.src=s})}};function EC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(n),!0).forEach(function(r){V2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var hG=function(e){return e.filter(function(n){return n})},fG=function(e){return Array.isArray(e)?e:[e]},Qr={},pG=function(e,n){var r=!1;return new Promise(function(i,s){var a=function(c){return n(c).then(function(){r=!0,i(c)})};e.reduce(function(u,c){return u.catch(function(){if(!r)return a(c)})},a(e.shift())).catch(s)})};function gG(t){var e=t.srcList,n=t.imgPromise,r=n===void 0?U2({decode:!0}):n,i=t.useSuspense,s=i===void 0?!0:i,a=W.useState(!1),u=a[1],c=hG(fG(e)),h=c.join("");if(Qr[h]||(Qr[h]={promise:pG(c,r),cache:"pending",error:null}),Qr[h].cache==="resolved")return{src:Qr[h].src,isLoading:!1,error:null};if(Qr[h].cache==="rejected"){if(s)throw Qr[h].error;return{isLoading:!1,error:Qr[h].error,src:void 0}}if(Qr[h].promise.then(function(p){Qr[h]=vp(vp({},Qr[h]),{},{cache:"resolved",src:p}),s||u(h)}).catch(function(p){Qr[h]=vp(vp({},Qr[h]),{},{cache:"rejected",error:p}),s||u(h)}),s)throw Qr[h].promise;return{isLoading:!0,src:void 0,error:null}}var mG=["decode","src","loader","unloader","container","loaderContainer","unloaderContainer","imgPromise","crossorigin","useSuspense"];function SC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SC(Object(n),!0).forEach(function(r){V2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ky=function(e){return e};function yG(t){var e=t.decode,n=e===void 0?!0:e,r=t.src,i=r===void 0?[]:r,s=t.loader,a=s===void 0?null:s,u=t.unloader,c=u===void 0?null:u,h=t.container,p=h===void 0?Ky:h,m=t.loaderContainer,y=m===void 0?Ky:m,A=t.unloaderContainer,R=A===void 0?Ky:A,I=t.imgPromise,N=t.crossorigin,S=t.useSuspense,E=S===void 0?!1:S,P=dG(t,mG);I=I||U2({decode:n,crossOrigin:N});var j=gG({srcList:i,imgPromise:I,useSuspense:E}),K=j.src,Q=j.isLoading;return K?p(we.createElement("img",vG({src:K},P))):!E&&Q?y(a):!E&&c?R(c):null}var j2={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(typeof self<"u"?self:xC,()=>(()=>{var n={d:(I,N)=>{for(var S in N)n.o(N,S)&&!n.o(I,S)&&Object.defineProperty(I,S,{enumerable:!0,get:N[S]})},o:(I,N)=>Object.prototype.hasOwnProperty.call(I,N),r:I=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})}},r={};n.r(r),n.d(r,{default:()=>R}),Number.prototype.clamp=function(I,N){return Math.min(Math.max(this,I),N)};function i(I){for(;I.children&&I.children.length>0;)i(I.children[0]),I.remove(I.children[0]);I.geometry&&I.geometry.dispose(),I.material&&(Object.keys(I.material).forEach(N=>{I.material[N]&&I.material[N]!==null&&typeof I.material[N].dispose=="function"&&I.material[N].dispose()}),I.material.dispose())}const s=typeof window=="object";let a=s&&window.THREE||{};s&&!window.VANTA&&(window.VANTA={});const u=s&&window.VANTA||{};u.register=(I,N)=>u[I]=S=>new N(S),u.version="0.5.24";const c=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};u.VantaBase=class{constructor(I={}){if(!s)return!1;u.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const N=typeof this.getDefaultOptions=="function"?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},N),(I instanceof HTMLElement||typeof I=="string")&&(I={el:I}),Object.assign(this.options,I),this.options.THREE&&(a=this.options.THREE),this.el=this.options.el,this.el==null)c('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const j=this.el;if(this.el=(S=j,document.querySelector(S)),!this.el)return void c("Cannot find element",j)}var S,E;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(j){return c("Init error",j),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(E=this.options.backgroundColor,typeof E=="number"?"#"+("00000"+E.toString(16)).slice(-6):E)))}this.initMouse(),this.resize(),this.animationLoop();const P=window.addEventListener;P("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(P("scroll",this.windowMouseMoveWrapper),P("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(P("touchstart",this.windowTouchWrapper),P("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&P("deviceorientation",this.windowGyroWrapper)}setOptions(I={}){Object.assign(this.options,I),this.triggerMouseMove()}prepareEl(){let I,N;if(typeof Node<"u"&&Node.TEXT_NODE)for(I=0;I<this.el.childNodes.length;I++){const S=this.el.childNodes[I];if(S.nodeType===Node.TEXT_NODE){const E=document.createElement("span");E.textContent=S.textContent,S.parentElement.insertBefore(E,S),S.remove()}}for(I=0;I<this.el.children.length;I++)N=this.el.children[I],getComputedStyle(N).position==="static"&&(N.style.position="relative"),getComputedStyle(N).zIndex==="auto"&&(N.style.zIndex=1);getComputedStyle(this.el).position==="static"&&(this.el.style.position="relative")}applyCanvasStyles(I,N={}){Object.assign(I.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(I.style,N),I.classList.add("vanta-canvas")}initThree(){a.WebGLRenderer?(this.renderer=new a.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new a.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const I=this.getCanvasElement();return!!I&&I.getBoundingClientRect()}windowMouseMoveWrapper(I){const N=this.getCanvasRect();if(!N)return!1;const S=I.clientX-N.left,E=I.clientY-N.top;S>=0&&E>=0&&S<=N.width&&E<=N.height&&(this.mouseX=S,this.mouseY=E,this.options.mouseEase||this.triggerMouseMove(S,E))}windowTouchWrapper(I){const N=this.getCanvasRect();if(!N)return!1;if(I.touches.length===1){const S=I.touches[0].clientX-N.left,E=I.touches[0].clientY-N.top;S>=0&&E>=0&&S<=N.width&&E<=N.height&&(this.mouseX=S,this.mouseY=E,this.options.mouseEase||this.triggerMouseMove(S,E))}}windowGyroWrapper(I){const N=this.getCanvasRect();if(!N)return!1;const S=Math.round(2*I.alpha)-N.left,E=Math.round(2*I.beta)-N.top;S>=0&&E>=0&&S<=N.width&&E<=N.height&&(this.mouseX=S,this.mouseY=E,this.options.mouseEase||this.triggerMouseMove(S,E))}triggerMouseMove(I,N){I===void 0&&N===void 0&&(this.options.mouseEase?(I=this.mouseEaseX,N=this.mouseEaseY):(I=this.mouseX,N=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=I/this.scale,this.uniforms.iMouse.value.y=N/this.scale);const S=I/this.width,E=N/this.height;typeof this.onMouseMove=="function"&&this.onMouseMove(S,E)}setSize(){this.scale||(this.scale=1),typeof navigator<"u"&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600)&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,typeof this.camera.updateProjectionMatrix=="function"&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),typeof this.onResize=="function"&&this.onResize()}isOnScreen(){const I=this.el.offsetHeight,N=this.el.getBoundingClientRect(),S=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,E=N.top+S;return E-window.innerHeight<=S&&S<=E+I}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const I=performance.now();if(this.prevNow){let N=(I-this.prevNow)/16.666666666666668;N=Math.max(.2,Math.min(N,5)),this.t+=N,this.t2+=(this.options.speed||1)*N,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=I,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&(typeof this.onUpdate=="function"&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),typeof this.afterRender=="function"&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);typeof this.onRestart=="function"&&this.onRestart(),this.init()}init(){typeof this.onInit=="function"&&this.onInit()}destroy(){typeof this.onDestroy=="function"&&this.onDestroy();const I=window.removeEventListener;I("touchstart",this.windowTouchWrapper),I("touchmove",this.windowTouchWrapper),I("scroll",this.windowMouseMoveWrapper),I("mousemove",this.windowMouseMoveWrapper),I("deviceorientation",this.windowGyroWrapper),I("resize",this.resize),window.cancelAnimationFrame(this.req);const N=this.scene;N&&N.children&&i(N),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),u.current===this&&(u.current=null)}};const h=u.VantaBase;let p=typeof window=="object"&&window.THREE;class m extends h{constructor(N){p=N.THREE||p,p.Color.prototype.toVector=function(){return new p.Vector3(this.r,this.g,this.b)},super(N),this.updateUniforms=this.updateUniforms.bind(this)}init(){this.mode="shader",this.uniforms={iTime:{type:"f",value:1},iResolution:{type:"v2",value:new p.Vector2(1,1)},iDpr:{type:"f",value:window.devicePixelRatio||1},iMouse:{type:"v2",value:new p.Vector2(this.mouseX||0,this.mouseY||0)}},super.init(),this.fragmentShader&&this.initBasicShader()}setOptions(N){super.setOptions(N),this.updateUniforms()}initBasicShader(N=this.fragmentShader,S=this.vertexShader){S||(S=`uniform float uTime;
uniform vec2 uResolution;
void main() {
  gl_Position = vec4( position, 1.0 );
}`),this.updateUniforms(),typeof this.valuesChanger=="function"&&this.valuesChanger();const E=new p.ShaderMaterial({uniforms:this.uniforms,vertexShader:S,fragmentShader:N}),P=this.options.texturePath;P&&(this.uniforms.iTex={type:"t",value:new p.TextureLoader().load(P)});const j=new p.Mesh(new p.PlaneGeometry(2,2),E);this.scene.add(j),this.camera=new p.Camera,this.camera.position.z=1}updateUniforms(){const N={};let S,E;for(S in this.options)E=this.options[S],S.toLowerCase().indexOf("color")!==-1?N[S]={type:"v3",value:new p.Color(E).toVector()}:typeof E=="number"&&(N[S]={type:"f",value:E});return Object.assign(this.uniforms,N)}resize(){super.resize(),this.uniforms.iResolution.value.x=this.width/this.scale,this.uniforms.iResolution.value.y=this.height/this.scale}}let y=typeof window=="object"&&window.THREE;class A extends m{constructor(N){y=N.THREE||y,super(N)}getDefaultOptions(){return{baseColor:6745,color2:15918901,backgroundColor:1251907,amplitudeFactor:1,ringFactor:1,rotationFactor:1,xOffset:0,yOffset:0,size:1,speed:1,mouseEase:!0,scaleMobile:1,scale:1}}onInit(){const N={minFilter:y.LinearFilter,magFilter:y.LinearFilter,format:y.RGBFormat},S=this.width*window.devicePixelRatio/this.scale,E=this.height*window.devicePixelRatio/this.scale;this.bufferTarget=new y.WebGLRenderTarget(S,E,N),this.bufferFeedback=new y.WebGLRenderTarget(S,E,N)}initBasicShader(N,S){super.initBasicShader(N,S),this.uniforms.iBuffer={type:"t",value:this.bufferTarget.texture}}onUpdate(){this.uniforms.iBuffer.value=this.bufferFeedback.texture;const N=this.renderer;N.setRenderTarget(this.bufferTarget),N.render(this.scene,this.camera),N.setRenderTarget(null),N.clear();let S=this.bufferTarget;this.bufferTarget=this.bufferFeedback,this.bufferFeedback=S}onResize(){if(this.bufferTarget){const N=this.width*window.devicePixelRatio/this.scale,S=this.height*window.devicePixelRatio/this.scale;this.bufferTarget.setSize(N,S),this.bufferFeedback.setSize(N,S)}}onDestroy(){this.bufferTarget=null,this.bufferFeedback=null}}const R=u.register("HALO",A);return A.prototype.fragmentShader=`uniform vec2 iResolution;
uniform float iDpr;
uniform vec2 iMouse;
uniform float iTime;

uniform float xOffset;
uniform float yOffset;
uniform vec3 baseColor;
uniform vec3 color2;
uniform vec3 backgroundColor;
uniform float size;
uniform float shape;
uniform float ringFactor;
uniform float rotationFactor;
uniform float amplitudeFactor;

uniform sampler2D iBuffer;
uniform sampler2D iTex;
const float PI = 3.14159265359;

// float length2(vec2 p) { return dot(p, p); }

// float noise(vec2 p){
//   return fract(sin(fract(sin(p.x) * (43.13311)) + p.y) * 31.0011);
// }

// float worley(vec2 p) {
//     float d = 1e30;
//     for (int xo = -1; xo <= 1; ++xo) {
//         for (int yo = -1; yo <= 1; ++yo) {
//             vec2 tp = floor(p) + vec2(xo, yo);
//             d = min(d, length2(p - tp - vec2(noise(tp))));
//         }
//     }
//     vec2 uv = gl_FragCoord.xy / iResolution.xy;
//     float timeOffset =  0.15 * sin(iTime * 2.0 + 10.0*(uv.x - uv.y));
//     return 3.0*exp(-4.0*abs(2.0*d - 1.0 + timeOffset));
// }

// float fworley(vec2 p) {
//     return sqrt(
//     1.1 * // light
//     worley(p*10. + .3 + iTime*.0525) *
//     sqrt(worley(p * 50. / size + 0.1 + iTime * -0.75)) *
//     4.1 *
//     sqrt(sqrt(worley(p * -1. + 9.3))));
// }

vec4 j2hue(float c) {
  return .5+.5*cos(6.28*c+vec4(0,-2.1,2.1,0));
}

vec3 permute(vec3 x) { return mod(((x*34.0)+1.0)*x, 289.0); }

float snoise(vec2 v){
  const vec4 C = vec4(0.211324865405187, 0.366025403784439,
           -0.577350269189626, 0.024390243902439);
  vec2 i  = floor(v + dot(v, C.yy) );
  vec2 x0 = v -   i + dot(i, C.xx);
  vec2 i1;
  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);
  vec4 x12 = x0.xyxy + C.xxzz;
  x12.xy -= i1;
  i = mod(i, 289.0);
  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))
  + i.x + vec3(0.0, i1.x, 1.0 ));
  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy),
    dot(x12.zw,x12.zw)), 0.0);
  m = m*m ;
  m = m*m ;
  vec3 x = 2.0 * fract(p * C.www) - 1.0;
  vec3 h = abs(x) - 0.5;
  vec3 ox = floor(x + 0.5);
  vec3 a0 = x - ox;
  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );
  vec3 g;
  g.x  = a0.x  * x0.x  + h.x  * x0.y;
  g.yz = a0.yz * x12.xz + h.yz * x12.yw;
  return 130.0 * dot(m, g);
}

vec2 sincos( float x ){return vec2(sin(x), cos(x));}
vec2 rotate2d(vec2 uv, float phi){vec2 t = sincos(phi); return vec2(uv.x*t.y-uv.y*t.x, uv.x*t.x+uv.y*t.y);}
vec3 rotate3d(vec3 p, vec3 v, float phi){ v = normalize(v); vec2 t = sincos(-phi); float s = t.x, c = t.y, x =-v.x, y =-v.y, z =-v.z; mat4 M = mat4(x*x*(1.-c)+c,x*y*(1.-c)-z*s,x*z*(1.-c)+y*s,0.,y*x*(1.-c)+z*s,y*y*(1.-c)+c,y*z*(1.-c)-x*s,0.,z*x*(1.-c)-y*s,z*y*(1.-c)+x*s,z*z*(1.-c)+c,0.,0.,0.,0.,1.);return (vec4(p,1.)*M).xyz;}

// Classic Perlin 3D Noise
// by Stefan Gustavson
vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}
vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}
float p3d(vec3 P){
  vec3 Pi0 = floor(P); // Integer part for indexing
  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1
  Pi0 = mod(Pi0, 289.0);
  Pi1 = mod(Pi1, 289.0);
  vec3 Pf0 = fract(P); // Fractional part for interpolation
  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
  vec4 iy = vec4(Pi0.yy, Pi1.yy);
  vec4 iz0 = Pi0.zzzz;
  vec4 iz1 = Pi1.zzzz;

  vec4 ixy = permute(permute(ix) + iy);
  vec4 ixy0 = permute(ixy + iz0);
  vec4 ixy1 = permute(ixy + iz1);

  vec4 gx0 = ixy0 / 7.0;
  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
  gx0 = fract(gx0);
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
  vec4 sz0 = step(gz0, vec4(0.0));
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);

  vec4 gx1 = ixy1 / 7.0;
  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
  gx1 = fract(gx1);
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
  vec4 sz1 = step(gz1, vec4(0.0));
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);

  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);

  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
  g000 *= norm0.x;
  g010 *= norm0.y;
  g100 *= norm0.z;
  g110 *= norm0.w;
  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
  g001 *= norm1.x;
  g011 *= norm1.y;
  g101 *= norm1.z;
  g111 *= norm1.w;

  float n000 = dot(g000, Pf0);
  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
  float n111 = dot(g111, Pf1);

  vec3 fade_xyz = fade(Pf0);
  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
  return 2.2 * n_xyz;
}


void main() {
  vec2 res2 = iResolution.xy * iDpr;
  vec2 pixel = vec2(gl_FragCoord.xy - 0.5 * res2) / res2.y; // center-origin pixel coord
  pixel.x -= xOffset * res2.x / res2.y;
  pixel.y -= yOffset;

  vec2 uv = gl_FragCoord.xy / res2; // 0 to 1

  // float nn1 = snoise(uv * 0.25 + iTime * 0.005 + mixedColor.b * 0.01) * 0.1;
  // float nn2 = snoise(uv * 0.25 + iTime * 0.005 + mixedColor.b * 0.01 + 1000.) * 0.1;
  // uv += vec2(nn1, nn2);

  // PERLIN DISTORTION
  // float noiseScale = 10.;
  // float timeScale = 0.5;
  // uv += vec2( p3d(vec3(uv * noiseScale, iTime * timeScale)), p3d(vec3(1000. + uv * noiseScale , iTime * timeScale)) ) * 0.001;

  // uv = rotate2d(uv, 0.001);
  // pixel = rotate2d(pixel, 0.001);

  vec2 mouse2 = (iMouse * iDpr / res2 - 0.5) * vec2(1.,-1.);
  vec2 uvBig = (uv - 0.5) * 0.996 + 0.5;

  vec4 oldImage = texture2D(iBuffer, uv);
  vec3 mixedColor = oldImage.rgb - backgroundColor;

  // float spinDist = 0.002 + 0.002 * sin(iTime * 0.4);
  float cropDist = 0.01;
  float cropXOffset = 0.2;
  float cropYOffset = 0.2;
  // float cropXOffset = 0.4 + 0.1 * sin(iTime * 0.4);
  // float cropYOffset = 0.4 + 0.1 * cos(iTime * 0.6);

  vec2 offset = uv + vec2((mixedColor.g - cropXOffset) * cropDist, (mixedColor.r - cropYOffset) * cropDist);

  // float nn = snoise(uv * 10.) * 0.001;
  // offset += nn;

  float spinDist = 0.001;
  float spinSpeed = 0.2 + 0.15 * cos(iTime * 0.5);
  float timeFrac = mod(iTime, 6.5);
  vec2 offset2 = uvBig + vec2(cos(timeFrac * spinSpeed) * spinDist, sin(timeFrac * spinSpeed) * spinDist);

  mixedColor = texture2D(iBuffer, offset).rgb * 0.4
    + texture2D(iBuffer, offset2).rgb * 0.6
    - backgroundColor;


  // mixedColor *= .875;
  float fadeAmt = 0.0015; // fade this amount each frame // 0.002
  mixedColor = (mixedColor - fadeAmt) * .995;

  // float nn = snoise(uvBig * 10.) * 20.;
  // mixedColor *= clamp(nn, 0.98, 1.0);

  vec4 spectrum = abs( abs( .95*atan(uv.x, uv.y) -vec4(0,2,4,0) ) -3. )-1.;
  float angle = atan(pixel.x, pixel.y);
  float dist = length(pixel - mouse2*0.15) * 8. + sin(iTime) * .01;

  // mixedColor *= pow(1.-dist*0.002, 2.);


  // Flowery shapes
  // float edge = abs(dist * 0.5);
  float flowerPeaks = .05 * amplitudeFactor * size;
  float flowerPetals = 7.;
  float edge = abs((dist + sin(angle * flowerPetals + iTime * 0.5) * sin(iTime * 1.5) * flowerPeaks) * 0.65 / size);
  // float edge = abs((dist + sin(angle * 4. + iTime * 2.) * sin(iTime * 3.) * 0.75) * 1.);

  // vec4 rainbow = abs( abs( .95*mod(iTime * 1., 2. * PI) - vec4(0,2,4,0) ) -3. )-1.;
  // vec4 rainbow = vec4(0,2,4,0);

  float colorChangeSpeed = 0.75 + 0.05 * sin(iTime) * 1.5;
  float rainbowInput = timeFrac * colorChangeSpeed;
  // NOISE!
  // float nn = snoise(uv * 0.25 + iTime * 0.005 + mixedColor.b * 0.01) * 20.;
  // rainbowInput += nn;

  float brightness = 0.7;
  vec4 rainbow = sqrt(j2hue(cos(rainbowInput))) + vec4(baseColor,0) - 1.0 + brightness;
  float factor = smoothstep(1., .9, edge) * pow(edge, 2.);
  vec3 color = rainbow.rgb * smoothstep(1., .9, edge) * pow(edge, 20.);
  vec4 ring = vec4(
    backgroundColor + clamp( mixedColor + color, 0., 1.)
    , 1.0);

  // float t = fworley(uv * u_resolution.xy / 1500.0);
  // t *= exp(-length2(abs(0.7*uv - 1.0)));
  // float tExp = pow(t, 2. - t);
  // vec3 c1 = color1 * (1.0 - t);
  // vec3 c2 = color2 * tExp;
  // vec4 cells = vec4(mixedColor * 0.25, 1.) + vec4(pow(t, 1.0 - t) * (c1 + c2), 1.0);
  // gl_FragColor = clamp(ring + cells * 0.5, 0.0, 1.0);

  // float nn = snoise(uv * 10.) * 0.01; // creepy!
  gl_FragColor = ring;
}
`,r})())})(j2);var _G=j2.exports;const wG=sm(_G),EG=({className:t="w-10 h-10",text:e})=>_.jsxs("div",{role:"status",className:"flex flex-col items-center justify-center gap-3",children:[_.jsxs("svg",{"aria-hidden":"true",className:`inline text-white animate-spin fill-rose-700 ${t}`,viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),_.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),_.jsx("span",{className:"sr-only",children:"Loading..."}),_.jsx("span",{className:"font-medium text-white underline underline-offset-2 decoration-dotted tracking-wide",children:e})]}),SG=({path:t,className:e,displayCanva:n})=>{const{data:r}=RK(t),[i,s]=W.useState(null),a=W.useRef(null);return W.useEffect(()=>(i||s(wG({el:a.current,mouseControls:!0,touchControls:!0,gyroControls:!1,scale:1,scaleMobile:1,color1:16777215,backgroundColor:2042167,size:1.1,yOffset:.16})),()=>{i&&i.destroy()}),[i]),_.jsxs(_.Fragment,{children:[_.jsx("div",{className:`${!r||n?"block":"hidden"} rounded-3xl overflow-hidden w-96 h-[20rem] md:h-[30rem]`,children:_.jsx("div",{ref:a,className:"rounded-lg min-w-[25rem] min-h-[50rem]",children:_.jsx(_.Fragment,{})})}),_.jsx("div",{className:`${!r||n?"hidden":"block"}`,children:_.jsx(yG,{loader:_.jsx("div",{className:`${e} flex items-center justify-center`,children:_.jsx(EG,{text:"loading...",className:"fill-palma-700 w-10 h-10"})}),src:r,className:e})})]})},TG=({product:t,type:e})=>{var i,s,a,u,c;const n=W.useRef(null),[,r]=W.useState(t.cartQuantity||1);return _.jsxs("div",{className:`flex ${e==="carts_listing"?"flex-col items-stretch gap-2 md:flex-row":"pb-4 flex-col"} justify-start leading-normal rounded-xl shadow-sm shadow-gray-600`,children:[_.jsx(ei,{to:`/products/${t.id}`,children:_.jsx("div",{className:`bg-no-repeat bg-contain bg-center ${e==="carts_listing"?"w-full h-60 rounded-t-xl md:rounded-t-none md:rounded-ss-xl md:rounded-es-xl md:w-40 md:min-h-52":"w-full h-80 rounded-t-xl"} bg-white/95 bg-[url('/favicon.svg')]`})}),_.jsxs("div",{className:`${e==="carts_listing"?"px-3 py-4 grow":"px-2 mt-4 grow"} flex flex-col justify-between`,children:[_.jsxs("div",{className:"",children:[_.jsxs("div",{className:"flex flex-col items-start justify-between gap-1.5 mb-1 lg:flex-row",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-xl",children:t.name}),e==="carts_listing"&&_.jsx("p",{className:"text-gray-200 text-sm",children:t.description})]}),_.jsxs("div",{children:[_.jsxs("p",{className:"text-2xl text-left text-rose-600 font-bold lg:text-right",children:[Xd(t.price*(t.cartQuantity||1),"currency",0),(t==null?void 0:t.discount)&&_.jsx("span",{className:"align-super ml-1 text-sm",dangerouslySetInnerHTML:{__html:`-${t.discount.value}%`}})]}),t.salePrice&&_.jsx("p",{className:"text-sm text-left text-rose-600 font-semibold line-through lg:text-right",children:Xd(t.salePrice,"currency",0)})]})]}),e!=="carts_listing"&&_.jsx("p",{className:"text-gray-200 text-sm",children:t.description})]}),e==="carts_listing"&&_.jsxs("div",{className:"border-b border-dotted py-2",children:[_.jsx("p",{className:"text-xs py-2 italic font-medium border-y border-dotted decoration-dotted md:py-1",children:"Use any of the discount code below to receive promo on this product price"}),_.jsxs("div",{className:"flex gap-8 items-start justify-start py-2 md:gap-2",children:[_.jsxs("div",{className:"inline-flex flex-col gap-y-3 items-start rounded-md shadow-sm md:flex-row",role:"group",children:[_.jsxs("button",{type:"button",onClick:()=>{var h;((h=t.discount)==null?void 0:h.name)!=="#chameleon"&&cC(t,{name:"#chameleon",value:5})},className:`inline-flex items-center gap-0.5 px-1.5 py-0.5 text-sm font-medium text-chameleon border border-gray-200 rounded-s-lg rounded-e-lg md:rounded-s-lg md:rounded-e-none ${((i=t.discount)==null?void 0:i.name)=="#chameleon"?"bg-white":"bg-gray-700"}`,children:[((s=t.discount)==null?void 0:s.name)=="#chameleon"&&_.jsx("svg",{className:"w-4 h-4 text-chameleon","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:_.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",d:"M5 11.917 9.724 16.5 19 7.5"})}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"italic text-xs",children:"#chameleon"}),_.jsx("div",{className:"border text-xs border-chameleon px-1 py-0.5 rounded",children:"5%"})]})]}),_.jsxs("button",{type:"button",className:`inline-flex items-center gap-2 px-1.5 py-0.5 text-sm font-medium text-chameleon border border-gray-200 rounded-s-lg rounded-e-lg md:rounded-s-none md:rounded-e-lg  ${((a=t.discount)==null?void 0:a.name)=="#hackathonchameleon"?"bg-white":"bg-gray-700"}`,onClick:()=>{var h;((h=t.discount)==null?void 0:h.name)!=="#hackathonchameleon"&&cC(t,{name:"#hackathonchameleon",value:10})},children:[((u=t.discount)==null?void 0:u.name)=="#hackathonchameleon"&&_.jsx("svg",{className:"w-4 h-4 text-chameleon","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:_.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",d:"M5 11.917 9.724 16.5 19 7.5"})}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"italic text-xs",children:"#hackathonchameleon"}),_.jsx("div",{className:"border text-xs border-chameleon px-1 py-0.5 rounded",children:"10%"})]})]})]}),(t==null?void 0:t.discount)&&_.jsxs("div",{onClick:()=>yK(t),className:"flex items-center gap-0.5 text-sm p-0 cursor-pointer underline underline-offset-2 decoration-dotted",children:["×",_.jsx("span",{children:"clear"})]})]})]}),_.jsxs("div",{className:`mt-3 flex ${e==="carts_listing"?"justify-between":"justify-end"} flex-wrap items-start gap-y-2`,children:[e==="carts_listing"&&_.jsxs("div",{className:"flex flex-col gap-2",children:[_.jsxs("div",{className:"flex items-center gap-x-1.5",children:[_.jsx("p",{className:"text-base font-bold underline underline-offset-2 decoration-dotted",children:"Quantity:"}),_.jsx("p",{children:t.cartQuantity})]}),_.jsxs("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[_.jsx("button",{type:"button",onClick:()=>{n.current&&(n.current.value=""),zy(t,-1),r(h=>h-1)},className:"inline-flex items-center px-2 py-1 text-sm font-medium bg-transparent border rounded-s-md  focus:z-10 focus:ring-2 focus:ring-gray-500 focus:text-white border-white text-white hover:text-white hover:bg-gray-700 focus:bg-gray-700",children:_.jsx("svg",{className:"w-5 h-5 text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:_.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M5 12h14"})})}),_.jsx("input",{type:"text",min:0,ref:n,placeholder:(c=t==null?void 0:t.cartQuantity)==null?void 0:c.toString(),onChange:h=>{const p=h.target.value,m=Number(p);isNaN(m)||(zy(t,m,"insert"),r(m))},className:"inline text-white placeholder:text-gray-400 text-base bg-transparent max-w-12 text-center border border-white focus:outline-none focus:ring-0"}),_.jsx("button",{type:"button",onClick:()=>{n.current&&(n.current.value=""),zy(t,1),r(h=>h+1)},className:"inline-flex items-center px-2 py-1 text-sm font-medium bg-transparent border rounded-e-md  focus:z-10 focus:ring-2 focus:ring-gray-500 focus:text-white border-white text-white hover:text-white hover:bg-gray-700 focus:bg-gray-700",children:_.jsx("svg",{className:"w-5 h-5 text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:_.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M5 12h14m-7 7V5"})})})]})]}),_.jsx(Hi,{text:e!=="carts_listing"?"Add to cart":"Remove",onClick:()=>{e==="carts_listing"?mK(t).then(()=>{}):gK(t).then(()=>{})}})]})]})]})},B2=({products:t,type:e="product_listing"})=>_.jsx("div",{className:`grid ${e==="carts_listing"?"grid-cols-1":"grid-cols-1 sm:grid-cols-2 xl:grid-cols-4"} gap-6`,children:t.map((n,r)=>_.jsx(TG,{product:n,type:e},n.id||r))}),xG=()=>{const{data:t}=AK();return _.jsx(Il,{title:"Gadget Enterprise",description:"The enterprise with the latest in laptops, mobile and gadgets",children:_.jsxs("div",{className:"px-5 py-10 space-y-5 md:px-10",children:[_.jsxs("div",{className:"relative flex items-center justify-between py-10 gap-8 md:py-28",children:[_.jsxs("div",{className:"relative z-50 space-y-2 w-full md:w-3/4",children:[_.jsxs("div",{className:"hidden md:block space-y-6",children:[_.jsx("p",{className:"text-6xl font-extrabold lg:text-8xl",children:"Laptop ."}),_.jsx("p",{className:"text-6xl font-extrabold whitespace-nowrap lg:text-8xl",children:"Mobile . Gadgets ."})]}),_.jsxs("div",{className:"block md:hidden ml-2 space-y-6",children:[_.jsxs("p",{className:"text-5xl font-extrabold whitespace-nowrap",children:["Laptop"," "]}),_.jsx("p",{className:"text-5xl ml-4 font-extrabold whitespace-nowrap",children:". Mobile ."}),_.jsx("p",{className:"text-5xl ml-10 font-extrabold whitespace-nowrap",children:"Gadgets ."})]}),_.jsx("p",{className:"text-sm font-semibold md:text-base",children:"Power Up Your Life: The Latest in Laptops, Mobile, and Gadgets"})]}),_.jsx("div",{className:"absolute z-30 -right-4 top-0 md:right-0",children:_.jsx(SG,{path:"hero.svg",className:"w-full h-[16rem] md:h-[30rem]",displayCanva:!0})})]}),_.jsx("hr",{}),_.jsxs("div",{id:"shop",children:[_.jsx("p",{className:"text-lg font-medium",children:"Best Selling Products"}),_.jsx("div",{className:"mt-4",children:_.jsx(B2,{products:t||[]})})]}),_.jsx("hr",{}),_.jsxs("div",{children:[_.jsx("p",{className:"text-lg font-medium",children:"You Might Like This"}),_.jsx("div",{className:"mt-4"})]})]})})},IG=()=>{const{data:t}=Zm();return _.jsxs(_.Fragment,{children:[_.jsxs("h3",{className:"text-4xl font-bold tracking-wider",children:["My Carts [",t.length,"]"]}),t.length>0&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"mt-9",children:_.jsx(B2,{type:"carts_listing",products:t.map(e=>({cartQuantity:e.quantity,discount:e.discount,...e.metadata}))})}),_.jsxs("div",{className:"flex mt-2 items-center justify-end gap-2",children:[_.jsx("p",{className:"text-lg font-semibold",children:"Total:"}),_.jsx("p",{className:"text-base font-bold underline underline-offset-4 decoration-dotted",children:Xd(Cd.sumBy(t,e=>{var n,r;if(e.metadata){let i=e.metadata.price;return(n=e.discount)!=null&&n.value&&(i=e.metadata.price*(1-(((r=e.discount)==null?void 0:r.value)||1)/100)),i*e.quantity}}))})]}),_.jsx("div",{className:"flex flex-col items-end mt-8",children:_.jsx(ei,{to:"/checkout",className:"inline-flex items-center px-4 py-0.5 text-base font-medium text-center rounded-lg bg-rose-700 hover:bg-rose-800 border-4 border-transparent hover:border-gray-800 hover:ring-2 hover:outline-none hover:ring-rose-600",children:"Checkout"})})]})||_.jsx("div",{className:"mt-9 bg-gray-200 bg-opacity-50 rounded px-2 py-6",children:_.jsx("p",{className:"font-bold text-center",children:"No item in cart"})})]})},CG=()=>{const{data:t}=PK();return _.jsxs(_.Fragment,{children:[_.jsx("h3",{className:"text-4xl font-bold tracking-wider",children:"My Orders"}),_.jsx("div",{className:"mt-6 w-1/2",children:JSON.stringify(t)})]})},AG=({profile:t})=>{const{control:e}=ah({mode:"all"});return _.jsxs(_.Fragment,{children:[_.jsx("h3",{className:"text-4xl font-bold tracking-wider",children:"My Profile"}),_.jsx("div",{className:"mt-6 w-1/2",children:JSON.stringify(t)}),_.jsxs("form",{className:"mt-6 space-y-6 md:space-y-12",children:[_.jsxs("div",{className:"flex flex-col gap-6 md:gap-12 md:flex-row",children:[_.jsx(Gt,{name:"first_name",control:e,placeholder:"First Name",rules:{required:"First Name is required"}}),_.jsx(Gt,{name:"last_name",control:e,placeholder:"Last Name",rules:{required:"Last name is required"}})]}),_.jsx("div",{children:_.jsx(Gt,{name:"email",disabled:!0,value:"email-is-here",control:e,placeholder:"Email"})}),_.jsxs("div",{className:"flex flex-col gap-6 md:gap-12 md:flex-row",children:[_.jsx(Gt,{type:"date",name:"dob",control:e,placeholder:"Date of birth"}),_.jsx(Gt,{name:"address",control:e,placeholder:"Address"})]}),_.jsx("div",{children:_.jsx(Gt,{name:"phone",control:e,defaultValue:"ola",placeholder:"Phone number",rules:{required:"Phone number is required"}})}),_.jsx("div",{className:"flex flex-col items-end",children:_.jsx(Hi,{children:"Update"})})]})]})},PG=t=>t.map(e=>({...e,element:_.jsx(RG,{children:e.element})})),eu=({children:t,middlewares:e})=>{const{data:n,isLoading:r,isFetching:i}=NE();if(!(r||i)){if(e&&e.includes("auth")&&!(n!=null&&n.isAnonymous)&&!(n!=null&&n.uid))return _.jsx(jx,{to:"/login"});if(e&&e.includes("guest")&&n!=null&&n.uid&&!n.isAnonymous)return _.jsx(jx,{to:"/"})}return t},RG=({children:t})=>{const e=wl();return W.useLayoutEffect(()=>{document.documentElement.scrollTo(0,0)},[e.pathname]),t},bG=[{path:"/",element:_.jsx(eu,{children:_.jsx(xG,{})}),errorElement:_.jsx(Qc,{})},{path:"/user",element:_.jsx(eu,{middlewares:["auth"],children:_.jsx(lG,{})}),errorElement:_.jsx(Qc,{}),children:[{path:"orders",element:_.jsx(CG,{})},{path:"carts",element:_.jsx(IG,{})},{path:"profile",element:_.jsx(AG,{})}]},{path:"/login",element:_.jsx(eu,{middlewares:["guest"],children:_.jsx(wC,{})}),errorElement:_.jsx(Qc,{})},{path:"/register",element:_.jsx(eu,{middlewares:["guest"],children:_.jsx(wC,{})}),errorElement:_.jsx(Qc,{})},{path:"/forgot-password",element:_.jsx(eu,{middlewares:["guest"],children:_.jsx(YK,{})}),errorElement:_.jsx(Qc,{})},{path:"/checkout",element:_.jsx(eu,{middlewares:["checkout"],children:_.jsx(aG,{})})},{path:"/help",element:_.jsx(Il,{title:"Help",description:"Reach to us for help concerning our site",children:_.jsx(Hi,{onClick:()=>pK("Products",v7).then(t=>{console.log("data is added",t)}),children:"Add product data"})})}],kG=U6(PG(bG)),NG="us-east-2",OG="us-east-2:b637e3f4-9a6c-4ab9-aba0-d10f180e1fc4",DG="us-east-2",LG="us-east-2_m39I4CcB0",MG="61dqfdo27c93ln9l65pachs1lp",FG={},VG=["EMAIL"],UG=[],jG=["EMAIL","GENDER","LOCALE"],BG="OPTIONAL",$G=["SMS"],zG={passwordPolicyMinLength:8,passwordPolicyCharacters:[]},WG=["EMAIL"],qG="vint243115ab8e554aa7aacf102180f17e50bdcb5-dev",HG="us-east-2",KG={aws_project_region:NG,aws_cognito_identity_pool_id:OG,aws_cognito_region:DG,aws_user_pools_id:LG,aws_user_pools_web_client_id:MG,oauth:FG,aws_cognito_username_attributes:VG,aws_cognito_social_providers:UG,aws_cognito_signup_attributes:jG,aws_cognito_mfa_configuration:BG,aws_cognito_mfa_types:$G,aws_cognito_password_protection_settings:zG,aws_cognito_verification_mechanisms:WG,aws_user_files_s3_bucket:qG,aws_user_files_s3_bucket_region:HG},GG=new cj({defaultOptions:{queries:{refetchInterval:!1,staleTime:1/0}}});localStorage.theme="dark";jU.configure(KG);e0.createRoot(document.getElementById("root")).render(_.jsx(we.StrictMode,{children:_.jsx(gj,{client:GG,children:_.jsxs(p7,{children:[_.jsx(h7,{position:"top-left",autoClose:6e3,limit:3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark",transition:c7}),_.jsx(K6,{router:kG}),_.jsx(Ej.ReactQueryDevtools,{})]})})}));
